---
ID: "f45d8798-51c1-4b4f-93fb-94abad64c2df"
Parent: "d36a4f96-b2fb-40e2-b30e-eb3d191db876"
Template: "b43ab8d5-e123-42dd-8042-de869cc98c4f"
Path: "/sitecore/media library/Themes/StandBlog/StandBlog/Site theme name/Scripts/optimized-min"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: People/32x32/package.png
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "b5b846c5-1eff-41e0-8f0c-df0a2c3073bf"
  Value: LyohIGpRdWVyeSBVSSAtIHYxLjExLjIgLSAyMDE0LTEwLTE2CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiBjb3JlLmpzLCB3aWRnZXQuanMsIG1vdXNlLmpzLCBwb3NpdGlvbi5qcywgYWNjb3JkaW9uLmpzLCBhdXRvY29tcGxldGUuanMsIGJ1dHRvbi5qcywgZGF0ZXBpY2tlci5qcywgZGlhbG9nLmpzLCBkcmFnZ2FibGUuanMsIGRyb3BwYWJsZS5qcywgZWZmZWN0LmpzLCBlZmZlY3QtYmxpbmQuanMsIGVmZmVjdC1ib3VuY2UuanMsIGVmZmVjdC1jbGlwLmpzLCBlZmZlY3QtZHJvcC5qcywgZWZmZWN0LWV4cGxvZGUuanMsIGVmZmVjdC1mYWRlLmpzLCBlZmZlY3QtZm9sZC5qcywgZWZmZWN0LWhpZ2hsaWdodC5qcywgZWZmZWN0LXB1ZmYuanMsIGVmZmVjdC1wdWxzYXRlLmpzLCBlZmZlY3Qtc2NhbGUuanMsIGVmZmVjdC1zaGFrZS5qcywgZWZmZWN0LXNpemUuanMsIGVmZmVjdC1zbGlkZS5qcywgZWZmZWN0LXRyYW5zZmVyLmpzLCBtZW51LmpzLCBwcm9ncmVzc2Jhci5qcywgcmVzaXphYmxlLmpzLCBzZWxlY3RhYmxlLmpzLCBzZWxlY3RtZW51LmpzLCBzbGlkZXIuanMsIHNvcnRhYmxlLmpzLCBzcGlubmVyLmpzLCB0YWJzLmpzLCB0b29sdGlwLmpzCiogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOm4oalF1ZXJ5KX0pKGZ1bmN0aW9uKG4pewovKiEKICogalF1ZXJ5IFVJIENvcmUgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvdWktY29yZS8KICovCmZ1bmN0aW9uIGgodCxpKXt2YXIgcix1LGYsZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImFyZWEiPT09ZT8ocj10LnBhcmVudE5vZGUsdT1yLm5hbWUsIXQuaHJlZnx8IXV8fHIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJtYXAiKT8hMTooZj1uKCJpbWdbdXNlbWFwPScjIit1KyInXSIpWzBdLCEhZiYmYyhmKSk6KC9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdC8udGVzdChlKT8hdC5kaXNhYmxlZDoiYSI9PT1lP3QuaHJlZnx8aTppKSYmYyh0KX1mdW5jdGlvbiBjKHQpe3JldHVybiBuLmV4cHIuZmlsdGVycy52aXNpYmxlKHQpJiYhbih0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBuLmNzcyh0aGlzLCJ2aXNpYmlsaXR5Iik9PT0iaGlkZGVuIn0pLmxlbmd0aH1mdW5jdGlvbiBmdChuKXtmb3IodmFyIHQsaTtuLmxlbmd0aCYmblswXSE9PWRvY3VtZW50Oyl7aWYodD1uLmNzcygicG9zaXRpb24iKSwodD09PSJhYnNvbHV0ZSJ8fHQ9PT0icmVsYXRpdmUifHx0PT09ImZpeGVkIikmJihpPXBhcnNlSW50KG4uY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiZpIT09MCkpcmV0dXJuIGk7bj1uLnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIHAoKXt0aGlzLl9jdXJJbnN0PW51bGw7dGhpcy5fa2V5RXZlbnQ9ITE7dGhpcy5fZGlzYWJsZWRJbnB1dHM9W107dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITE7dGhpcy5faW5EaWFsb2c9ITE7dGhpcy5fbWFpbkRpdklkPSJ1aS1kYXRlcGlja2VyLWRpdiI7dGhpcy5faW5saW5lQ2xhc3M9InVpLWRhdGVwaWNrZXItaW5saW5lIjt0aGlzLl9hcHBlbmRDbGFzcz0idWktZGF0ZXBpY2tlci1hcHBlbmQiO3RoaXMuX3RyaWdnZXJDbGFzcz0idWktZGF0ZXBpY2tlci10cmlnZ2VyIjt0aGlzLl9kaWFsb2dDbGFzcz0idWktZGF0ZXBpY2tlci1kaWFsb2ciO3RoaXMuX2Rpc2FibGVDbGFzcz0idWktZGF0ZXBpY2tlci1kaXNhYmxlZCI7dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlIjt0aGlzLl9jdXJyZW50Q2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudC1kYXkiO3RoaXMuX2RheU92ZXJDbGFzcz0idWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlciI7dGhpcy5yZWdpb25hbD1bXTt0aGlzLnJlZ2lvbmFsWyIiXT17Y2xvc2VUZXh0OiJEb25lIixwcmV2VGV4dDoiUHJldiIsbmV4dFRleHQ6Ik5leHQiLGN1cnJlbnRUZXh0OiJUb2RheSIsbW9udGhOYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbW9udGhOYW1lc1Nob3J0OlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU5hbWVzU2hvcnQ6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxkYXlOYW1lc01pbjpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOiExLHNob3dNb250aEFmdGVyWWVhcjohMSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OiExLGhpZGVJZk5vUHJldk5leHQ6ITEsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDohMSxnb3RvQ3VycmVudDohMSxjaGFuZ2VNb250aDohMSxjaGFuZ2VZZWFyOiExLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOiJmYXN0IixiZWZvcmVTaG93RGF5Om51bGwsYmVmb3JlU2hvdzpudWxsLG9uU2VsZWN0Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvbkNsb3NlOm51bGwsbnVtYmVyT2ZNb250aHM6MSxzaG93Q3VycmVudEF0UG9zOjAsc3RlcE1vbnRoczoxLHN0ZXBCaWdNb250aHM6MTIsYWx0RmllbGQ6IiIsYWx0Rm9ybWF0OiIiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX07bi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWwuZW49bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWxbImVuLVVTIl09bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbik7dGhpcy5kcERpdj13KG4oIjxkaXYgaWQ9JyIrdGhpcy5fbWFpbkRpdklkKyInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PFwvZGl2PiIpKX1mdW5jdGlvbiB3KHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0LmRlbGVnYXRlKGksIm1vdXNlb3V0IixmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikhPT0tMSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7dGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPT0tMSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5kZWxlZ2F0ZShpLCJtb3VzZW92ZXIiLGIpfWZ1bmN0aW9uIGIoKXtuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKHIuaW5saW5lP3IuZHBEaXYucGFyZW50KClbMF06ci5pbnB1dFswXSl8fChuKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLG4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1wcmV2IikhPT0tMSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksdGhpcy5jbGFzc05hbWUuaW5kZXhPZigidWktZGF0ZXBpY2tlci1uZXh0IikhPT0tMSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHUodCxpKXtuLmV4dGVuZCh0LGkpO2Zvcih2YXIgciBpbiBpKWlbcl09PW51bGwmJih0W3JdPWlbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIGwsZixrLGksZCxnLG50LHR0LGl0LHV0LHIsZXQsb3Qsc3QsaHQsY3QsbyxzLGx0LGF0LHZ0LHl0LHB0LHd0LGJ0LGt0LGR0LGd0LG5pLHRpLGlpLHJpLHVpLGZpLGVpLG9pLHNpLGhpLGNpLGxpLGFpLHZpO24udWk9bi51aXx8e307bi5leHRlbmQobi51aSx7dmVyc2lvbjoiMS4xMS4yIixrZXlDb2RlOntCQUNLU1BBQ0U6OCxDT01NQToxODgsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LExFRlQ6MzcsUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTUEFDRTozMixUQUI6OSxVUDozOH19KTtuLmZuLmV4dGVuZCh7c2Nyb2xsUGFyZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHU9aT09PSJhYnNvbHV0ZSIsZj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLHI9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gdSYmdC5jc3MoInBvc2l0aW9uIik9PT0ic3RhdGljIj8hMTpmLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiBpPT09ImZpeGVkInx8IXIubGVuZ3RoP24odGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCk6cn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytuKX0pfX0oKSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJm4odGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pO24uZXh0ZW5kKG4uZXhwclsiOiJdLHtkYXRhOm4uZXhwci5jcmVhdGVQc2V1ZG8/bi5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSl7cmV0dXJuISFuLmRhdGEoaSx0KX19KTpmdW5jdGlvbih0LGkscil7cmV0dXJuISFuLmRhdGEodCxyWzNdKX0sZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3JldHVybiBoKHQsIWlzTmFOKG4uYXR0cih0LCJ0YWJpbmRleCIpKSl9LHRhYmJhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPW4uYXR0cih0LCJ0YWJpbmRleCIpLHI9aXNOYU4oaSk7cmV0dXJuKHJ8fGk+PTApJiZoKHQsIXIpfX0pO24oIjxhPiIpLm91dGVyV2lkdGgoMSkuanF1ZXJ5fHxuLmVhY2goWyJXaWR0aCIsIkhlaWdodCJdLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gZih0LGkscix1KXtyZXR1cm4gbi5lYWNoKGUsZnVuY3Rpb24oKXtpLT1wYXJzZUZsb2F0KG4uY3NzKHQsInBhZGRpbmciK3RoaXMpKXx8MDtyJiYoaS09cGFyc2VGbG9hdChuLmNzcyh0LCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKTt1JiYoaS09cGFyc2VGbG9hdChuLmNzcyh0LCJtYXJnaW4iK3RoaXMpKXx8MCl9KSxpfXZhciBlPWk9PT0iV2lkdGgiP1siTGVmdCIsIlJpZ2h0Il06WyJUb3AiLCJCb3R0b20iXSxyPWkudG9Mb3dlckNhc2UoKSx1PXtpbm5lcldpZHRoOm4uZm4uaW5uZXJXaWR0aCxpbm5lckhlaWdodDpuLmZuLmlubmVySGVpZ2h0LG91dGVyV2lkdGg6bi5mbi5vdXRlcldpZHRoLG91dGVySGVpZ2h0Om4uZm4ub3V0ZXJIZWlnaHR9O24uZm5bImlubmVyIitpXT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXVuZGVmaW5lZD91WyJpbm5lciIraV0uY2FsbCh0aGlzKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNzcyhyLGYodGhpcyx0KSsicHgiKX0pfTtuLmZuWyJvdXRlciIraV09ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHlwZW9mIHQhPSJudW1iZXIiP3VbIm91dGVyIitpXS5jYWxsKHRoaXMsdCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3MocixmKHRoaXMsdCwhMCxlKSsicHgiKX0pfX0pO24uZm4uYWRkQmFja3x8KG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobj09bnVsbD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuKCI8YT4iKS5kYXRhKCJhLWIiLCJhIikucmVtb3ZlRGF0YSgiYS1iIikuZGF0YSgiYS1iIikmJihuLmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3QuY2FsbCh0aGlzLG4uY2FtZWxDYXNlKGkpKTp0LmNhbGwodGhpcyl9fShuLmZuLnJlbW92ZURhdGEpKTtuLnVpLmllPSEhL21zaWUgW1x3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7bi5mbi5leHRlbmQoe2ZvY3VzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIpe3JldHVybiB0eXBlb2YgaT09Im51bWJlciI/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bih0KS5mb2N1cygpO3ImJnIuY2FsbCh0KX0saSl9KTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4uZm9jdXMpLGRpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmJpbmQobisiLnVpLWRpc2FibGVTZWxlY3Rpb24iLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0pfX0oKSxlbmFibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmJpbmQoIi51aS1kaXNhYmxlU2VsZWN0aW9uIil9LHpJbmRleDpmdW5jdGlvbih0KXtpZih0IT09dW5kZWZpbmVkKXJldHVybiB0aGlzLmNzcygiekluZGV4Iix0KTtpZih0aGlzLmxlbmd0aClmb3IodmFyIGk9bih0aGlzWzBdKSxyLHU7aS5sZW5ndGgmJmlbMF0hPT1kb2N1bWVudDspe2lmKHI9aS5jc3MoInBvc2l0aW9uIiksKHI9PT0iYWJzb2x1dGUifHxyPT09InJlbGF0aXZlInx8cj09PSJmaXhlZCIpJiYodT1wYXJzZUludChpLmNzcygiekluZGV4IiksMTApLCFpc05hTih1KSYmdSE9PTApKXJldHVybiB1O2k9aS5wYXJlbnQoKX1yZXR1cm4gMH19KTtuLnVpLnBsdWdpbj17YWRkOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdSxmPW4udWlbdF0ucHJvdG90eXBlO2Zvcih1IGluIHIpZi5wbHVnaW5zW3VdPWYucGx1Z2luc1t1XXx8W10sZi5wbHVnaW5zW3VdLnB1c2goW2ksclt1XV0pfSxjYWxsOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1LGY9bi5wbHVnaW5zW3RdO2lmKGYmJihyfHxuLmVsZW1lbnRbMF0ucGFyZW50Tm9kZSYmbi5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUhPT0xMSkpZm9yKHU9MDt1PGYubGVuZ3RoO3UrKyluLm9wdGlvbnNbZlt1XVswXV0mJmZbdV1bMV0uYXBwbHkobi5lbGVtZW50LGkpfX07Ci8qIQogKiBqUXVlcnkgVUkgV2lkZ2V0IDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS53aWRnZXQvCiAqLwpsPTA7Zj1BcnJheS5wcm90b3R5cGUuc2xpY2U7bi5jbGVhbkRhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe2Zvcih2YXIgcix1LGY9MDsodT1pW2ZdKSE9bnVsbDtmKyspdHJ5e3I9bi5fZGF0YSh1LCJldmVudHMiKTtyJiZyLnJlbW92ZSYmbih1KS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2goZSl7fXQoaSl9fShuLmNsZWFuRGF0YSk7bi53aWRnZXQ9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLGYsdSxvLGg9e30sZT10LnNwbGl0KCIuIilbMF07cmV0dXJuIHQ9dC5zcGxpdCgiLiIpWzFdLHM9ZSsiLSIrdCxyfHwocj1pLGk9bi5XaWRnZXQpLG4uZXhwclsiOiJdW3MudG9Mb3dlckNhc2UoKV09ZnVuY3Rpb24odCl7cmV0dXJuISFuLmRhdGEodCxzKX0sbltlXT1uW2VdfHx7fSxmPW5bZV1bdF0sdT1uW2VdW3RdPWZ1bmN0aW9uKG4sdCl7aWYoIXRoaXMuX2NyZWF0ZVdpZGdldClyZXR1cm4gbmV3IHUobix0KTthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbz1uZXcgaSxvLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24odCxyKXtpZighbi5pc0Z1bmN0aW9uKHIpKXtoW3RdPXI7cmV0dXJufWhbdF09ZnVuY3Rpb24oKXt2YXIgbj1mdW5jdGlvbigpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHU9ZnVuY3Rpb24obil7cmV0dXJuIGkucHJvdG90eXBlW3RdLmFwcGx5KHRoaXMsbil9O3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseSx0O3JldHVybiB0aGlzLl9zdXBlcj1uLHRoaXMuX3N1cGVyQXBwbHk9dSx0PXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWksdGhpcy5fc3VwZXJBcHBseT1mLHR9fSgpfSksdS5wcm90b3R5cGU9bi53aWRnZXQuZXh0ZW5kKG8se3dpZGdldEV2ZW50UHJlZml4OmY/by53aWRnZXRFdmVudFByZWZpeHx8dDp0fSxoLHtjb25zdHJ1Y3Rvcjp1LG5hbWVzcGFjZTplLHdpZGdldE5hbWU6dCx3aWRnZXRGdWxsTmFtZTpzfSksZj8obi5lYWNoKGYuX2NoaWxkQ29uc3RydWN0b3JzLGZ1bmN0aW9uKHQsaSl7dmFyIHI9aS5wcm90b3R5cGU7bi53aWRnZXQoci5uYW1lc3BhY2UrIi4iK3Iud2lkZ2V0TmFtZSx1LGkuX3Byb3RvKX0pLGRlbGV0ZSBmLl9jaGlsZENvbnN0cnVjdG9ycyk6aS5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaCh1KSxuLndpZGdldC5icmlkZ2UodCx1KSx1fTtuLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWYuY2FsbChhcmd1bWVudHMsMSksdT0wLG89ZS5sZW5ndGgsaSxyO3U8bzt1KyspZm9yKGkgaW4gZVt1XSlyPWVbdV1baV0sZVt1XS5oYXNPd25Qcm9wZXJ0eShpKSYmciE9PXVuZGVmaW5lZCYmKHRbaV09bi5pc1BsYWluT2JqZWN0KHIpP24uaXNQbGFpbk9iamVjdCh0W2ldKT9uLndpZGdldC5leHRlbmQoe30sdFtpXSxyKTpuLndpZGdldC5leHRlbmQoe30scik6cik7cmV0dXJuIHR9O24ud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbih0LGkpe3ZhciByPWkucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lfHx0O24uZm5bdF09ZnVuY3Rpb24odSl7dmFyIHM9dHlwZW9mIHU9PSJzdHJpbmciLG89Zi5jYWxsKGFyZ3VtZW50cywxKSxlPXRoaXM7cmV0dXJuIHU9IXMmJm8ubGVuZ3RoP24ud2lkZ2V0LmV4dGVuZC5hcHBseShudWxsLFt1XS5jb25jYXQobykpOnUscz90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxmPW4uZGF0YSh0aGlzLHIpO3JldHVybiB1PT09Imluc3RhbmNlIj8oZT1mLCExKTpmPyFuLmlzRnVuY3Rpb24oZlt1XSl8fHUuY2hhckF0KDApPT09Il8iP24uZXJyb3IoIm5vIHN1Y2ggbWV0aG9kICciK3UrIicgZm9yICIrdCsiIHdpZGdldCBpbnN0YW5jZSIpOihpPWZbdV0uYXBwbHkoZixvKSxpIT09ZiYmaSE9PXVuZGVmaW5lZD8oZT1pJiZpLmpxdWVyeT9lLnB1c2hTdGFjayhpLmdldCgpKTppLCExKTp2b2lkIDApOm4uZXJyb3IoImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIit0KyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIit1KyInIil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uLmRhdGEodGhpcyxyKTt0Pyh0Lm9wdGlvbih1fHx7fSksdC5faW5pdCYmdC5faW5pdCgpKTpuLmRhdGEodGhpcyxyLG5ldyBpKHUsdGhpcykpfSksZX19O24uV2lkZ2V0PWZ1bmN0aW9uKCl7fTtuLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W107bi5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24odCxpKXtpPW4oaXx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF07dGhpcy5lbGVtZW50PW4oaSk7dGhpcy51dWlkPWwrKzt0aGlzLmV2ZW50TmFtZXNwYWNlPSIuIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkO3RoaXMuYmluZGluZ3M9bigpO3RoaXMuaG92ZXJhYmxlPW4oKTt0aGlzLmZvY3VzYWJsZT1uKCk7aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIixudWxsLHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOm4ubm9vcCxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koKTt0aGlzLmVsZW1lbnQudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZURhdGEodGhpcy53aWRnZXRGdWxsTmFtZSkucmVtb3ZlRGF0YShuLmNhbWVsQ2FzZSh0aGlzLndpZGdldEZ1bGxOYW1lKSk7dGhpcy53aWRnZXQoKS51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpO3RoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpO3RoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpO3RoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfSxfZGVzdHJveTpuLm5vb3Asd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGU9dCxyLHUsZjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gbi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIHQ9PSJzdHJpbmciKWlmKGU9e30scj10LnNwbGl0KCIuIiksdD1yLnNoaWZ0KCksci5sZW5ndGgpe2Zvcih1PWVbdF09bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9uc1t0XSksZj0wO2Y8ci5sZW5ndGgtMTtmKyspdVtyW2ZdXT11W3JbZl1dfHx7fSx1PXVbcltmXV07aWYodD1yLnBvcCgpLGFyZ3VtZW50cy5sZW5ndGg9PT0xKXJldHVybiB1W3RdPT09dW5kZWZpbmVkP251bGw6dVt0XTt1W3RdPWl9ZWxzZXtpZihhcmd1bWVudHMubGVuZ3RoPT09MSlyZXR1cm4gdGhpcy5vcHRpb25zW3RdPT09dW5kZWZpbmVkP251bGw6dGhpcy5vcHRpb25zW3RdO2VbdF09aX1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhlKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gbil0aGlzLl9zZXRPcHRpb24odCxuW3RdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbnNbbl09dCxuPT09ImRpc2FibGVkIiYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3ModGhpcy53aWRnZXRGdWxsTmFtZSsiLWRpc2FibGVkIiwhIXQpLHQmJih0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSkpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbih0LGkscil7dmFyIGYsdT10aGlzO3R5cGVvZiB0IT0iYm9vbGVhbiImJihyPWksaT10LHQ9ITEpO3I/KGk9Zj1uKGkpLHRoaXMuYmluZGluZ3M9dGhpcy5iaW5kaW5ncy5hZGQoaSkpOihyPWksaT10aGlzLmVsZW1lbnQsZj10aGlzLndpZGdldCgpKTtuLmVhY2gocixmdW5jdGlvbihyLGUpe2Z1bmN0aW9uIG8oKXtpZih0fHx1Lm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIW4odGhpcykuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIikpcmV0dXJuKHR5cGVvZiBlPT0ic3RyaW5nIj91W2VdOmUpLmFwcGx5KHUsYXJndW1lbnRzKX10eXBlb2YgZSE9InN0cmluZyImJihvLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8by5ndWlkfHxuLmd1aWQrKyk7dmFyIHM9ci5tYXRjaCgvXihbXHc6LV0qKVxzKiguKikkLyksaD1zWzFdK3UuZXZlbnROYW1lc3BhY2UsYz1zWzJdO2M/Zi5kZWxlZ2F0ZShjLGgsbyk6aS5iaW5kKGgsbyl9KX0sX29mZjpmdW5jdGlvbih0LGkpe2k9KGl8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2U7dC51bmJpbmQoaSkudW5kZWxlZ2F0ZShpKTt0aGlzLmJpbmRpbmdzPW4odGhpcy5iaW5kaW5ncy5ub3QodCkuZ2V0KCkpO3RoaXMuZm9jdXNhYmxlPW4odGhpcy5mb2N1c2FibGUubm90KHQpLmdldCgpKTt0aGlzLmhvdmVyYWJsZT1uKHRoaXMuaG92ZXJhYmxlLm5vdCh0KS5nZXQoKSl9LF9kZWxheTpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIoKXtyZXR1cm4odHlwZW9mIG49PSJzdHJpbmciP2lbbl06bikuYXBwbHkoaSxhcmd1bWVudHMpfXZhciBpPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQocix0fHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbih0KXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQodCk7dGhpcy5fb24odCx7bW91c2VlbnRlcjpmdW5jdGlvbih0KXtuKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIil9LG1vdXNlbGVhdmU6ZnVuY3Rpb24odCl7bih0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe24odC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24odCl7bih0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpfX0pfSxfdHJpZ2dlcjpmdW5jdGlvbih0LGkscil7dmFyIHUsZixlPXRoaXMub3B0aW9uc1t0XTtpZihyPXJ8fHt9LGk9bi5FdmVudChpKSxpLnR5cGU9KHQ9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P3Q6dGhpcy53aWRnZXRFdmVudFByZWZpeCt0KS50b0xvd2VyQ2FzZSgpLGkudGFyZ2V0PXRoaXMuZWxlbWVudFswXSxmPWkub3JpZ2luYWxFdmVudCxmKWZvcih1IGluIGYpdSBpbiBpfHwoaVt1XT1mW3VdKTtyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoaSxyKSwhKG4uaXNGdW5jdGlvbihlKSYmZS5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2ldLmNvbmNhdChyKSk9PT0hMXx8aS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fTtuLmVhY2goe3Nob3c6ImZhZGVJbiIsaGlkZToiZmFkZU91dCJ9LGZ1bmN0aW9uKHQsaSl7bi5XaWRnZXQucHJvdG90eXBlWyJfIit0XT1mdW5jdGlvbihyLHUsZil7dHlwZW9mIHU9PSJzdHJpbmciJiYodT17ZWZmZWN0OnV9KTt2YXIgbyxlPXU/dT09PSEwfHx0eXBlb2YgdT09Im51bWJlciI/aTp1LmVmZmVjdHx8aTp0O3U9dXx8e307dHlwZW9mIHU9PSJudW1iZXIiJiYodT17ZHVyYXRpb246dX0pO289IW4uaXNFbXB0eU9iamVjdCh1KTt1LmNvbXBsZXRlPWY7dS5kZWxheSYmci5kZWxheSh1LmRlbGF5KTtvJiZuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/clt0XSh1KTplIT09dCYmcltlXT9yW2VdKHUuZHVyYXRpb24sdS5lYXNpbmcsZik6ci5xdWV1ZShmdW5jdGlvbihpKXtuKHRoaXMpW3RdKCk7ZiYmZi5jYWxsKHJbMF0pO2koKX0pfX0pO2s9bi53aWRnZXQ7Ci8qIQogKiBqUXVlcnkgVUkgTW91c2UgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vbW91c2UvCiAqLwppPSExO24oZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24oKXtpPSExfSk7ZD1uLndpZGdldCgidWkubW91c2UiLHt2ZXJzaW9uOiIxLjExLjIiLG9wdGlvbnM6e2NhbmNlbDoiaW5wdXQsdGV4dGFyZWEsYnV0dG9uLHNlbGVjdCxvcHRpb24iLGRpc3RhbmNlOjEsZGVsYXk6MH0sX21vdXNlSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoIm1vdXNlZG93bi4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihuKXtyZXR1cm4gdC5fbW91c2VEb3duKG4pfSkuYmluZCgiY2xpY2suIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oaSl7aWYoITA9PT1uLmRhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSlyZXR1cm4gbi5yZW1vdmVEYXRhKGkudGFyZ2V0LHQud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksaS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMX0pO3RoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSk7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQudW5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLnVuYmluZCgibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFpKXt0aGlzLl9tb3VzZU1vdmVkPSExO3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KTt0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciByPXRoaXMsdT10LndoaWNoPT09MSxmPXR5cGVvZiB0aGlzLm9wdGlvbnMuY2FuY2VsPT0ic3RyaW5nIiYmdC50YXJnZXQubm9kZU5hbWU/bih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIXV8fGZ8fCF0aGlzLl9tb3VzZUNhcHR1cmUodCk/ITA6KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKSk/KHQucHJldmVudERlZmF1bHQoKSwhMCk6KCEwPT09bi5kYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IikmJm4ucmVtb3ZlRGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiByLl9tb3VzZU1vdmUobil9LHRoaXMuX21vdXNlVXBEZWxlZ2F0ZT1mdW5jdGlvbihuKXtyZXR1cm4gci5fbW91c2VVcChuKX0sdGhpcy5kb2N1bWVudC5iaW5kKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLmJpbmQoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKSx0LnByZXZlbnREZWZhdWx0KCksaT0hMCwhMCl9fSxfbW91c2VNb3ZlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9tb3VzZU1vdmVkJiYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fGRvY3VtZW50LmRvY3VtZW50TW9kZTw5KSYmIXQuYnV0dG9ufHwhdC53aGljaCk/dGhpcy5fbW91c2VVcCh0KTooKHQud2hpY2h8fHQuYnV0dG9uKSYmKHRoaXMuX21vdXNlTW92ZWQ9ITApLHRoaXMuX21vdXNlU3RhcnRlZCk/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kb2N1bWVudC51bmJpbmQoIm1vdXNlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZU1vdmVEZWxlZ2F0ZSkudW5iaW5kKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdGhpcy5fbW91c2VTdGFydGVkJiYodGhpcy5fbW91c2VTdGFydGVkPSExLHQudGFyZ2V0PT09dGhpcy5fbW91c2VEb3duRXZlbnQudGFyZ2V0JiZuLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiLCEwKSx0aGlzLl9tb3VzZVN0b3AodCkpLGk9ITEsITF9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pOwovKiEKICogalF1ZXJ5IFVJIFBvc2l0aW9uIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Bvc2l0aW9uLwogKi8KKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShuLHQsaSl7cmV0dXJuW3BhcnNlRmxvYXQoblswXSkqKGwudGVzdChuWzBdKT90LzEwMDoxKSxwYXJzZUZsb2F0KG5bMV0pKihsLnRlc3QoblsxXSk/aS8xMDA6MSldfWZ1bmN0aW9uIHIodCxpKXtyZXR1cm4gcGFyc2VJbnQobi5jc3ModCxpKSwxMCl8fDB9ZnVuY3Rpb24geSh0KXt2YXIgaT10WzBdO3JldHVybiBpLm5vZGVUeXBlPT09OT97d2lkdGg6dC53aWR0aCgpLGhlaWdodDp0LmhlaWdodCgpLG9mZnNldDp7dG9wOjAsbGVmdDowfX06bi5pc1dpbmRvdyhpKT97d2lkdGg6dC53aWR0aCgpLGhlaWdodDp0LmhlaWdodCgpLG9mZnNldDp7dG9wOnQuc2Nyb2xsVG9wKCksbGVmdDp0LnNjcm9sbExlZnQoKX19OmkucHJldmVudERlZmF1bHQ/e3dpZHRoOjAsaGVpZ2h0OjAsb2Zmc2V0Ont0b3A6aS5wYWdlWSxsZWZ0OmkucGFnZVh9fTp7d2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSxvZmZzZXQ6dC5vZmZzZXQoKX19bi51aT1uLnVpfHx7fTt2YXIgdSxmLGk9TWF0aC5tYXgsdD1NYXRoLmFicyxlPU1hdGgucm91bmQsbz0vbGVmdHxjZW50ZXJ8cmlnaHQvLHM9L3RvcHxjZW50ZXJ8Ym90dG9tLyxoPS9bXCtcLV1cZCsoXC5bXGRdKyk/JT8vLGM9L15cdysvLGw9LyUkLyx2PW4uZm4ucG9zaXRpb247bi5wb3NpdGlvbj17c2Nyb2xsYmFyV2lkdGg6ZnVuY3Rpb24oKXtpZih1IT09dW5kZWZpbmVkKXJldHVybiB1O3ZhciByLGksdD1uKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48XC9kaXY+PFwvZGl2PiIpLGY9dC5jaGlsZHJlbigpWzBdO3JldHVybiBuKCJib2R5IikuYXBwZW5kKHQpLHI9Zi5vZmZzZXRXaWR0aCx0LmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSxpPWYub2Zmc2V0V2lkdGgscj09PWkmJihpPXRbMF0uY2xpZW50V2lkdGgpLHQucmVtb3ZlKCksdT1yLWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGk9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxyPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksdT1pPT09InNjcm9sbCJ8fGk9PT0iYXV0byImJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoLGY9cj09PSJzY3JvbGwifHxyPT09ImF1dG8iJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O3JldHVybnt3aWR0aDpmP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDp1P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj1uLmlzV2luZG93KGlbMF0pLHU9ISFpWzBdJiZpWzBdLm5vZGVUeXBlPT09OTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnIsaXNEb2N1bWVudDp1LG9mZnNldDppLm9mZnNldCgpfHx7bGVmdDowLHRvcDowfSxzY3JvbGxMZWZ0Omkuc2Nyb2xsTGVmdCgpLHNjcm9sbFRvcDppLnNjcm9sbFRvcCgpLHdpZHRoOnJ8fHU/aS53aWR0aCgpOmkub3V0ZXJXaWR0aCgpLGhlaWdodDpyfHx1P2kuaGVpZ2h0KCk6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odSl7aWYoIXV8fCF1Lm9mKXJldHVybiB2LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt1PW4uZXh0ZW5kKHt9LHUpO3ZhciBrLGwscCxiLHcsZyxudD1uKHUub2YpLGl0PW4ucG9zaXRpb24uZ2V0V2l0aGluSW5mbyh1LndpdGhpbikscnQ9bi5wb3NpdGlvbi5nZXRTY3JvbGxJbmZvKGl0KSxkPSh1LmNvbGxpc2lvbnx8ImZsaXAiKS5zcGxpdCgiICIpLHR0PXt9O3JldHVybiBnPXkobnQpLG50WzBdLnByZXZlbnREZWZhdWx0JiYodS5hdD0ibGVmdCB0b3AiKSxsPWcud2lkdGgscD1nLmhlaWdodCxiPWcub2Zmc2V0LHc9bi5leHRlbmQoe30sYiksbi5lYWNoKFsibXkiLCJhdCJdLGZ1bmN0aW9uKCl7dmFyIG49KHVbdGhpc118fCIiKS5zcGxpdCgiICIpLHQsaTtuLmxlbmd0aD09PTEmJihuPW8udGVzdChuWzBdKT9uLmNvbmNhdChbImNlbnRlciJdKTpzLnRlc3QoblswXSk/WyJjZW50ZXIiXS5jb25jYXQobik6WyJjZW50ZXIiLCJjZW50ZXIiXSk7blswXT1vLnRlc3QoblswXSk/blswXToiY2VudGVyIjtuWzFdPXMudGVzdChuWzFdKT9uWzFdOiJjZW50ZXIiO3Q9aC5leGVjKG5bMF0pO2k9aC5leGVjKG5bMV0pO3R0W3RoaXNdPVt0P3RbMF06MCxpP2lbMF06MF07dVt0aGlzXT1bYy5leGVjKG5bMF0pWzBdLGMuZXhlYyhuWzFdKVswXV19KSxkLmxlbmd0aD09PTEmJihkWzFdPWRbMF0pLHUuYXRbMF09PT0icmlnaHQiP3cubGVmdCs9bDp1LmF0WzBdPT09ImNlbnRlciImJih3LmxlZnQrPWwvMiksdS5hdFsxXT09PSJib3R0b20iP3cudG9wKz1wOnUuYXRbMV09PT0iY2VudGVyIiYmKHcudG9wKz1wLzIpLGs9YSh0dC5hdCxsLHApLHcubGVmdCs9a1swXSx3LnRvcCs9a1sxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgeSxnLHM9bih0aGlzKSxoPXMub3V0ZXJXaWR0aCgpLGM9cy5vdXRlckhlaWdodCgpLHV0PXIodGhpcywibWFyZ2luTGVmdCIpLGZ0PXIodGhpcywibWFyZ2luVG9wIiksZXQ9aCt1dCtyKHRoaXMsIm1hcmdpblJpZ2h0IikrcnQud2lkdGgsb3Q9YytmdCtyKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3J0LmhlaWdodCxvPW4uZXh0ZW5kKHt9LHcpLHY9YSh0dC5teSxzLm91dGVyV2lkdGgoKSxzLm91dGVySGVpZ2h0KCkpO3UubXlbMF09PT0icmlnaHQiP28ubGVmdC09aDp1Lm15WzBdPT09ImNlbnRlciImJihvLmxlZnQtPWgvMik7dS5teVsxXT09PSJib3R0b20iP28udG9wLT1jOnUubXlbMV09PT0iY2VudGVyIiYmKG8udG9wLT1jLzIpO28ubGVmdCs9dlswXTtvLnRvcCs9dlsxXTtmfHwoby5sZWZ0PWUoby5sZWZ0KSxvLnRvcD1lKG8udG9wKSk7eT17bWFyZ2luTGVmdDp1dCxtYXJnaW5Ub3A6ZnR9O24uZWFjaChbImxlZnQiLCJ0b3AiXSxmdW5jdGlvbih0LGkpe24udWkucG9zaXRpb25bZFt0XV0mJm4udWkucG9zaXRpb25bZFt0XV1baV0obyx7dGFyZ2V0V2lkdGg6bCx0YXJnZXRIZWlnaHQ6cCxlbGVtV2lkdGg6aCxlbGVtSGVpZ2h0OmMsY29sbGlzaW9uUG9zaXRpb246eSxjb2xsaXNpb25XaWR0aDpldCxjb2xsaXNpb25IZWlnaHQ6b3Qsb2Zmc2V0OltrWzBdK3ZbMF0sa1sxXSt2WzFdXSxteTp1Lm15LGF0OnUuYXQsd2l0aGluOml0LGVsZW06c30pfSk7dS51c2luZyYmKGc9ZnVuY3Rpb24obil7dmFyIHI9Yi5sZWZ0LW8ubGVmdCxhPXIrbC1oLGY9Yi50b3Atby50b3Asdj1mK3AtYyxlPXt0YXJnZXQ6e2VsZW1lbnQ6bnQsbGVmdDpiLmxlZnQsdG9wOmIudG9wLHdpZHRoOmwsaGVpZ2h0OnB9LGVsZW1lbnQ6e2VsZW1lbnQ6cyxsZWZ0Om8ubGVmdCx0b3A6by50b3Asd2lkdGg6aCxoZWlnaHQ6Y30saG9yaXpvbnRhbDphPDA/ImxlZnQiOnI+MD8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOnY8MD8idG9wIjpmPjA/ImJvdHRvbSI6Im1pZGRsZSJ9O2w8aCYmdChyK2EpPGwmJihlLmhvcml6b250YWw9ImNlbnRlciIpO3A8YyYmdChmK3YpPHAmJihlLnZlcnRpY2FsPSJtaWRkbGUiKTtlLmltcG9ydGFudD1pKHQociksdChhKSk+aSh0KGYpLHQodikpPyJob3Jpem9udGFsIjoidmVydGljYWwiO3UudXNpbmcuY2FsbCh0aGlzLG4sZSl9KTtzLm9mZnNldChuLmV4dGVuZChvLHt1c2luZzpnfSkpfSl9O24udWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihuLHQpe3ZhciBlPXQud2l0aGluLHU9ZS5pc1dpbmRvdz9lLnNjcm9sbExlZnQ6ZS5vZmZzZXQubGVmdCxvPWUud2lkdGgscz1uLmxlZnQtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LHI9dS1zLGY9cyt0LmNvbGxpc2lvbldpZHRoLW8tdSxoO3QuY29sbGlzaW9uV2lkdGg+bz9yPjAmJmY8PTA/KGg9bi5sZWZ0K3IrdC5jb2xsaXNpb25XaWR0aC1vLXUsbi5sZWZ0Kz1yLWgpOm4ubGVmdD1mPjAmJnI8PTA/dTpyPmY/dStvLXQuY29sbGlzaW9uV2lkdGg6dTpyPjA/bi5sZWZ0Kz1yOmY+MD9uLmxlZnQtPWY6bi5sZWZ0PWkobi5sZWZ0LXMsbi5sZWZ0KX0sdG9wOmZ1bmN0aW9uKG4sdCl7dmFyIG89dC53aXRoaW4sdT1vLmlzV2luZG93P28uc2Nyb2xsVG9wOm8ub2Zmc2V0LnRvcCxlPXQud2l0aGluLmhlaWdodCxzPW4udG9wLXQuY29sbGlzaW9uUG9zaXRpb24ubWFyZ2luVG9wLHI9dS1zLGY9cyt0LmNvbGxpc2lvbkhlaWdodC1lLXUsaDt0LmNvbGxpc2lvbkhlaWdodD5lP3I+MCYmZjw9MD8oaD1uLnRvcCtyK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9ci1oKTpuLnRvcD1mPjAmJnI8PTA/dTpyPmY/dStlLXQuY29sbGlzaW9uSGVpZ2h0OnU6cj4wP24udG9wKz1yOmY+MD9uLnRvcC09ZjpuLnRvcD1pKG4udG9wLXMsbi50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihuLGkpe3ZhciByPWkud2l0aGluLHk9ci5vZmZzZXQubGVmdCtyLnNjcm9sbExlZnQsYz1yLndpZHRoLG89ci5pc1dpbmRvdz9yLnNjcm9sbExlZnQ6ci5vZmZzZXQubGVmdCxsPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsYT1sLW8sdj1sK2kuY29sbGlzaW9uV2lkdGgtYy1vLHU9aS5teVswXT09PSJsZWZ0Ij8taS5lbGVtV2lkdGg6aS5teVswXT09PSJyaWdodCI/aS5lbGVtV2lkdGg6MCxmPWkuYXRbMF09PT0ibGVmdCI/aS50YXJnZXRXaWR0aDppLmF0WzBdPT09InJpZ2h0Ij8taS50YXJnZXRXaWR0aDowLGU9LTIqaS5vZmZzZXRbMF0scyxoO2E8MD8ocz1uLmxlZnQrdStmK2UraS5jb2xsaXNpb25XaWR0aC1jLXksKHM8MHx8czx0KGEpKSYmKG4ubGVmdCs9dStmK2UpKTp2PjAmJihoPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQrdStmK2UtbywoaD4wfHx0KGgpPHYpJiYobi5sZWZ0Kz11K2YrZSkpfSx0b3A6ZnVuY3Rpb24obixpKXt2YXIgcj1pLndpdGhpbix5PXIub2Zmc2V0LnRvcCtyLnNjcm9sbFRvcCxhPXIuaGVpZ2h0LG89ci5pc1dpbmRvdz9yLnNjcm9sbFRvcDpyLm9mZnNldC50b3Asdj1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCxzPXYtbyxoPXYraS5jb2xsaXNpb25IZWlnaHQtYS1vLHA9aS5teVsxXT09PSJ0b3AiLHU9cD8taS5lbGVtSGVpZ2h0OmkubXlbMV09PT0iYm90dG9tIj9pLmVsZW1IZWlnaHQ6MCxmPWkuYXRbMV09PT0idG9wIj9pLnRhcmdldEhlaWdodDppLmF0WzFdPT09ImJvdHRvbSI/LWkudGFyZ2V0SGVpZ2h0OjAsZT0tMippLm9mZnNldFsxXSxjLGw7czwwPyhsPW4udG9wK3UrZitlK2kuY29sbGlzaW9uSGVpZ2h0LWEteSxuLnRvcCt1K2YrZT5zJiYobDwwfHxsPHQocykpJiYobi50b3ArPXUrZitlKSk6aD4wJiYoYz1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCt1K2YrZS1vLG4udG9wK3UrZitlPmgmJihjPjB8fHQoYyk8aCkmJihuLnRvcCs9dStmK2UpKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oKXt2YXIgdCxpLHIsdSxlLG89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChvPyJkaXYiOiJib2R5Iik7cj17dmlzaWJpbGl0eToiaGlkZGVuIix3aWR0aDowLGhlaWdodDowLGJvcmRlcjowLG1hcmdpbjowLGJhY2tncm91bmQ6Im5vbmUifTtvJiZuLmV4dGVuZChyLHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6Ii0xMDAwcHgiLHRvcDoiLTEwMDBweCJ9KTtmb3IoZSBpbiByKXQuc3R5bGVbZV09cltlXTt0LmFwcGVuZENoaWxkKHMpO2k9b3x8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2kuaW5zZXJ0QmVmb3JlKHQsaS5maXJzdENoaWxkKTtzLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMTAuNzQzMjIyMnB4OyI7dT1uKHMpLm9mZnNldCgpLmxlZnQ7Zj11PjEwJiZ1PDExO3QuaW5uZXJIVE1MPSIiO2kucmVtb3ZlQ2hpbGQodCl9KCl9KSgpO2c9bi51aS5wb3NpdGlvbjsKLyohCiAqIGpRdWVyeSBVSSBBY2NvcmRpb24gMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYWNjb3JkaW9uLwogKi8KbnQ9bi53aWRnZXQoInVpLmFjY29yZGlvbiIse3ZlcnNpb246IjEuMTEuMiIsb3B0aW9uczp7YWN0aXZlOjAsYW5pbWF0ZTp7fSxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlYWRlcjoiPiBsaSA+IDpmaXJzdC1jaGlsZCw+IDpub3QobGkpOmV2ZW4iLGhlaWdodFN0eWxlOiJhdXRvIixpY29uczp7YWN0aXZlSGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsaGVhZGVyOiJ1aS1pY29uLXRyaWFuZ2xlLTEtZSJ9LGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbH0saGlkZVByb3BzOntib3JkZXJUb3BXaWR0aDoiaGlkZSIsYm9yZGVyQm90dG9tV2lkdGg6ImhpZGUiLHBhZGRpbmdUb3A6ImhpZGUiLHBhZGRpbmdCb3R0b206ImhpZGUiLGhlaWdodDoiaGlkZSJ9LHNob3dQcm9wczp7Ym9yZGVyVG9wV2lkdGg6InNob3ciLGJvcmRlckJvdHRvbVdpZHRoOiJzaG93IixwYWRkaW5nVG9wOiJzaG93IixwYWRkaW5nQm90dG9tOiJzaG93IixoZWlnaHQ6InNob3cifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMucHJldlNob3c9dGhpcy5wcmV2SGlkZT1uKCk7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1hY2NvcmRpb24gdWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dC5jb2xsYXBzaWJsZXx8dC5hY3RpdmUhPT0hMSYmdC5hY3RpdmUhPW51bGx8fCh0LmFjdGl2ZT0wKTt0aGlzLl9wcm9jZXNzUGFuZWxzKCk7dC5hY3RpdmU8MCYmKHQuYWN0aXZlKz10aGlzLmhlYWRlcnMubGVuZ3RoKTt0aGlzLl9yZWZyZXNoKCl9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57aGVhZGVyOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLmFjdGl2ZS5uZXh0KCk6bigpfX0sX2NyZWF0ZUljb25zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmljb25zO3QmJihuKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIHVpLWljb24gIit0LmhlYWRlcikucHJlcGVuZFRvKHRoaXMuaGVhZGVycyksdGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKS5yZW1vdmVDbGFzcyh0LmhlYWRlcikuYWRkQ2xhc3ModC5hY3RpdmVIZWFkZXIpLHRoaXMuaGVhZGVycy5hZGRDbGFzcygidWktYWNjb3JkaW9uLWljb25zIikpfSxfZGVzdHJveUljb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWFkZXJzLnJlbW92ZUNsYXNzKCJ1aS1hY2NvcmRpb24taWNvbnMiKS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uIHVpLXdpZGdldCB1aS1oZWxwZXItcmVzZXQiKS5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5oZWFkZXJzLnJlbW92ZUNsYXNzKCJ1aS1hY2NvcmRpb24taGVhZGVyIHVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLWV4cGFuZGVkIikucmVtb3ZlQXR0cigiYXJpYS1zZWxlY3RlZCIpLnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCk7dGhpcy5fZGVzdHJveUljb25zKCk7bj10aGlzLmhlYWRlcnMubmV4dCgpLnJlbW92ZUNsYXNzKCJ1aS1oZWxwZXItcmVzZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSB1aS1hY2NvcmRpb24tY29udGVudCB1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQiKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSE9PSJjb250ZW50IiYmbi5jc3MoImhlaWdodCIsIiIpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYobj09PSJhY3RpdmUiKXt0aGlzLl9hY3RpdmF0ZSh0KTtyZXR1cm59bj09PSJldmVudCImJih0aGlzLm9wdGlvbnMuZXZlbnQmJnRoaXMuX29mZih0aGlzLmhlYWRlcnMsdGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEV2ZW50cyh0KSk7dGhpcy5fc3VwZXIobix0KTtuIT09ImNvbGxhcHNpYmxlInx8dHx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKTtuPT09Imljb25zIiYmKHRoaXMuX2Rlc3Ryb3lJY29ucygpLHQmJnRoaXMuX2NyZWF0ZUljb25zKCkpO249PT0iZGlzYWJsZWQiJiYodGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KS5hdHRyKCJhcmlhLWRpc2FibGVkIix0KSx0aGlzLmhlYWRlcnMuYWRkKHRoaXMuaGVhZGVycy5uZXh0KCkpLnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9bi51aS5rZXlDb2RlLHU9dGhpcy5oZWFkZXJzLmxlbmd0aCxmPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCkscj0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046cj10aGlzLmhlYWRlcnNbKGYrMSkldV07YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOnI9dGhpcy5oZWFkZXJzWyhmLTErdSkldV07YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6cj10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpyPXRoaXMuaGVhZGVyc1t1LTFdfXImJihuKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLG4ocikuYXR0cigidGFiSW5kZXgiLDApLHIuZm9jdXMoKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmbih0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS5mb2N1cygpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTsodC5hY3RpdmUhPT0hMXx8dC5jb2xsYXBzaWJsZSE9PSEwKSYmdGhpcy5oZWFkZXJzLmxlbmd0aD90LmFjdGl2ZT09PSExP3RoaXMuX2FjdGl2YXRlKDApOnRoaXMuYWN0aXZlLmxlbmd0aCYmIW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLmhlYWRlcnMubGVuZ3RoPT09dGhpcy5oZWFkZXJzLmZpbmQoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmxlbmd0aD8odC5hY3RpdmU9ITEsdGhpcy5hY3RpdmU9bigpKTp0aGlzLl9hY3RpdmF0ZShNYXRoLm1heCgwLHQuYWN0aXZlLTEpKTp0LmFjdGl2ZT10aGlzLmhlYWRlcnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO3RoaXMuX3JlZnJlc2goKX0sX3Byb2Nlc3NQYW5lbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWRlcnMsbj10aGlzLnBhbmVsczt0aGlzLmhlYWRlcnM9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhlYWRlcikuYWRkQ2xhc3MoInVpLWFjY29yZGlvbi1oZWFkZXIgdWktc3RhdGUtZGVmYXVsdCB1aS1jb3JuZXItYWxsIik7dGhpcy5wYW5lbHM9dGhpcy5oZWFkZXJzLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQgdWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b20iKS5maWx0ZXIoIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSkiKS5oaWRlKCk7biYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLmhlYWRlcnMpKSx0aGlzLl9vZmYobi5ub3QodGhpcy5wYW5lbHMpKSl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmhlaWdodFN0eWxlLHU9dGhpcy5lbGVtZW50LnBhcmVudCgpO3RoaXMuYWN0aXZlPXRoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUgdWktY29ybmVyLXRvcCIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYWxsIik7dGhpcy5hY3RpdmUubmV4dCgpLmFkZENsYXNzKCJ1aS1hY2NvcmRpb24tY29udGVudC1hY3RpdmUiKS5zaG93KCk7dGhpcy5oZWFkZXJzLmF0dHIoInJvbGUiLCJ0YWIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGk9dC5uZXh0KCksdT1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0LmF0dHIoImFyaWEtY29udHJvbHMiLHUpO2kuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixyKX0pLm5leHQoKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLmhpZGUoKTt0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTt0aGlzLl9jcmVhdGVJY29ucygpO3RoaXMuX3NldHVwRXZlbnRzKGkuZXZlbnQpO3I9PT0iZmlsbCI/KHQ9dS5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygicG9zaXRpb24iKTtyIT09ImFic29sdXRlIiYmciE9PSJmaXhlZCImJih0LT1pLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpe3QtPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCx0LW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKTpyPT09ImF1dG8iJiYodD0wLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe3Q9TWF0aC5tYXgodCxuKHRoaXMpLmNzcygiaGVpZ2h0IiwiIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KHQpKX0sX2FjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX2ZpbmRBY3RpdmUodClbMF07aSE9PXRoaXMuYWN0aXZlWzBdJiYoaT1pfHx0aGlzLmFjdGl2ZVswXSx0aGlzLl9ldmVudEhhbmRsZXIoe3RhcmdldDppLGN1cnJlbnRUYXJnZXQ6aSxwcmV2ZW50RGVmYXVsdDpuLm5vb3B9KSl9LF9maW5kQWN0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09Im51bWJlciI/dGhpcy5oZWFkZXJzLmVxKHQpOm4oKX0sX3NldHVwRXZlbnRzOmZ1bmN0aW9uKHQpe3ZhciBpPXtrZXlkb3duOiJfa2V5ZG93biJ9O3QmJm4uZWFjaCh0LnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpW3RdPSJfZXZlbnRIYW5kbGVyIn0pO3RoaXMuX29mZih0aGlzLmhlYWRlcnMuYWRkKHRoaXMuaGVhZGVycy5uZXh0KCkpKTt0aGlzLl9vbih0aGlzLmhlYWRlcnMsaSk7dGhpcy5fb24odGhpcy5oZWFkZXJzLm5leHQoKSx7a2V5ZG93bjoiX3BhbmVsS2V5RG93biJ9KTt0aGlzLl9ob3ZlcmFibGUodGhpcy5oZWFkZXJzKTt0aGlzLl9mb2N1c2FibGUodGhpcy5oZWFkZXJzKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMsdT10aGlzLmFjdGl2ZSxyPW4odC5jdXJyZW50VGFyZ2V0KSxmPXJbMF09PT11WzBdLGU9ZiYmaS5jb2xsYXBzaWJsZSxzPWU/bigpOnIubmV4dCgpLGg9dS5uZXh0KCksbz17b2xkSGVhZGVyOnUsb2xkUGFuZWw6aCxuZXdIZWFkZXI6ZT9uKCk6cixuZXdQYW5lbDpzfTsodC5wcmV2ZW50RGVmYXVsdCgpLCghZnx8aS5jb2xsYXBzaWJsZSkmJnRoaXMuX3RyaWdnZXIoImJlZm9yZUFjdGl2YXRlIix0LG8pIT09ITEpJiYoaS5hY3RpdmU9ZT8hMTp0aGlzLmhlYWRlcnMuaW5kZXgociksdGhpcy5hY3RpdmU9Zj9uKCk6cix0aGlzLl90b2dnbGUobyksdS5yZW1vdmVDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmdS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZUNsYXNzKGkuaWNvbnMuYWN0aXZlSGVhZGVyKS5hZGRDbGFzcyhpLmljb25zLmhlYWRlciksZnx8KHIucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUgdWktc3RhdGUtYWN0aXZlIHVpLWNvcm5lci10b3AiKSxpLmljb25zJiZyLmNoaWxkcmVuKCIudWktYWNjb3JkaW9uLWhlYWRlci1pY29uIikucmVtb3ZlQ2xhc3MoaS5pY29ucy5oZWFkZXIpLmFkZENsYXNzKGkuaWNvbnMuYWN0aXZlSGVhZGVyKSxyLm5leHQoKS5hZGRDbGFzcygidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgcj10Lm5ld1BhbmVsLGk9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApO3RoaXMucHJldlNob3c9cjt0aGlzLnByZXZIaWRlPWk7dGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShyLGksdCk6KGkuaGlkZSgpLHIuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKTtpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7aS5wcmV2KCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIik7ci5sZW5ndGgmJmkubGVuZ3RoP2kucHJldigpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSk6ci5sZW5ndGgmJnRoaXMuaGVhZGVycy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpPT09MH0pLmF0dHIoInRhYkluZGV4IiwtMSk7ci5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsdGFiSW5kZXg6MCwiYXJpYS1leHBhbmRlZCI6InRydWUifSl9LF9hbmltYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgaCxyLHUsYz10aGlzLG89MCxsPW4ubGVuZ3RoJiYoIXQubGVuZ3RofHxuLmluZGV4KCk8dC5pbmRleCgpKSxlPXRoaXMub3B0aW9ucy5hbmltYXRlfHx7fSxmPWwmJmUuZG93bnx8ZSxzPWZ1bmN0aW9uKCl7Yy5fdG9nZ2xlQ29tcGxldGUoaSl9O2lmKHR5cGVvZiBmPT0ibnVtYmVyIiYmKHU9ZiksdHlwZW9mIGY9PSJzdHJpbmciJiYocj1mKSxyPXJ8fGYuZWFzaW5nfHxlLmVhc2luZyx1PXV8fGYuZHVyYXRpb258fGUuZHVyYXRpb24sIXQubGVuZ3RoKXJldHVybiBuLmFuaW1hdGUodGhpcy5zaG93UHJvcHMsdSxyLHMpO2lmKCFuLmxlbmd0aClyZXR1cm4gdC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHUscixzKTtoPW4uc2hvdygpLm91dGVySGVpZ2h0KCk7dC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLHN0ZXA6ZnVuY3Rpb24obix0KXt0Lm5vdz1NYXRoLnJvdW5kKG4pfX0pO24uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6cyxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTtpLnByb3AhPT0iaGVpZ2h0Ij9vKz1pLm5vdzpjLm9wdGlvbnMuaGVpZ2h0U3R5bGUhPT0iY29udGVudCImJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLW8pLG89MCl9fSl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihuKXt2YXIgdD1uLm9sZFBhbmVsO3QucmVtb3ZlQ2xhc3MoInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpLnByZXYoKS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIik7dC5sZW5ndGgmJih0LnBhcmVudCgpWzBdLmNsYXNzTmFtZT10LnBhcmVudCgpWzBdLmNsYXNzTmFtZSk7dGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLG51bGwsbil9fSk7Ci8qIQogKiBqUXVlcnkgVUkgTWVudSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9tZW51LwogKi8KdHQ9bi53aWRnZXQoInVpLm1lbnUiLHt2ZXJzaW9uOiIxLjExLjIiLGRlZmF1bHRFbGVtZW50OiI8dWw+IixkZWxheTozMDAsb3B0aW9uczp7aWNvbnM6e3N1Ym1lbnU6InVpLWljb24tY2FyYXQtMS1lIn0saXRlbXM6Ij4gKiIsbWVudXM6InVsIixwb3NpdGlvbjp7bXk6ImxlZnQtMSB0b3AiLGF0OiJyaWdodCB0b3AifSxyb2xlOiJtZW51IixibHVyOm51bGwsZm9jdXM6bnVsbCxzZWxlY3Q6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuYWN0aXZlTWVudT10aGlzLmVsZW1lbnQ7dGhpcy5tb3VzZUhhbmRsZWQ9ITE7dGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYWRkQ2xhc3MoInVpLW1lbnUgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IikudG9nZ2xlQ2xhc3MoInVpLW1lbnUtaWNvbnMiLCEhdGhpcy5lbGVtZW50LmZpbmQoIi51aS1pY29uIikubGVuZ3RoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sImNsaWNrIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpOyF0aGlzLm1vdXNlSGFuZGxlZCYmaS5ub3QoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmxlbmd0aCYmKHRoaXMuc2VsZWN0KHQpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKXx8KHRoaXMubW91c2VIYW5kbGVkPSEwKSxpLmhhcygiLnVpLW1lbnUiKS5sZW5ndGg/dGhpcy5leHBhbmQodCk6IXRoaXMuZWxlbWVudC5pcygiOmZvY3VzIikmJm4odGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aCYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIsWyEwXSksdGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoPT09MSYmY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpKSl9LCJtb3VzZWVudGVyIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnByZXZpb3VzRmlsdGVyKXt2YXIgaT1uKHQuY3VycmVudFRhcmdldCk7aS5zaWJsaW5ncygiLnVpLXN0YXRlLWFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKTt0aGlzLmZvY3VzKHQsaSl9fSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpfHx0aGlzLmNvbGxhcHNlQWxsKHQpfSl9LGtleWRvd246Il9rZXlkb3duIn0pO3RoaXMucmVmcmVzaCgpO3RoaXMuX29uKHRoaXMuZG9jdW1lbnQse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuX2Nsb3NlT25Eb2N1bWVudENsaWNrKG4pJiZ0aGlzLmNvbGxhcHNlQWxsKG4pO3RoaXMubW91c2VIYW5kbGVkPSExfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKS5maW5kKCIudWktbWVudSIpLmFkZEJhY2soKS5yZW1vdmVDbGFzcygidWktbWVudSB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1pY29ucyB1aS1mcm9udCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVVbmlxdWVJZCgpLnNob3coKTt0aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUNsYXNzKCJ1aS1tZW51LWl0ZW0iKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIikucmVtb3ZlQXR0cigidGFiSW5kZXgiKS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1oYXNwb3B1cCIpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyYXQiKSYmdC5yZW1vdmUoKX0pO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudS1kaXZpZGVyIikucmVtb3ZlQ2xhc3MoInVpLW1lbnUtZGl2aWRlciB1aS13aWRnZXQtY29udGVudCIpfSxfa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaSx1LHIsZixlPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6dGhpcy5wcmV2aW91c1BhZ2UodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMubmV4dFBhZ2UodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTp0aGlzLl9tb3ZlKCJmaXJzdCIsImZpcnN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6dGhpcy5fbW92ZSgibGFzdCIsImxhc3QiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlVQOnRoaXMucHJldmlvdXModCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjp0aGlzLm5leHQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDp0aGlzLmNvbGxhcHNlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUuaXMoIi51aS1zdGF0ZS1kaXNhYmxlZCIpJiZ0aGlzLmV4cGFuZCh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpjYXNlIG4udWkua2V5Q29kZS5TUEFDRTp0aGlzLl9hY3RpdmF0ZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jb2xsYXBzZSh0KTticmVhaztkZWZhdWx0OmU9ITE7dT10aGlzLnByZXZpb3VzRmlsdGVyfHwiIjtyPVN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKTtmPSExO2NsZWFyVGltZW91dCh0aGlzLmZpbHRlclRpbWVyKTtyPT09dT9mPSEwOnI9dStyO2k9dGhpcy5fZmlsdGVyTWVudUl0ZW1zKHIpO2k9ZiYmaS5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpIT09LTE/dGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpOmk7aS5sZW5ndGh8fChyPVN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKSxpPXRoaXMuX2ZpbHRlck1lbnVJdGVtcyhyKSk7aS5sZW5ndGg/KHRoaXMuZm9jdXModCxpKSx0aGlzLnByZXZpb3VzRmlsdGVyPXIsdGhpcy5maWx0ZXJUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLnByZXZpb3VzRmlsdGVyfSwxZTMpKTpkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn1lJiZ0LnByZXZlbnREZWZhdWx0KCl9LF9hY3RpdmF0ZTpmdW5jdGlvbihuKXt0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIil8fCh0aGlzLmFjdGl2ZS5pcygiW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpP3RoaXMuZXhwYW5kKG4pOnRoaXMuc2VsZWN0KG4pKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBpLHQsdT10aGlzLGY9dGhpcy5vcHRpb25zLmljb25zLnN1Ym1lbnUscj10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMubWVudXMpO3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsISF0aGlzLmVsZW1lbnQuZmluZCgiLnVpLWljb24iKS5sZW5ndGgpO3IuZmlsdGVyKCI6bm90KC51aS1tZW51KSIpLmFkZENsYXNzKCJ1aS1tZW51IHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpLmhpZGUoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLCJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UifSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LnBhcmVudCgpLHI9bigiPHNwYW4+IikuYWRkQ2xhc3MoInVpLW1lbnUtaWNvbiB1aS1pY29uICIrZikuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmF0IiwhMCk7aS5hdHRyKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpLnByZXBlbmQocik7dC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkuYXR0cigiaWQiKSl9KTtpPXIuYWRkKHRoaXMuZWxlbWVudCk7dD1pLmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKTt0Lm5vdCgiLnVpLW1lbnUtaXRlbSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3UuX2lzRGl2aWRlcih0KSYmdC5hZGRDbGFzcygidWktd2lkZ2V0LWNvbnRlbnQgdWktbWVudS1kaXZpZGVyIil9KTt0Lm5vdCgiLnVpLW1lbnUtaXRlbSwgLnVpLW1lbnUtZGl2aWRlciIpLmFkZENsYXNzKCJ1aS1tZW51LWl0ZW0iKS51bmlxdWVJZCgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6dGhpcy5faXRlbVJvbGUoKX0pO3QuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpO3RoaXMuYWN0aXZlJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pJiZ0aGlzLmJsdXIoKX0sX2l0ZW1Sb2xlOmZ1bmN0aW9uKCl7cmV0dXJue21lbnU6Im1lbnVpdGVtIixsaXN0Ym94OiJvcHRpb24ifVt0aGlzLm9wdGlvbnMucm9sZV19LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtuPT09Imljb25zIiYmdGhpcy5lbGVtZW50LmZpbmQoIi51aS1tZW51LWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuYWRkQ2xhc3ModC5zdWJtZW51KTtuPT09ImRpc2FibGVkIiYmdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KS5hdHRyKCJhcmlhLWRpc2FibGVkIix0KTt0aGlzLl9zdXBlcihuLHQpfSxmb2N1czpmdW5jdGlvbihuLHQpe3ZhciBpLHI7dGhpcy5ibHVyKG4sbiYmbi50eXBlPT09ImZvY3VzIik7dGhpcy5fc2Nyb2xsSW50b1ZpZXcodCk7dGhpcy5hY3RpdmU9dC5maXJzdCgpO3I9dGhpcy5hY3RpdmUuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixyLmF0dHIoImlkIikpO3RoaXMuYWN0aXZlLnBhcmVudCgpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIik7biYmbi50eXBlPT09ImtleWRvd24iP3RoaXMuX2Nsb3NlKCk6dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCl9LHRoaXMuZGVsYXkpO2k9dC5jaGlsZHJlbigiLnVpLW1lbnUiKTtpLmxlbmd0aCYmbiYmL15tb3VzZS8udGVzdChuLnR5cGUpJiZ0aGlzLl9zdGFydE9wZW5pbmcoaSk7dGhpcy5hY3RpdmVNZW51PXQucGFyZW50KCk7dGhpcy5fdHJpZ2dlcigiZm9jdXMiLG4se2l0ZW06dH0pfSxfc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24odCl7dmFyIGUsbyxpLHIsdSxmO3RoaXMuX2hhc1Njcm9sbCgpJiYoZT1wYXJzZUZsb2F0KG4uY3NzKHRoaXMuYWN0aXZlTWVudVswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsbz1wYXJzZUZsb2F0KG4uY3NzKHRoaXMuYWN0aXZlTWVudVswXSwicGFkZGluZ1RvcCIpKXx8MCxpPXQub2Zmc2V0KCkudG9wLXRoaXMuYWN0aXZlTWVudS5vZmZzZXQoKS50b3AtZS1vLHI9dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcCgpLHU9dGhpcy5hY3RpdmVNZW51LmhlaWdodCgpLGY9dC5vdXRlckhlaWdodCgpLGk8MD90aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraSk6aStmPnUmJnRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AocitpLXUrZikpfSxibHVyOmZ1bmN0aW9uKG4sdCl7KHR8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLmFjdGl2ZSkmJih0aGlzLmFjdGl2ZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKSx0aGlzLmFjdGl2ZT1udWxsLHRoaXMuX3RyaWdnZXIoImJsdXIiLG4se2l0ZW06dGhpcy5hY3RpdmV9KSl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24obil7KGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxuLmF0dHIoImFyaWEtaGlkZGVuIik9PT0idHJ1ZSIpJiYodGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX2Nsb3NlKCk7dGhpcy5fb3BlbihuKX0sdGhpcy5kZWxheSkpfSxfb3BlbjpmdW5jdGlvbih0KXt2YXIgaT1uLmV4dGVuZCh7b2Y6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKHQsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgcj1pP3RoaXMuZWxlbWVudDpuKHQmJnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTtyLmxlbmd0aHx8KHI9dGhpcy5lbGVtZW50KTt0aGlzLl9jbG9zZShyKTt0aGlzLmJsdXIodCk7dGhpcy5hY3RpdmVNZW51PXJ9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7bnx8KG49dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KTtuLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLmVuZCgpLmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKS5ub3QoIi51aS1zdGF0ZS1mb2N1cyIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0sX2Nsb3NlT25Eb2N1bWVudENsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudSIpLmxlbmd0aH0sX2lzRGl2aWRlcjpmdW5jdGlvbihuKXtyZXR1cm4hL1teXC1cdTIwMTRcdTIwMTNcc10vLnRlc3Qobi50ZXh0KCkpfSxjb2xsYXBzZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLmFjdGl2ZSYmdGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIsdGhpcy5lbGVtZW50KTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX2Nsb3NlKCksdGhpcy5mb2N1cyhuLHQpKX0sZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5jaGlsZHJlbigiLnVpLW1lbnUgIikuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCk7dCYmdC5sZW5ndGgmJih0aGlzLl9vcGVuKHQucGFyZW50KCkpLHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhuLHQpfSkpfSxuZXh0OmZ1bmN0aW9uKG4pe3RoaXMuX21vdmUoIm5leHQiLCJmaXJzdCIsbil9LHByZXZpb3VzOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmUoInByZXYiLCJsYXN0IixuKX0saXNGaXJzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxpc0xhc3RJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlJiYhdGhpcy5hY3RpdmUubmV4dEFsbCgiLnVpLW1lbnUtaXRlbSIpLmxlbmd0aH0sX21vdmU6ZnVuY3Rpb24obix0LGkpe3ZhciByO3RoaXMuYWN0aXZlJiYocj1uPT09ImZpcnN0Inx8bj09PSJsYXN0Ij90aGlzLmFjdGl2ZVtuPT09ImZpcnN0Ij8icHJldkFsbCI6Im5leHRBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKC0xKTp0aGlzLmFjdGl2ZVtuKyJBbGwiXSgiLnVpLW1lbnUtaXRlbSIpLmVxKDApKTtyJiZyLmxlbmd0aCYmdGhpcy5hY3RpdmV8fChyPXRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdF0oKSk7dGhpcy5mb2N1cyhpLHIpfSxuZXh0UGFnZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU7aWYoIXRoaXMuYWN0aXZlKXt0aGlzLm5leHQodCk7cmV0dXJufXRoaXMuaXNMYXN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSxpLm9mZnNldCgpLnRvcC1yLXU8MH0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtpZighdGhpcy5hY3RpdmUpe3RoaXMubmV4dCh0KTtyZXR1cm59dGhpcy5pc0ZpcnN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSxpLm9mZnNldCgpLnRvcC1yK3U+MH0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKSkpfSxfaGFzU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpPHRoaXMuZWxlbWVudC5wcm9wKCJzY3JvbGxIZWlnaHQiKX0sc2VsZWN0OmZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlPXRoaXMuYWN0aXZlfHxuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktbWVudS1pdGVtIik7dmFyIGk9e2l0ZW06dGhpcy5hY3RpdmV9O3RoaXMuYWN0aXZlLmhhcygiLnVpLW1lbnUiKS5sZW5ndGh8fHRoaXMuY29sbGFwc2VBbGwodCwhMCk7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LGkpfSxfZmlsdGVyTWVudUl0ZW1zOmZ1bmN0aW9uKHQpe3ZhciBpPXQucmVwbGFjZSgvW1wtXFtcXXt9KCkqKz8uLFxcXF4kfCNcc10vZywiXFwkJiIpLHI9bmV3IFJlZ0V4cCgiXiIraSwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3Qobi50cmltKG4odGhpcykudGV4dCgpKSl9KX19KTsKLyohCiAqIGpRdWVyeSBVSSBBdXRvY29tcGxldGUgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vYXV0b2NvbXBsZXRlLwogKi8Kbi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTEuMiIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdT10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPXU9PT0idGV4dGFyZWEiLGU9dT09PSJpbnB1dCI7dGhpcy5pc011bHRpTGluZT1mPyEwOmU/ITE6dGhpcy5lbGVtZW50LnByb3AoImlzQ29udGVudEVkaXRhYmxlIik7dGhpcy52YWx1ZU1ldGhvZD10aGlzLmVsZW1lbnRbZnx8ZT8idmFsIjoidGV4dCJdO3RoaXMuaXNOZXdNZW51PSEwO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIik7dGhpcy5fb24odGhpcy5lbGVtZW50LHtrZXlkb3duOmZ1bmN0aW9uKHUpe2lmKHRoaXMuZWxlbWVudC5wcm9wKCJyZWFkT25seSIpKXt0PSEwO3I9ITA7aT0hMDtyZXR1cm59dD0hMTtyPSExO2k9ITE7dmFyIGY9bi51aS5rZXlDb2RlO3N3aXRjaCh1LmtleUNvZGUpe2Nhc2UgZi5QQUdFX1VQOnQ9ITA7dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIix1KTticmVhaztjYXNlIGYuUEFHRV9ET1dOOnQ9ITA7dGhpcy5fbW92ZSgibmV4dFBhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5VUDp0PSEwO3RoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIsdSk7YnJlYWs7Y2FzZSBmLkRPV046dD0hMDt0aGlzLl9rZXlFdmVudCgibmV4dCIsdSk7YnJlYWs7Y2FzZSBmLkVOVEVSOnRoaXMubWVudS5hY3RpdmUmJih0PSEwLHUucHJldmVudERlZmF1bHQoKSx0aGlzLm1lbnUuc2VsZWN0KHUpKTticmVhaztjYXNlIGYuVEFCOnRoaXMubWVudS5hY3RpdmUmJnRoaXMubWVudS5zZWxlY3QodSk7YnJlYWs7Y2FzZSBmLkVTQ0FQRTp0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSYmKHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5jbG9zZSh1KSx1LnByZXZlbnREZWZhdWx0KCkpO2JyZWFrO2RlZmF1bHQ6aT0hMDt0aGlzLl9zZWFyY2hUaW1lb3V0KHUpfX0sa2V5cHJlc3M6ZnVuY3Rpb24ocil7aWYodCl7dD0hMTsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmci5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn1pZighaSl7dmFyIHU9bi51aS5rZXlDb2RlO3N3aXRjaChyLmtleUNvZGUpe2Nhc2UgdS5QQUdFX1VQOnRoaXMuX21vdmUoInByZXZpb3VzUGFnZSIscik7YnJlYWs7Y2FzZSB1LlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJuZXh0UGFnZSIscik7YnJlYWs7Y2FzZSB1LlVQOnRoaXMuX2tleUV2ZW50KCJwcmV2aW91cyIscik7YnJlYWs7Y2FzZSB1LkRPV046dGhpcy5fa2V5RXZlbnQoIm5leHQiLHIpfX19LGlucHV0OmZ1bmN0aW9uKG4pe2lmKHIpe3I9ITE7bi5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn10aGlzLl9zZWFyY2hUaW1lb3V0KG4pfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWRJdGVtPW51bGw7dGhpcy5wcmV2aW91cz10aGlzLl92YWx1ZSgpfSxibHVyOmZ1bmN0aW9uKG4pe2lmKHRoaXMuY2FuY2VsQmx1cil7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyZXR1cm59Y2xlYXJUaW1lb3V0KHRoaXMuc2VhcmNoaW5nKTt0aGlzLmNsb3NlKG4pO3RoaXMuX2NoYW5nZShuKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5tZW51PW4oIjx1bD4iKS5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlIHVpLWZyb250IikuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSkubWVudSh7cm9sZTpudWxsfSkuaGlkZSgpLm1lbnUoImluc3RhbmNlIik7dGhpcy5fb24odGhpcy5tZW51LmVsZW1lbnQse21vdXNlZG93bjpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cn0pO3ZhciBpPXRoaXMubWVudS5lbGVtZW50WzBdO24odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh8fHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmRvY3VtZW50Lm9uZSgibW91c2Vkb3duIixmdW5jdGlvbihyKXtyLnRhcmdldD09PXQuZWxlbWVudFswXXx8ci50YXJnZXQ9PT1pfHxuLmNvbnRhaW5zKGksci50YXJnZXQpfHx0LmNsb3NlKCl9KX0pfSxtZW51Zm9jdXM6ZnVuY3Rpb24odCxpKXt2YXIgcix1O2lmKHRoaXMuaXNOZXdNZW51JiYodGhpcy5pc05ld01lbnU9ITEsdC5vcmlnaW5hbEV2ZW50JiYvXm1vdXNlLy50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSkpe3RoaXMubWVudS5ibHVyKCk7dGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KTtyZXR1cm59dT1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKTshMSE9PXRoaXMuX3RyaWdnZXIoImZvY3VzIix0LHtpdGVtOnV9KSYmdC5vcmlnaW5hbEV2ZW50JiYvXmtleS8udGVzdCh0Lm9yaWdpbmFsRXZlbnQudHlwZSkmJnRoaXMuX3ZhbHVlKHUudmFsdWUpO3I9aS5pdGVtLmF0dHIoImFyaWEtbGFiZWwiKXx8dS52YWx1ZTtyJiZuLnRyaW0ocikubGVuZ3RoJiYodGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChyKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX0sbWVudXNlbGVjdDpmdW5jdGlvbihuLHQpe3ZhciBpPXQuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLHI9dGhpcy5wcmV2aW91czt0aGlzLmVsZW1lbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQmJih0aGlzLmVsZW1lbnQuZm9jdXMoKSx0aGlzLnByZXZpb3VzPXIsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXI7dGhpcy5zZWxlY3RlZEl0ZW09aX0pKTshMSE9PXRoaXMuX3RyaWdnZXIoInNlbGVjdCIsbix7aXRlbTppfSkmJnRoaXMuX3ZhbHVlKGkudmFsdWUpO3RoaXMudGVybT10aGlzLl92YWx1ZSgpO3RoaXMuY2xvc2Uobik7dGhpcy5zZWxlY3RlZEl0ZW09aX19KTt0aGlzLmxpdmVSZWdpb249bigiPHNwYW4+Iix7cm9sZToic3RhdHVzIiwiYXJpYS1saXZlIjoiYXNzZXJ0aXZlIiwiYXJpYS1yZWxldmFudCI6ImFkZGl0aW9ucyJ9KS5hZGRDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIikuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1hdXRvY29tcGxldGUtaW5wdXQiKS5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKTt0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpO249PT0ic291cmNlIiYmdGhpcy5faW5pdFNvdXJjZSgpO249PT0iYXBwZW5kVG8iJiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTtuPT09ImRpc2FibGVkIiYmdCYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQiKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztuLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LHIpe3Iobi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KTp0eXBlb2YgdGhpcy5vcHRpb25zLnNvdXJjZT09InN0cmluZyI/KHI9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihpLHUpe3QueGhyJiZ0Lnhoci5hYm9ydCgpO3QueGhyPW4uYWpheCh7dXJsOnIsZGF0YTppLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3Uobil9LGVycm9yOmZ1bmN0aW9uKCl7dShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxpPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLHI9bi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNoaWZ0S2V5O3QmJighdHx8aXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4obj1uIT1udWxsP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoKT90aGlzLmNsb3NlKHQpOnRoaXMuX3RyaWdnZXIoInNlYXJjaCIsdCk9PT0hMT92b2lkIDA6dGhpcy5fc2VhcmNoKG4pfSxfc2VhcmNoOmZ1bmN0aW9uKG4pe3RoaXMucGVuZGluZysrO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKTt0aGlzLmNhbmNlbFNlYXJjaD0hMTt0aGlzLnNvdXJjZSh7dGVybTpufSx0aGlzLl9yZXNwb25zZSgpKX0sX3Jlc3BvbnNlOmZ1bmN0aW9uKCl7dmFyIHQ9Kyt0aGlzLnJlcXVlc3RJbmRleDtyZXR1cm4gbi5wcm94eShmdW5jdGlvbihuKXt0PT09dGhpcy5yZXF1ZXN0SW5kZXgmJnRoaXMuX19yZXNwb25zZShuKTt0aGlzLnBlbmRpbmctLTt0aGlzLnBlbmRpbmd8fHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7biYmKG49dGhpcy5fbm9ybWFsaXplKG4pKTt0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDpufSk7IXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbiYmbi5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChuKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuY2FuY2VsU2VhcmNoPSEwO3RoaXMuX2Nsb3NlKG4pfSxfY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikmJih0aGlzLm1lbnUuZWxlbWVudC5oaWRlKCksdGhpcy5tZW51LmJsdXIoKSx0aGlzLmlzTmV3TWVudT0hMCx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSxfY2hhbmdlOmZ1bmN0aW9uKG4pe3RoaXMucHJldmlvdXMhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4se2l0ZW06dGhpcy5zZWxlY3RlZEl0ZW19KX0sX25vcm1hbGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGgmJnRbMF0ubGFiZWwmJnRbMF0udmFsdWU/dDpuLm1hcCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09InN0cmluZyI/e2xhYmVsOnQsdmFsdWU6dH06bi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksdCk7dGhpcy5pc05ld01lbnU9ITA7dGhpcy5tZW51LnJlZnJlc2goKTtpLnNob3coKTt0aGlzLl9yZXNpemVNZW51KCk7aS5wb3NpdGlvbihuLmV4dGVuZCh7b2Y6dGhpcy5lbGVtZW50fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKTt0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLm1lbnUubmV4dCgpfSxfcmVzaXplTWVudTpmdW5jdGlvbigpe3ZhciBuPXRoaXMubWVudS5lbGVtZW50O24ub3V0ZXJXaWR0aChNYXRoLm1heChuLndpZHRoKCIiKS5vdXRlcldpZHRoKCkrMSx0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpKSl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcztuLmVhY2goaSxmdW5jdGlvbihuLGkpe3IuX3JlbmRlckl0ZW1EYXRhKHQsaSl9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIsdCl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4oIjxsaT4iKS50ZXh0KGkubGFiZWwpLmFwcGVuZFRvKHQpfSxfbW92ZTpmdW5jdGlvbihuLHQpe2lmKCF0aGlzLm1lbnUuZWxlbWVudC5pcygiOnZpc2libGUiKSl7dGhpcy5zZWFyY2gobnVsbCx0KTtyZXR1cm59aWYodGhpcy5tZW51LmlzRmlyc3RJdGVtKCkmJi9ecHJldmlvdXMvLnRlc3Qobil8fHRoaXMubWVudS5pc0xhc3RJdGVtKCkmJi9ebmV4dC8udGVzdChuKSl7dGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKTt0aGlzLm1lbnUuYmx1cigpO3JldHVybn10aGlzLm1lbnVbbl0odCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnUuZWxlbWVudH0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVNZXRob2QuYXBwbHkodGhpcy5lbGVtZW50LGFyZ3VtZW50cyl9LF9rZXlFdmVudDpmdW5jdGlvbihuLHQpeyghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiYodGhpcy5fbW92ZShuLHQpLHQucHJldmVudERlZmF1bHQoKSl9fSk7bi5leHRlbmQobi51aS5hdXRvY29tcGxldGUse2VzY2FwZVJlZ2V4OmZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKX0sZmlsdGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IFJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisobj4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTsodGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5jYW5jZWxTZWFyY2gpfHwoaT10JiZ0Lmxlbmd0aD90aGlzLm9wdGlvbnMubWVzc2FnZXMucmVzdWx0cyh0Lmxlbmd0aCk6dGhpcy5vcHRpb25zLm1lc3NhZ2VzLm5vUmVzdWx0cyx0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksbigiPGRpdj4iKS50ZXh0KGkpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbikpfX0pO2l0PW4udWkuYXV0b2NvbXBsZXRlOwovKiEKICogalF1ZXJ5IFVJIEJ1dHRvbiAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9idXR0b24vCiAqLwp2YXIgZSxhPSJ1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCIsdj0idWktYnV0dG9uLWljb25zLW9ubHkgdWktYnV0dG9uLWljb24tb25seSB1aS1idXR0b24tdGV4dC1pY29ucyB1aS1idXR0b24tdGV4dC1pY29uLXByaW1hcnkgdWktYnV0dG9uLXRleHQtaWNvbi1zZWNvbmRhcnkgdWktYnV0dG9uLXRleHQtb25seSIscnQ9ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmZpbmQoIjp1aS1idXR0b24iKS5idXR0b24oInJlZnJlc2giKX0sMSl9LHk9ZnVuY3Rpb24odCl7dmFyIGk9dC5uYW1lLHI9dC5mb3JtLHU9bihbXSk7cmV0dXJuIGkmJihpPWkucmVwbGFjZSgvJy9nLCJcXCciKSx1PXI/bihyKS5maW5kKCJbbmFtZT0nIitpKyInXVt0eXBlPXJhZGlvXSIpOm4oIltuYW1lPSciK2krIiddW3R5cGU9cmFkaW9dIix0Lm93bmVyRG9jdW1lbnQpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiF0aGlzLmZvcm19KSksdX07bi53aWRnZXQoInVpLmJ1dHRvbiIse3ZlcnNpb246IjEuMTEuMiIsZGVmYXVsdEVsZW1lbnQ6IjxidXR0b24+IixvcHRpb25zOntkaXNhYmxlZDpudWxsLHRleHQ6ITAsbGFiZWw6bnVsbCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KCJmb3JtIikudW5iaW5kKCJyZXNldCIrdGhpcy5ldmVudE5hbWVzcGFjZSkuYmluZCgicmVzZXQiK3RoaXMuZXZlbnROYW1lc3BhY2UscnQpO3R5cGVvZiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQhPSJib29sZWFuIj90aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ISF0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiKTp0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fZGV0ZXJtaW5lQnV0dG9uVHlwZSgpO3RoaXMuaGFzVGl0bGU9ISF0aGlzLmJ1dHRvbkVsZW1lbnQuYXR0cigidGl0bGUiKTt2YXIgaT10aGlzLHQ9dGhpcy5vcHRpb25zLHI9dGhpcy50eXBlPT09ImNoZWNrYm94Inx8dGhpcy50eXBlPT09InJhZGlvIix1PXI/IiI6InVpLXN0YXRlLWFjdGl2ZSI7dC5sYWJlbD09PW51bGwmJih0LmxhYmVsPXRoaXMudHlwZT09PSJpbnB1dCI/dGhpcy5idXR0b25FbGVtZW50LnZhbCgpOnRoaXMuYnV0dG9uRWxlbWVudC5odG1sKCkpO3RoaXMuX2hvdmVyYWJsZSh0aGlzLmJ1dHRvbkVsZW1lbnQpO3RoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcyhhKS5hdHRyKCJyb2xlIiwiYnV0dG9uIikuYmluZCgibW91c2VlbnRlciIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe3QuZGlzYWJsZWR8fHRoaXM9PT1lJiZuKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pLmJpbmQoIm1vdXNlbGVhdmUiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHxuKHRoaXMpLnJlbW92ZUNsYXNzKHUpfSkuYmluZCgiY2xpY2siK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24obil7dC5kaXNhYmxlZCYmKG4ucHJldmVudERlZmF1bHQoKSxuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX0pO3RoaXMuX29uKHtmb2N1czpmdW5jdGlvbigpe3RoaXMuYnV0dG9uRWxlbWVudC5hZGRDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KTtyJiZ0aGlzLmVsZW1lbnQuYmluZCgiY2hhbmdlIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7aS5yZWZyZXNoKCl9KTt0aGlzLnR5cGU9PT0iY2hlY2tib3giP3RoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCJjbGljayIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2lmKHQuZGlzYWJsZWQpcmV0dXJuITF9KTp0aGlzLnR5cGU9PT0icmFkaW8iP3RoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCJjbGljayIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2lmKHQuZGlzYWJsZWQpcmV0dXJuITE7bih0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIik7aS5idXR0b25FbGVtZW50LmF0dHIoImFyaWEtcHJlc3NlZCIsInRydWUiKTt2YXIgcj1pLmVsZW1lbnRbMF07eShyKS5ub3QocikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLCJmYWxzZSIpfSk6KHRoaXMuYnV0dG9uRWxlbWVudC5iaW5kKCJtb3VzZWRvd24iK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZih0LmRpc2FibGVkKXJldHVybiExO24odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpO2U9dGhpcztpLmRvY3VtZW50Lm9uZSgibW91c2V1cCIsZnVuY3Rpb24oKXtlPW51bGx9KX0pLmJpbmQoIm1vdXNldXAiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oKXtpZih0LmRpc2FibGVkKXJldHVybiExO24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfSkuYmluZCgia2V5ZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbihpKXtpZih0LmRpc2FibGVkKXJldHVybiExOyhpLmtleUNvZGU9PT1uLnVpLmtleUNvZGUuU1BBQ0V8fGkua2V5Q29kZT09PW4udWkua2V5Q29kZS5FTlRFUikmJm4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfSkuYmluZCgia2V5dXAiK3RoaXMuZXZlbnROYW1lc3BhY2UrIiBibHVyIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7bih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KSx0aGlzLmJ1dHRvbkVsZW1lbnQuaXMoImEiKSYmdGhpcy5idXR0b25FbGVtZW50LmtleXVwKGZ1bmN0aW9uKHQpe3Qua2V5Q29kZT09PW4udWkua2V5Q29kZS5TUEFDRSYmbih0aGlzKS5jbGljaygpfSkpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHQuZGlzYWJsZWQpO3RoaXMuX3Jlc2V0QnV0dG9uKCl9LF9kZXRlcm1pbmVCdXR0b25UeXBlOmZ1bmN0aW9uKCl7dmFyIG4sdCxpO3RoaXMudHlwZT10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPWNoZWNrYm94XSIpPyJjaGVja2JveCI6dGhpcy5lbGVtZW50LmlzKCJbdHlwZT1yYWRpb10iKT8icmFkaW8iOnRoaXMuZWxlbWVudC5pcygiaW5wdXQiKT8iaW5wdXQiOiJidXR0b24iO3RoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyI/KG49dGhpcy5lbGVtZW50LnBhcmVudHMoKS5sYXN0KCksdD0ibGFiZWxbZm9yPSciK3RoaXMuZWxlbWVudC5hdHRyKCJpZCIpKyInXSIsdGhpcy5idXR0b25FbGVtZW50PW4uZmluZCh0KSx0aGlzLmJ1dHRvbkVsZW1lbnQubGVuZ3RofHwobj1uLmxlbmd0aD9uLnNpYmxpbmdzKCk6dGhpcy5lbGVtZW50LnNpYmxpbmdzKCksdGhpcy5idXR0b25FbGVtZW50PW4uZmlsdGVyKHQpLHRoaXMuYnV0dG9uRWxlbWVudC5sZW5ndGh8fCh0aGlzLmJ1dHRvbkVsZW1lbnQ9bi5maW5kKHQpKSksdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1oZWxwZXItaGlkZGVuLWFjY2Vzc2libGUiKSxpPXRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKSxpJiZ0aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuYnV0dG9uRWxlbWVudC5wcm9wKCJhcmlhLXByZXNzZWQiLGkpKTp0aGlzLmJ1dHRvbkVsZW1lbnQ9dGhpcy5lbGVtZW50fSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b25FbGVtZW50fSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKGErIiB1aS1zdGF0ZS1hY3RpdmUgIit2KS5yZW1vdmVBdHRyKCJyb2xlIikucmVtb3ZlQXR0cigiYXJpYS1wcmVzc2VkIikuaHRtbCh0aGlzLmJ1dHRvbkVsZW1lbnQuZmluZCgiLnVpLWJ1dHRvbi10ZXh0IikuaHRtbCgpKTt0aGlzLmhhc1RpdGxlfHx0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cigidGl0bGUiKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKHRoaXMuX3N1cGVyKG4sdCksbj09PSJkaXNhYmxlZCIpe3RoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpO3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISF0KTt0JiYodGhpcy50eXBlPT09ImNoZWNrYm94Inx8dGhpcy50eXBlPT09InJhZGlvIj90aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIik6dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyB1aS1zdGF0ZS1hY3RpdmUiKSk7cmV0dXJufXRoaXMuX3Jlc2V0QnV0dG9uKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnQuaXMoIjpkaXNhYmxlZCIpOnRoaXMuZWxlbWVudC5oYXNDbGFzcygidWktYnV0dG9uLWRpc2FibGVkIik7dCE9PXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdCk7dGhpcy50eXBlPT09InJhZGlvIj95KHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe24odGhpcykuaXMoIjpjaGVja2VkIik/bih0aGlzKS5idXR0b24oIndpZGdldCIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLCJ0cnVlIik6bih0aGlzKS5idXR0b24oIndpZGdldCIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5hdHRyKCJhcmlhLXByZXNzZWQiLCJmYWxzZSIpfSk6dGhpcy50eXBlPT09ImNoZWNrYm94IiYmKHRoaXMuZWxlbWVudC5pcygiOmNoZWNrZWQiKT90aGlzLmJ1dHRvbkVsZW1lbnQuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsInRydWUiKTp0aGlzLmJ1dHRvbkVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoImFyaWEtcHJlc3NlZCIsImZhbHNlIikpfSxfcmVzZXRCdXR0b246ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGU9PT0iaW5wdXQiKXt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMuZWxlbWVudC52YWwodGhpcy5vcHRpb25zLmxhYmVsKTtyZXR1cm59dmFyIGk9dGhpcy5idXR0b25FbGVtZW50LnJlbW92ZUNsYXNzKHYpLGY9bigiPHNwYW4+PFwvc3Bhbj4iLHRoaXMuZG9jdW1lbnRbMF0pLmFkZENsYXNzKCJ1aS1idXR0b24tdGV4dCIpLmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKS5hcHBlbmRUbyhpLmVtcHR5KCkpLnRleHQoKSx0PXRoaXMub3B0aW9ucy5pY29ucyx1PXQucHJpbWFyeSYmdC5zZWNvbmRhcnkscj1bXTt0LnByaW1hcnl8fHQuc2Vjb25kYXJ5Pyh0aGlzLm9wdGlvbnMudGV4dCYmci5wdXNoKCJ1aS1idXR0b24tdGV4dC1pY29uIisodT8icyI6dC5wcmltYXJ5PyItcHJpbWFyeSI6Ii1zZWNvbmRhcnkiKSksdC5wcmltYXJ5JiZpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1wcmltYXJ5IHVpLWljb24gIit0LnByaW1hcnkrIic+PFwvc3Bhbj4iKSx0LnNlY29uZGFyeSYmaS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1idXR0b24taWNvbi1zZWNvbmRhcnkgdWktaWNvbiAiK3Quc2Vjb25kYXJ5KyInPjxcL3NwYW4+IiksdGhpcy5vcHRpb25zLnRleHR8fChyLnB1c2godT8idWktYnV0dG9uLWljb25zLW9ubHkiOiJ1aS1idXR0b24taWNvbi1vbmx5IiksdGhpcy5oYXNUaXRsZXx8aS5hdHRyKCJ0aXRsZSIsbi50cmltKGYpKSkpOnIucHVzaCgidWktYnV0dG9uLXRleHQtb25seSIpO2kuYWRkQ2xhc3Moci5qb2luKCIgIikpfX0pO24ud2lkZ2V0KCJ1aS5idXR0b25zZXQiLHt2ZXJzaW9uOiIxLjExLjIiLG9wdGlvbnM6e2l0ZW1zOiJidXR0b24sIGlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwgaW5wdXRbdHlwZT1jaGVja2JveF0sIGlucHV0W3R5cGU9cmFkaW9dLCBhLCA6ZGF0YSh1aS1idXR0b24pIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktYnV0dG9uc2V0Iil9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtuPT09ImRpc2FibGVkIiYmdGhpcy5idXR0b25zLmJ1dHRvbigib3B0aW9uIixuLHQpO3RoaXMuX3N1cGVyKG4sdCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmVsZW1lbnQuY3NzKCJkaXJlY3Rpb24iKT09PSJydGwiLHQ9dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKSxyPXQuZmlsdGVyKCI6dWktYnV0dG9uIik7dC5ub3QoIjp1aS1idXR0b24iKS5idXR0b24oKTtyLmJ1dHRvbigicmVmcmVzaCIpO3RoaXMuYnV0dG9ucz10Lm1hcChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLmJ1dHRvbigid2lkZ2V0IilbMF19KS5yZW1vdmVDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5maWx0ZXIoIjpmaXJzdCIpLmFkZENsYXNzKGk/InVpLWNvcm5lci1yaWdodCI6InVpLWNvcm5lci1sZWZ0IikuZW5kKCkuZmlsdGVyKCI6bGFzdCIpLmFkZENsYXNzKGk/InVpLWNvcm5lci1sZWZ0IjoidWktY29ybmVyLXJpZ2h0IikuZW5kKCkuZW5kKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idXR0b25zZXQiKTt0aGlzLmJ1dHRvbnMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuYnV0dG9uKCJ3aWRnZXQiKVswXX0pLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQiKS5lbmQoKS5idXR0b24oImRlc3Ryb3kiKX19KTt1dD1uLnVpLmJ1dHRvbjsKLyohCiAqIGpRdWVyeSBVSSBEYXRlcGlja2VyIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RhdGVwaWNrZXIvCiAqLwpuLmV4dGVuZChuLnVpLHtkYXRlcGlja2VyOnt2ZXJzaW9uOiIxLjExLjIifX0pO24uZXh0ZW5kKHAucHJvdG90eXBlLHttYXJrZXJDbGFzc05hbWU6Imhhc0RhdGVwaWNrZXIiLG1heFJvd3M6NCxfd2lkZ2V0RGF0ZXBpY2tlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRwRGl2fSxzZXREZWZhdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gdSh0aGlzLl9kZWZhdWx0cyxufHx7fSksdGhpc30sX2F0dGFjaERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcixmLHU7cj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zj1yPT09ImRpdiJ8fHI9PT0ic3BhbiI7dC5pZHx8KHRoaXMudXVpZCs9MSx0LmlkPSJkcCIrdGhpcy51dWlkKTt1PXRoaXMuX25ld0luc3Qobih0KSxmKTt1LnNldHRpbmdzPW4uZXh0ZW5kKHt9LGl8fHt9KTtyPT09ImlucHV0Ij90aGlzLl9jb25uZWN0RGF0ZXBpY2tlcih0LHUpOmYmJnRoaXMuX2lubGluZURhdGVwaWNrZXIodCx1KX0sX25ld0luc3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj10WzBdLmlkLnJlcGxhY2UoLyhbXkEtWmEtejAtOV9cLV0pL2csIlxcXFwkMSIpO3JldHVybntpZDpyLGlucHV0OnQsc2VsZWN0ZWREYXk6MCxzZWxlY3RlZE1vbnRoOjAsc2VsZWN0ZWRZZWFyOjAsZHJhd01vbnRoOjAsZHJhd1llYXI6MCxpbmxpbmU6aSxkcERpdjppP3cobigiPGRpdiBjbGFzcz0nIit0aGlzLl9pbmxpbmVDbGFzcysiIHVpLWRhdGVwaWNrZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCB1aS1jb3JuZXItYWxsJz48XC9kaXY+IikpOnRoaXMuZHBEaXZ9fSxfY29ubmVjdERhdGVwaWNrZXI6ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHQpOyhpLmFwcGVuZD1uKFtdKSxpLnRyaWdnZXI9bihbXSksci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkpfHwodGhpcy5fYXR0YWNobWVudHMocixpKSxyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5rZXlkb3duKHRoaXMuX2RvS2V5RG93bikua2V5cHJlc3ModGhpcy5fZG9LZXlQcmVzcykua2V5dXAodGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscixmLGU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxvPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTtlJiYoaS5hcHBlbmQ9bigiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitlKyI8XC9zcGFuPiIpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLmFwcGVuZCkpO3QudW5iaW5kKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpO2kudHJpZ2dlciYmaS50cmlnZ2VyLnJlbW92ZSgpO3U9dGhpcy5fZ2V0KGksInNob3dPbiIpOyh1PT09ImZvY3VzInx8dT09PSJib3RoIikmJnQuZm9jdXModGhpcy5fc2hvd0RhdGVwaWNrZXIpOyh1PT09ImJ1dHRvbiJ8fHU9PT0iYm90aCIpJiYocj10aGlzLl9nZXQoaSwiYnV0dG9uVGV4dCIpLGY9dGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlIiksaS50cmlnZ2VyPW4odGhpcy5fZ2V0KGksImJ1dHRvbkltYWdlT25seSIpP24oIjxpbWcvPiIpLmFkZENsYXNzKHRoaXMuX3RyaWdnZXJDbGFzcykuYXR0cih7c3JjOmYsYWx0OnIsdGl0bGU6cn0pOm4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5odG1sKGY/bigiPGltZy8+IikuYXR0cih7c3JjOmYsYWx0OnIsdGl0bGU6cn0pOnIpKSx0W28/ImJlZm9yZSI6ImFmdGVyIl0oaS50cmlnZ2VyKSxpLnRyaWdnZXIuY2xpY2soZnVuY3Rpb24oKXtyZXR1cm4gbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9sYXN0SW5wdXQ9PT10WzBdP24uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTpuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCE9PXRbMF0/KG4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKSxuLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRbMF0pKTpuLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRbMF0pLCExfSkpfSxfYXV0b1NpemU6ZnVuY3Rpb24obil7aWYodGhpcy5fZ2V0KG4sImF1dG9TaXplIikmJiFuLmlubGluZSl7dmFyIHIsdSxmLHQsaT1uZXcgRGF0ZSgyMDA5LDExLDIwKSxlPXRoaXMuX2dldChuLCJkYXRlRm9ybWF0Iik7ZS5tYXRjaCgvW0RNXS8pJiYocj1mdW5jdGlvbihuKXtmb3IodT0wLGY9MCx0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5sZW5ndGg+dSYmKHU9blt0XS5sZW5ndGgsZj10KTtyZXR1cm4gZn0saS5zZXRNb250aChyKHRoaXMuX2dldChuLGUubWF0Y2goL01NLyk/Im1vbnRoTmFtZXMiOiJtb250aE5hbWVzU2hvcnQiKSkpLGkuc2V0RGF0ZShyKHRoaXMuX2dldChuLGUubWF0Y2goL0RELyk/ImRheU5hbWVzIjoiZGF5TmFtZXNTaG9ydCIpKSsyMC1pLmdldERheSgpKSk7bi5pbnB1dC5hdHRyKCJzaXplIix0aGlzLl9mb3JtYXREYXRlKG4saSkubGVuZ3RoKX19LF9pbmxpbmVEYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0KTtyLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKXx8KHIuYWRkQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpLmFwcGVuZChpLmRwRGl2KSxuLmRhdGEodCwiZGF0ZXBpY2tlciIsaSksdGhpcy5fc2V0RGF0ZShpLHRoaXMuX2dldERlZmF1bHREYXRlKGkpLCEwKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSxpLnNldHRpbmdzLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KSxpLmRwRGl2LmNzcygiZGlzcGxheSIsImJsb2NrIikpfSxfZGlhbG9nRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkscixmLGUpe3ZhciBzLGgsYyxsLGEsbz10aGlzLl9kaWFsb2dJbnN0O3JldHVybiBvfHwodGhpcy51dWlkKz0xLHM9ImRwIit0aGlzLnV1aWQsdGhpcy5fZGlhbG9nSW5wdXQ9bigiPGlucHV0IHR5cGU9J3RleHQnIGlkPSciK3MrIicgc3R5bGU9J3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMTAwcHg7IHdpZHRoOiAwcHg7Jy8+IiksdGhpcy5fZGlhbG9nSW5wdXQua2V5ZG93bih0aGlzLl9kb0tleURvd24pLG4oImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLG89dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxvLnNldHRpbmdzPXt9LG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbykpLHUoby5zZXR0aW5ncyxmfHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKG8saSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPWU/ZS5sZW5ndGg/ZTpbZS5wYWdlWCxlLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArbCxjLzItMTUwK2FdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoImxlZnQiLHRoaXMuX3Bvc1swXSsyMCsicHgiKS5jc3MoInRvcCIsdGhpcy5fcG9zWzFdKyJweCIpLG8uc2V0dGluZ3Mub25TZWxlY3Q9cix0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksbi5ibG9ja1VJJiZuLmJsb2NrVUkodGhpcy5kcERpdiksbi5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixvKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGkscj1uKHQpLHU9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTtyLmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG4ucmVtb3ZlRGF0YSh0LCJkYXRlcGlja2VyIiksaT09PSJpbnB1dCI/KHUuYXBwZW5kLnJlbW92ZSgpLHUudHJpZ2dlci5yZW1vdmUoKSxyLnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS51bmJpbmQoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcikudW5iaW5kKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLnVuYmluZCgia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLnVuYmluZCgia2V5dXAiLHRoaXMuX2RvS2V5VXApKTooaT09PSJkaXYifHxpPT09InNwYW4iKSYmci5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKSl9LF9lbmFibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9PT0iaW5wdXQiPyh0LmRpc2FibGVkPSExLGYudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSExfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjEuMCIsY3Vyc29yOiIifSkpOihpPT09ImRpdiJ8fGk9PT0ic3BhbiIpJiYocj11LmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcyksci5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHIuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5wcm9wKCJkaXNhYmxlZCIsITEpKSx0aGlzLl9kaXNhYmxlZElucHV0cz1uLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/bnVsbDpufSkpfSxfZGlzYWJsZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIGkscix1PW4odCksZj1uLmRhdGEodCwiZGF0ZXBpY2tlciIpO3UuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpJiYoaT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaT09PSJpbnB1dCI/KHQuZGlzYWJsZWQ9ITAsZi50cmlnZ2VyLmZpbHRlcigiYnV0dG9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9KS5lbmQoKS5maWx0ZXIoImltZyIpLmNzcyh7b3BhY2l0eToiMC41IixjdXJzb3I6ImRlZmF1bHQifSkpOihpPT09ImRpdiJ8fGk9PT0ic3BhbiIpJiYocj11LmNoaWxkcmVuKCIuIit0aGlzLl9pbmxpbmVDbGFzcyksci5jaGlsZHJlbigpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHIuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgsIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXIiKS5wcm9wKCJkaXNhYmxlZCIsITApKSx0aGlzLl9kaXNhYmxlZElucHV0cz1uLm1hcCh0aGlzLl9kaXNhYmxlZElucHV0cyxmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/bnVsbDpufSksdGhpcy5fZGlzYWJsZWRJbnB1dHNbdGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoXT10KX0sX2lzRGlzYWJsZWREYXRlcGlja2VyOmZ1bmN0aW9uKG4pe2lmKCFuKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5fZGlzYWJsZWRJbnB1dHMubGVuZ3RoO3QrKylpZih0aGlzLl9kaXNhYmxlZElucHV0c1t0XT09PW4pcmV0dXJuITA7cmV0dXJuITF9LF9nZXRJbnN0OmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbi5kYXRhKHQsImRhdGVwaWNrZXIiKX1jYXRjaChpKXt0aHJvdyJNaXNzaW5nIGluc3RhbmNlIGRhdGEgZm9yIHRoaXMgZGF0ZXBpY2tlciI7fX0sX29wdGlvbkRhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciBlLGgsbyxzLGY9dGhpcy5fZ2V0SW5zdCh0KTtpZihhcmd1bWVudHMubGVuZ3RoPT09MiYmdHlwZW9mIGk9PSJzdHJpbmciKXJldHVybiBpPT09ImRlZmF1bHRzIj9uLmV4dGVuZCh7fSxuLmRhdGVwaWNrZXIuX2RlZmF1bHRzKTpmP2k9PT0iYWxsIj9uLmV4dGVuZCh7fSxmLnNldHRpbmdzKTp0aGlzLl9nZXQoZixpKTpudWxsO2U9aXx8e307dHlwZW9mIGk9PSJzdHJpbmciJiYoZT17fSxlW2ldPXIpO2YmJih0aGlzLl9jdXJJbnN0PT09ZiYmdGhpcy5faGlkZURhdGVwaWNrZXIoKSxoPXRoaXMuX2dldERhdGVEYXRlcGlja2VyKHQsITApLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtaW4iKSxzPXRoaXMuX2dldE1pbk1heERhdGUoZiwibWF4IiksdShmLnNldHRpbmdzLGUpLG8hPT1udWxsJiZlLmRhdGVGb3JtYXQhPT11bmRlZmluZWQmJmUubWluRGF0ZT09PXVuZGVmaW5lZCYmKGYuc2V0dGluZ3MubWluRGF0ZT10aGlzLl9mb3JtYXREYXRlKGYsbykpLHMhPT1udWxsJiZlLmRhdGVGb3JtYXQhPT11bmRlZmluZWQmJmUubWF4RGF0ZT09PXVuZGVmaW5lZCYmKGYuc2V0dGluZ3MubWF4RGF0ZT10aGlzLl9mb3JtYXREYXRlKGYscykpLCJkaXNhYmxlZCJpbiBlJiYoZS5kaXNhYmxlZD90aGlzLl9kaXNhYmxlRGF0ZXBpY2tlcih0KTp0aGlzLl9lbmFibGVEYXRlcGlja2VyKHQpKSx0aGlzLl9hdHRhY2htZW50cyhuKHQpLGYpLHRoaXMuX2F1dG9TaXplKGYpLHRoaXMuX3NldERhdGUoZixoKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoZiksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihmKSl9LF9jaGFuZ2VEYXRlcGlja2VyOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9vcHRpb25EYXRlcGlja2VyKG4sdCxpKX0sX3JlZnJlc2hEYXRlcGlja2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldEluc3Qobik7dCYmdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih0KX0sX3NldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fZ2V0SW5zdChuKTtpJiYodGhpcy5fc2V0RGF0ZShpLHQpLHRoaXMuX3VwZGF0ZURhdGVwaWNrZXIoaSksdGhpcy5fdXBkYXRlQWx0ZXJuYXRlKGkpKX0sX2dldERhdGVEYXRlcGlja2VyOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fZ2V0SW5zdChuKTtyZXR1cm4gaSYmIWkuaW5saW5lJiZ0aGlzLl9zZXREYXRlRnJvbUZpZWxkKGksdCksaT90aGlzLl9nZXREYXRlKGkpOm51bGx9LF9kb0tleURvd246ZnVuY3Rpb24odCl7dmFyIHUsZSxmLGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KSxyPSEwLG89aS5kcERpdi5pcygiLnVpLWRhdGVwaWNrZXItcnRsIik7aWYoaS5fa2V5RXZlbnQ9ITAsbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZylzd2l0Y2godC5rZXlDb2RlKXtjYXNlIDk6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO3I9ITE7YnJlYWs7Y2FzZSAxMzpyZXR1cm4gZj1uKCJ0ZC4iK24uZGF0ZXBpY2tlci5fZGF5T3ZlckNsYXNzKyI6bm90KC4iK24uZGF0ZXBpY2tlci5fY3VycmVudENsYXNzKyIpIixpLmRwRGl2KSxmWzBdJiZuLmRhdGVwaWNrZXIuX3NlbGVjdERheSh0LnRhcmdldCxpLnNlbGVjdGVkTW9udGgsaS5zZWxlY3RlZFllYXIsZlswXSksdT1uLmRhdGVwaWNrZXIuX2dldChpLCJvblNlbGVjdCIpLHU/KGU9bi5kYXRlcGlja2VyLl9mb3JtYXREYXRlKGkpLHUuYXBwbHkoaS5pbnB1dD9pLmlucHV0WzBdOm51bGwsW2UsaV0pKTpuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksITE7Y2FzZSAyNzpuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk7YnJlYWs7Y2FzZSAzMzpuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5Py1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzQ6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8rbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOituLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM1Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fY2xlYXJEYXRlKHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzY6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9nb3RvVG9kYXkodC50YXJnZXQpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzNzoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsbz8xOi0xLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5Py1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6LW4uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgMzg6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LC03LCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM5Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCxvPy0xOjEsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O3Qub3JpZ2luYWxFdmVudC5hbHRLZXkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSA0MDoodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7ZGVmYXVsdDpyPSExfWVsc2UgdC5rZXlDb2RlPT09MzYmJnQuY3RybEtleT9uLmRhdGVwaWNrZXIuX3Nob3dEYXRlcGlja2VyKHRoaXMpOnI9ITE7ciYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKX0sX2RvS2V5UHJlc3M6ZnVuY3Rpb24odCl7dmFyIGkscix1PW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYobi5kYXRlcGlja2VyLl9nZXQodSwiY29uc3RyYWluSW5wdXQiKSlyZXR1cm4gaT1uLmRhdGVwaWNrZXIuX3Bvc3NpYmxlQ2hhcnMobi5kYXRlcGlja2VyLl9nZXQodSwiZGF0ZUZvcm1hdCIpKSxyPVN0cmluZy5mcm9tQ2hhckNvZGUodC5jaGFyQ29kZT09bnVsbD90LmtleUNvZGU6dC5jaGFyQ29kZSksdC5jdHJsS2V5fHx0Lm1ldGFLZXl8fHI8IiAifHwhaXx8aS5pbmRleE9mKHIpPi0xfSxfZG9LZXlVcDpmdW5jdGlvbih0KXt2YXIgcixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCk7aWYoaS5pbnB1dC52YWwoKSE9PWkubGFzdFZhbCl0cnl7cj1uLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KGksImRhdGVGb3JtYXQiKSxpLmlucHV0P2kuaW5wdXQudmFsKCk6bnVsbCxuLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyhpKSk7ciYmKG4uZGF0ZXBpY2tlci5fc2V0RGF0ZUZyb21GaWVsZChpKSxuLmRhdGVwaWNrZXIuX3VwZGF0ZUFsdGVybmF0ZShpKSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSkpfWNhdGNoKHUpe31yZXR1cm4hMH0sX3Nob3dEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe2lmKHQ9dC50YXJnZXR8fHQsdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImlucHV0IiYmKHQ9bigiaW5wdXQiLHQucGFyZW50Tm9kZSlbMF0pLCFuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKHQpJiZuLmRhdGVwaWNrZXIuX2xhc3RJbnB1dCE9PXQpe3ZhciBpLG8scyxyLGYsZSxoOyhpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0KSxuLmRhdGVwaWNrZXIuX2N1ckluc3QmJm4uZGF0ZXBpY2tlci5fY3VySW5zdCE9PWkmJihuLmRhdGVwaWNrZXIuX2N1ckluc3QuZHBEaXYuc3RvcCghMCwhMCksaSYmbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcihuLmRhdGVwaWNrZXIuX2N1ckluc3QuaW5wdXRbMF0pKSxvPW4uZGF0ZXBpY2tlci5fZ2V0KGksImJlZm9yZVNob3ciKSxzPW8/by5hcHBseSh0LFt0LGldKTp7fSxzIT09ITEpJiYodShpLnNldHRpbmdzLHMpLGkubGFzdFZhbD1udWxsLG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsbi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxuLmRhdGVwaWNrZXIuX3Bvc3x8KG4uZGF0ZXBpY2tlci5fcG9zPW4uZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxuLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLHI9ITEsbih0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD1uKHRoaXMpLmNzcygicG9zaXRpb24iKT09PSJmaXhlZCIsIXJ9KSxmPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksZj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksZixyKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOnI/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6Zi5sZWZ0KyJweCIsdG9wOmYudG9wKyJweCJ9KSxpLmlubGluZXx8KGU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxoPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGZ0KG4odCkpKzEpLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmc9ITAsbi5lZmZlY3RzJiZuLmVmZmVjdHMuZWZmZWN0W2VdP2kuZHBEaXYuc2hvdyhlLG4uZGF0ZXBpY2tlci5fZ2V0KGksInNob3dPcHRpb25zIiksaCk6aS5kcERpdltlfHwic2hvdyJdKGU/aDpudWxsKSxuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQoaSkmJmkuaW5wdXQuZm9jdXMoKSxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9aSkpfX0sX3VwZGF0ZURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dGhpcy5tYXhSb3dzPTQ7cj10O3QuZHBEaXYuZW1wdHkoKS5hcHBlbmQodGhpcy5fZ2VuZXJhdGVIVE1MKHQpKTt0aGlzLl9hdHRhY2hIYW5kbGVycyh0KTt2YXIgaSx1PXRoaXMuX2dldE51bWJlck9mTW9udGhzKHQpLGY9dVsxXSxlPXQuZHBEaXYuZmluZCgiLiIrdGhpcy5fZGF5T3ZlckNsYXNzKyIgYSIpO2UubGVuZ3RoPjAmJmIuYXBwbHkoZS5nZXQoMCkpO3QuZHBEaXYucmVtb3ZlQ2xhc3MoInVpLWRhdGVwaWNrZXItbXVsdGktMiB1aS1kYXRlcGlja2VyLW11bHRpLTMgdWktZGF0ZXBpY2tlci1tdWx0aS00Iikud2lkdGgoIiIpO2Y+MSYmdC5kcERpdi5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0iK2YpLmNzcygid2lkdGgiLDE3KmYrImVtIik7dC5kcERpdlsodVswXSE9PTF8fHVbMV0hPT0xPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1tdWx0aSIpO3QuZHBEaXZbKHRoaXMuX2dldCh0LCJpc1JUTCIpPyJhZGQiOiJyZW1vdmUiKSsiQ2xhc3MiXSgidWktZGF0ZXBpY2tlci1ydGwiKTt0PT09bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2RhdGVwaWNrZXJTaG93aW5nJiZuLmRhdGVwaWNrZXIuX3Nob3VsZEZvY3VzSW5wdXQodCkmJnQuaW5wdXQuZm9jdXMoKTt0LnllYXJzaHRtbCYmKGk9dC55ZWFyc2h0bWwsc2V0VGltZW91dChmdW5jdGlvbigpe2k9PT10LnllYXJzaHRtbCYmdC55ZWFyc2h0bWwmJnQuZHBEaXYuZmluZCgic2VsZWN0LnVpLWRhdGVwaWNrZXIteWVhcjpmaXJzdCIpLnJlcGxhY2VXaXRoKHQueWVhcnNodG1sKTtpPXQueWVhcnNodG1sPW51bGx9LDApKX0sX3Nob3VsZEZvY3VzSW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIG4uaW5wdXQmJm4uaW5wdXQuaXMoIjp2aXNpYmxlIikmJiFuLmlucHV0LmlzKCI6ZGlzYWJsZWQiKSYmIW4uaW5wdXQuaXMoIjpmb2N1cyIpfSxfY2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXQuZHBEaXYub3V0ZXJXaWR0aCgpLGY9dC5kcERpdi5vdXRlckhlaWdodCgpLGg9dC5pbnB1dD90LmlucHV0Lm91dGVyV2lkdGgoKTowLG89dC5pbnB1dD90LmlucHV0Lm91dGVySGVpZ2h0KCk6MCxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCsocj8wOm4oZG9jdW1lbnQpLnNjcm9sbExlZnQoKSkscz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsVG9wKCkpO3JldHVybiBpLmxlZnQtPXRoaXMuX2dldCh0LCJpc1JUTCIpP3UtaDowLGkubGVmdC09ciYmaS5sZWZ0PT09dC5pbnB1dC5vZmZzZXQoKS5sZWZ0P24oZG9jdW1lbnQpLnNjcm9sbExlZnQoKTowLGkudG9wLT1yJiZpLnRvcD09PXQuaW5wdXQub2Zmc2V0KCkudG9wK28/bihkb2N1bWVudCkuc2Nyb2xsVG9wKCk6MCxpLmxlZnQtPU1hdGgubWluKGkubGVmdCxpLmxlZnQrdT5lJiZlPnU/TWF0aC5hYnMoaS5sZWZ0K3UtZSk6MCksaS50b3AtPU1hdGgubWluKGkudG9wLGkudG9wK2Y+cyYmcz5mP01hdGguYWJzKGYrbyk6MCksaX0sX2ZpbmRQb3M6ZnVuY3Rpb24odCl7Zm9yKHZhciBpLHI9dGhpcy5fZ2V0SW5zdCh0KSx1PXRoaXMuX2dldChyLCJpc1JUTCIpO3QmJih0LnR5cGU9PT0iaGlkZGVuInx8dC5ub2RlVHlwZSE9PTF8fG4uZXhwci5maWx0ZXJzLmhpZGRlbih0KSk7KXQ9dFt1PyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO3JldHVybiBpPW4odCkub2Zmc2V0KCksW2kubGVmdCxpLnRvcF19LF9oaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgcixmLHUsZSxpPXRoaXMuX2N1ckluc3Q7aSYmKCF0fHxpPT09bi5kYXRhKHQsImRhdGVwaWNrZXIiKSkmJnRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSxmPXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHU9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxmLHUpOmkuZHBEaXZbcj09PSJzbGlkZURvd24iPyJzbGlkZVVwIjpyPT09ImZhZGVJbiI/ImZhZGVPdXQiOiJoaWRlIl0ocj9mOm51bGwsdSkscnx8dSgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLGU9dGhpcy5fZ2V0KGksIm9uQ2xvc2UiKSxlJiZlLmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykudW5iaW5kKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe2lmKG4uZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9bih0LnRhcmdldCkscj1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8aS5wYXJlbnRzKCIjIituLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoIT09MHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT1yKXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciBmPW4odCksdT10aGlzLl9nZXRJbnN0KGZbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodSxpKyhyPT09Ik0iP3RoaXMuX2dldCh1LCJzaG93Q3VycmVudEF0UG9zIik6MCksciksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGk9dGhpcy5fZ2V0SW5zdCh1WzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToocj1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCkpO3RoaXMuX25vdGlmeUNoYW5nZShpKTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt1WyJzZWxlY3RlZCIrKHI9PT0iTSI/Ik1vbnRoIjoiWWVhciIpXT11WyJkcmF3Iisocj09PSJNIj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UodSk7dGhpcy5fYWRqdXN0RGF0ZShmKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGkscix1KXt2YXIgZixlPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGVbMF0pfHwoZj10aGlzLl9nZXRJbnN0KGVbMF0pLGYuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PW4oImEiLHUpLmh0bWwoKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpO3RoaXMuX3NlbGVjdERhdGUoaSwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLHI9dGhpcy5fZ2V0SW5zdChmWzBdKTtpPWkhPW51bGw/aTp0aGlzLl9mb3JtYXREYXRlKHIpO3IuaW5wdXQmJnIuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShyKTt1PXRoaXMuX2dldChyLCJvblNlbGVjdCIpO3U/dS5hcHBseShyLmlucHV0P3IuaW5wdXRbMF06bnVsbCxbaSxyXSk6ci5pbnB1dCYmci5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtyLmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHIpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD1yLmlucHV0WzBdLHR5cGVvZiByLmlucHV0WzBdIT0ib2JqZWN0IiYmci5pbnB1dC5mb2N1cygpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHUsZj10aGlzLl9nZXQodCwiYWx0RmllbGQiKTtmJiYoaT10aGlzLl9nZXQodCwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0Iikscj10aGlzLl9nZXREYXRlKHQpLHU9dGhpcy5mb3JtYXREYXRlKGkscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpLG4oZikuZWFjaChmdW5jdGlvbigpe24odGhpcykudmFsKHUpfSkpfSxub1dlZWtlbmRzOmZ1bmN0aW9uKG4pe3ZhciB0PW4uZ2V0RGF5KCk7cmV0dXJuW3Q+MCYmdDw2LCIiXX0saXNvODYwMVdlZWs6ZnVuY3Rpb24obil7dmFyIGksdD1uZXcgRGF0ZShuLmdldFRpbWUoKSk7cmV0dXJuIHQuc2V0RGF0ZSh0LmdldERhdGUoKSs0LSh0LmdldERheSgpfHw3KSksaT10LmdldFRpbWUoKSx0LnNldE1vbnRoKDApLHQuc2V0RGF0ZSgxKSxNYXRoLmZsb29yKE1hdGgucm91bmQoKGktdCkvODY0ZTUpLzcpKzF9LHBhcnNlRGF0ZTpmdW5jdGlvbih0LGkscil7aWYodD09bnVsbHx8aT09bnVsbCl0aHJvdyJJbnZhbGlkIGFyZ3VtZW50cyI7aWYoaT10eXBlb2YgaT09Im9iamVjdCI/aS50b1N0cmluZygpOmkrIiIsaT09PSIiKXJldHVybiBudWxsO2Zvcih2YXIgYSx2LGY9MCx5PShyP3Iuc2hvcnRZZWFyQ3V0b2ZmOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5zaG9ydFllYXJDdXRvZmYsZD10eXBlb2YgeSE9InN0cmluZyI/eToobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KHksMTApLGc9KHI/ci5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LG50PShyP3IuZGF5TmFtZXM6bnVsbCl8fHRoaXMuX2RlZmF1bHRzLmRheU5hbWVzLHR0PShyP3IubW9udGhOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzU2hvcnQsaXQ9KHI/ci5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGU9LTEscz0tMSxoPS0xLHA9LTEsdz0hMSx1LGw9ZnVuY3Rpb24obil7dmFyIGk9bysxPHQubGVuZ3RoJiZ0LmNoYXJBdChvKzEpPT09bjtyZXR1cm4gaSYmbysrLGl9LGM9ZnVuY3Rpb24obil7dmFyIHU9bChuKSxyPW49PT0iQCI/MTQ6bj09PSIhIj8yMDpuPT09InkiJiZ1PzQ6bj09PSJvIj8zOjIsZT1uPT09InkiP3I6MSxvPW5ldyBSZWdFeHAoIl5cXGR7IitlKyIsIityKyJ9IiksdD1pLnN1YnN0cmluZyhmKS5tYXRjaChvKTtpZighdCl0aHJvdyJNaXNzaW5nIG51bWJlciBhdCBwb3NpdGlvbiAiK2Y7cmV0dXJuIGYrPXRbMF0ubGVuZ3RoLHBhcnNlSW50KHRbMF0sMTApfSxrPWZ1bmN0aW9uKHQscix1KXt2YXIgZT0tMSxvPW4ubWFwKGwodCk/dTpyLGZ1bmN0aW9uKG4sdCl7cmV0dXJuW1t0LG5dXX0pLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4tKG5bMV0ubGVuZ3RoLXRbMV0ubGVuZ3RoKX0pO2lmKG4uZWFjaChvLGZ1bmN0aW9uKG4sdCl7dmFyIHI9dFsxXTtpZihpLnN1YnN0cihmLHIubGVuZ3RoKS50b0xvd2VyQ2FzZSgpPT09ci50b0xvd2VyQ2FzZSgpKXJldHVybiBlPXRbMF0sZis9ci5sZW5ndGgsITF9KSxlIT09LTEpcmV0dXJuIGUrMTt0aHJvdyJVbmtub3duIG5hbWUgYXQgcG9zaXRpb24gIitmO30sYj1mdW5jdGlvbigpe2lmKGkuY2hhckF0KGYpIT09dC5jaGFyQXQobykpdGhyb3ciVW5leHBlY3RlZCBsaXRlcmFsIGF0IHBvc2l0aW9uICIrZjtmKyt9LG89MDtvPHQubGVuZ3RoO28rKylpZih3KXQuY2hhckF0KG8pIT09IicifHxsKCInIik/YigpOnc9ITE7ZWxzZSBzd2l0Y2godC5jaGFyQXQobykpe2Nhc2UiZCI6aD1jKCJkIik7YnJlYWs7Y2FzZSJEIjprKCJEIixnLG50KTticmVhaztjYXNlIm8iOnA9YygibyIpO2JyZWFrO2Nhc2UibSI6cz1jKCJtIik7YnJlYWs7Y2FzZSJNIjpzPWsoIk0iLHR0LGl0KTticmVhaztjYXNlInkiOmU9YygieSIpO2JyZWFrO2Nhc2UiQCI6dT1uZXcgRGF0ZShjKCJAIikpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiEiOnU9bmV3IERhdGUoKGMoIiEiKS10aGlzLl90aWNrc1RvMTk3MCkvMWU0KTtlPXUuZ2V0RnVsbFllYXIoKTtzPXUuZ2V0TW9udGgoKSsxO2g9dS5nZXREYXRlKCk7YnJlYWs7Y2FzZSInIjpsKCInIik/YigpOnc9ITA7YnJlYWs7ZGVmYXVsdDpiKCl9aWYoZjxpLmxlbmd0aCYmKHY9aS5zdWJzdHIoZiksIS9eXHMrLy50ZXN0KHYpKSl0aHJvdyJFeHRyYS91bnBhcnNlZCBjaGFyYWN0ZXJzIGZvdW5kIGluIGRhdGU6ICIrdjtpZihlPT09LTE/ZT0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCk6ZTwxMDAmJihlKz0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCktKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCsoZTw9ZD8wOi0xMDApKSxwPi0xKXtzPTE7aD1wO2Rve2lmKGE9dGhpcy5fZ2V0RGF5c0luTW9udGgoZSxzLTEpLGg8PWEpYnJlYWs7cysrO2gtPWF9d2hpbGUoMSl9aWYodT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShlLHMtMSxoKSksdS5nZXRGdWxsWWVhcigpIT09ZXx8dS5nZXRNb250aCgpKzEhPT1zfHx1LmdldERhdGUoKSE9PWgpdGhyb3ciSW52YWxpZCBkYXRlIjtyZXR1cm4gdX0sQVRPTToieXktbW0tZGQiLENPT0tJRToiRCwgZGQgTSB5eSIsSVNPXzg2MDE6Inl5LW1tLWRkIixSRkNfODIyOiJELCBkIE0geSIsUkZDXzg1MDoiREQsIGRkLU0teSIsUkZDXzEwMzY6IkQsIGQgTSB5IixSRkNfMTEyMzoiRCwgZCBNIHl5IixSRkNfMjgyMjoiRCwgZCBNIHl5IixSU1M6IkQsIGQgTSB5IixUSUNLUzoiISIsVElNRVNUQU1QOiJAIixXM0M6Inl5LW1tLWRkIixfdGlja3NUbzE5NzA6KDcxODY4NStNYXRoLmZsb29yKDE5NzAvNCktTWF0aC5mbG9vcigxOTcwLzEwMCkrTWF0aC5mbG9vcigxOTcwLzQwMCkpKjg2NGU5LGZvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkpe2lmKCF0KXJldHVybiIiO3ZhciB1LGg9KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGM9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbD0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGE9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGY9ZnVuY3Rpb24odCl7dmFyIGk9dSsxPG4ubGVuZ3RoJiZuLmNoYXJBdCh1KzEpPT09dDtyZXR1cm4gaSYmdSsrLGl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciByPSIiK3Q7aWYoZihuKSl3aGlsZShyLmxlbmd0aDxpKXI9IjAiK3I7cmV0dXJuIHJ9LHM9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGYobik/clt0XTppW3RdfSxyPSIiLG89ITE7aWYodClmb3IodT0wO3U8bi5sZW5ndGg7dSsrKWlmKG8pbi5jaGFyQXQodSkhPT0iJyJ8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KHQuZ2V0WWVhcigpJTEwMDwxMD8iMCI6IiIpK3QuZ2V0WWVhcigpJTEwMDticmVhaztjYXNlIkAiOnIrPXQuZ2V0VGltZSgpO2JyZWFrO2Nhc2UiISI6cis9dC5nZXRUaW1lKCkqMWU0K3RoaXMuX3RpY2tzVG8xOTcwO2JyZWFrO2Nhc2UiJyI6ZigiJyIpP3IrPSInIjpvPSEwO2JyZWFrO2RlZmF1bHQ6cis9bi5jaGFyQXQodSl9cmV0dXJuIHJ9LF9wb3NzaWJsZUNoYXJzOmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0iIixyPSExLHU9ZnVuY3Rpb24oaSl7dmFyIHI9dCsxPG4ubGVuZ3RoJiZuLmNoYXJBdCh0KzEpPT09aTtyZXR1cm4gciYmdCsrLHJ9LHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihyKW4uY2hhckF0KHQpIT09IicifHx1KCInIik/aSs9bi5jaGFyQXQodCk6cj0hMTtlbHNlIHN3aXRjaChuLmNoYXJBdCh0KSl7Y2FzZSJkIjpjYXNlIm0iOmNhc2UieSI6Y2FzZSJAIjppKz0iMDEyMzQ1Njc4OSI7YnJlYWs7Y2FzZSJEIjpjYXNlIk0iOnJldHVybiBudWxsO2Nhc2UiJyI6dSgiJyIpP2krPSInIjpyPSEwO2JyZWFrO2RlZmF1bHQ6aSs9bi5jaGFyQXQodCl9cmV0dXJuIGl9LF9nZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5zZXR0aW5nc1t0XSE9PXVuZGVmaW5lZD9uLnNldHRpbmdzW3RdOnRoaXMuX2RlZmF1bHRzW3RdfSxfc2V0RGF0ZUZyb21GaWVsZDpmdW5jdGlvbihuLHQpe2lmKG4uaW5wdXQudmFsKCkhPT1uLmxhc3RWYWwpe3ZhciBmPXRoaXMuX2dldChuLCJkYXRlRm9ybWF0Iikscj1uLmxhc3RWYWw9bi5pbnB1dD9uLmlucHV0LnZhbCgpOm51bGwsdT10aGlzLl9nZXREZWZhdWx0RGF0ZShuKSxpPXUsZT10aGlzLl9nZXRGb3JtYXRDb25maWcobik7dHJ5e2k9dGhpcy5wYXJzZURhdGUoZixyLGUpfHx1fWNhdGNoKG8pe3I9dD8iIjpyfW4uc2VsZWN0ZWREYXk9aS5nZXREYXRlKCk7bi5kcmF3TW9udGg9bi5zZWxlY3RlZE1vbnRoPWkuZ2V0TW9udGgoKTtuLmRyYXdZZWFyPW4uc2VsZWN0ZWRZZWFyPWkuZ2V0RnVsbFllYXIoKTtuLmN1cnJlbnREYXk9cj9pLmdldERhdGUoKTowO24uY3VycmVudE1vbnRoPXI/aS5nZXRNb250aCgpOjA7bi5jdXJyZW50WWVhcj1yP2kuZ2V0RnVsbFllYXIoKTowO3RoaXMuX2FkanVzdEluc3REYXRlKG4pfX0sX2dldERlZmF1bHREYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9yZXN0cmljdE1pbk1heChuLHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobiwiZGVmYXVsdERhdGUiKSxuZXcgRGF0ZSkpfSxfZGV0ZXJtaW5lRGF0ZTpmdW5jdGlvbih0LGkscil7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bmV3IERhdGU7cmV0dXJuIHQuc2V0RGF0ZSh0LmdldERhdGUoKStuKSx0fSxlPWZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbi5kYXRlcGlja2VyLnBhcnNlRGF0ZShuLmRhdGVwaWNrZXIuX2dldCh0LCJkYXRlRm9ybWF0IiksaSxuLmRhdGVwaWNrZXIuX2dldEZvcm1hdENvbmZpZyh0KSl9Y2F0Y2goaCl7fWZvcih2YXIgbz0oaS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eYy8pP24uZGF0ZXBpY2tlci5fZ2V0RGF0ZSh0KTpudWxsKXx8bmV3IERhdGUsZj1vLmdldEZ1bGxZZWFyKCksZT1vLmdldE1vbnRoKCkscj1vLmdldERhdGUoKSxzPS8oWytcLV0/WzAtOV0rKVxzKihkfER8d3xXfG18TXx5fFkpPy9nLHU9cy5leGVjKGkpO3U7KXtzd2l0Y2godVsyXXx8ImQiKXtjYXNlImQiOmNhc2UiRCI6cis9cGFyc2VJbnQodVsxXSwxMCk7YnJlYWs7Y2FzZSJ3IjpjYXNlIlciOnIrPXBhcnNlSW50KHVbMV0sMTApKjc7YnJlYWs7Y2FzZSJtIjpjYXNlIk0iOmUrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpO2JyZWFrO2Nhc2UieSI6Y2FzZSJZIjpmKz1wYXJzZUludCh1WzFdLDEwKTtyPU1hdGgubWluKHIsbi5kYXRlcGlja2VyLl9nZXREYXlzSW5Nb250aChmLGUpKX11PXMuZXhlYyhpKX1yZXR1cm4gbmV3IERhdGUoZixlLHIpfSx1PWk9PW51bGx8fGk9PT0iIj9yOnR5cGVvZiBpPT0ic3RyaW5nIj9lKGkpOnR5cGVvZiBpPT0ibnVtYmVyIj9pc05hTihpKT9yOmYoaSk6bmV3IERhdGUoaS5nZXRUaW1lKCkpO3JldHVybiB1PXUmJnUudG9TdHJpbmcoKT09PSJJbnZhbGlkIERhdGUiP3I6dSx1JiYodS5zZXRIb3VycygwKSx1LnNldE1pbnV0ZXMoMCksdS5zZXRTZWNvbmRzKDApLHUuc2V0TWlsbGlzZWNvbmRzKDApKSx0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdCh1KX0sX2RheWxpZ2h0U2F2aW5nQWRqdXN0OmZ1bmN0aW9uKG4pe3JldHVybiBuPyhuLnNldEhvdXJzKG4uZ2V0SG91cnMoKT4xMj9uLmdldEhvdXJzKCkrMjowKSxuKTpudWxsfSxfc2V0RGF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHU9IXQsZj1uLnNlbGVjdGVkTW9udGgsZT1uLnNlbGVjdGVkWWVhcixyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHQsbmV3IERhdGUpKTtuLnNlbGVjdGVkRGF5PW4uY3VycmVudERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9bi5jdXJyZW50TW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9bi5jdXJyZW50WWVhcj1yLmdldEZ1bGxZZWFyKCk7Zj09PW4uc2VsZWN0ZWRNb250aCYmZT09PW4uc2VsZWN0ZWRZZWFyfHxpfHx0aGlzLl9ub3RpZnlDaGFuZ2Uobik7dGhpcy5fYWRqdXN0SW5zdERhdGUobik7bi5pbnB1dCYmbi5pbnB1dC52YWwodT8iIjp0aGlzLl9mb3JtYXREYXRlKG4pKX0sX2dldERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIW4uY3VycmVudFllYXJ8fG4uaW5wdXQmJm4uaW5wdXQudmFsKCk9PT0iIj9udWxsOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG4uY3VycmVudFllYXIsbi5jdXJyZW50TW9udGgsbi5jdXJyZW50RGF5KSl9LF9hdHRhY2hIYW5kbGVyczpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXQodCwic3RlcE1vbnRocyIpLGk9IiMiK3QuaWQucmVwbGFjZSgvXFxcXC9nLCJcXCIpO3QuZHBEaXYuZmluZCgiW2RhdGEtaGFuZGxlcl0iKS5tYXAoZnVuY3Rpb24oKXt2YXIgdD17cHJldjpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLC1yLCJNIil9LG5leHQ6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUoaSwrciwiTSIpfSxoaWRlOmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfSx0b2RheTpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fZ290b1RvZGF5KGkpfSxzZWxlY3REYXk6ZnVuY3Rpb24oKXtyZXR1cm4gbi5kYXRlcGlja2VyLl9zZWxlY3REYXkoaSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtbW9udGgiKSwrdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEteWVhciIpLHRoaXMpLCExfSxzZWxlY3RNb250aDpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIk0iKSwhMX0sc2VsZWN0WWVhcjpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdE1vbnRoWWVhcihpLHRoaXMsIlkiKSwhMX19O24odGhpcykuYmluZCh0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihuKXt2YXIgYixzLHJ0LGgsdXQsayxmdCxldCxyaSxjLG90LHVpLGZpLGVpLG9pLHN0LGcsc2ksaHQsbnQsZix5LGN0LHAsbHQsbCx1LGF0LHZ0LHl0LHB0LHR0LHd0LGksYnQsa3QsZCxhLGl0LGR0PW5ldyBEYXRlLGd0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGR0LmdldEZ1bGxZZWFyKCksZHQuZ2V0TW9udGgoKSxkdC5nZXREYXRlKCkpKSxlPXRoaXMuX2dldChuLCJpc1JUTCIpLGxpPXRoaXMuX2dldChuLCJzaG93QnV0dG9uUGFuZWwiKSxoaT10aGlzLl9nZXQobiwiaGlkZUlmTm9QcmV2TmV4dCIpLG5pPXRoaXMuX2dldChuLCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0Iiksbz10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSxhaT10aGlzLl9nZXQobiwic2hvd0N1cnJlbnRBdFBvcyIpLGNpPXRoaXMuX2dldChuLCJzdGVwTW9udGhzIiksdGk9b1swXSE9PTF8fG9bMV0hPT0xLGlpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG4uY3VycmVudERheT9uZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSx3PXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksdj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9bi5kcmF3TW9udGgtYWkscj1uLmRyYXdZZWFyO2lmKHQ8MCYmKHQrPTEyLHItLSksdilmb3IoYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLW9bMF0qb1sxXSsxLHYuZ2V0RGF0ZSgpKSksYj13JiZiPHc/dzpiO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxKSk+YjspdC0tLHQ8MCYmKHQ9MTEsci0tKTtmb3Iobi5kcmF3TW9udGg9dCxuLmRyYXdZZWFyPXIscz10aGlzLl9nZXQobiwicHJldlRleHQiKSxzPW5pP3RoaXMuZm9ybWF0RGF0ZShzLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdC1jaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpzLHJ0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sLTEscix0KT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGU/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IjpoaT8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGU/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IixoPXRoaXMuX2dldChuLCJuZXh0VGV4dCIpLGg9bmk/dGhpcy5mb3JtYXREYXRlKGgsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0K2NpLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpOmgsdXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgobiwxLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhlPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhlPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiIsaz10aGlzLl9nZXQobiwiY3VycmVudFRleHQiKSxmdD10aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5P2lpOmd0LGs9bmk/dGhpcy5mb3JtYXREYXRlKGssZnQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTprLGV0PW4uaW5saW5lPyIiOiI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPiIrdGhpcy5fZ2V0KG4sImNsb3NlVGV4dCIpKyI8XC9idXR0b24+IixyaT1saT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKyhlP2V0OiIiKSsodGhpcy5faXNJblJhbmdlKG4sZnQpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitrKyI8XC9idXR0b24+IjoiIikrKGU/IiI6ZXQpKyI8XC9kaXY+IjoiIixjPXBhcnNlSW50KHRoaXMuX2dldChuLCJmaXJzdERheSIpLDEwKSxjPWlzTmFOKGMpPzA6YyxvdD10aGlzLl9nZXQobiwic2hvd1dlZWsiKSx1aT10aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxmaT10aGlzLl9nZXQobiwiZGF5TmFtZXNNaW4iKSxlaT10aGlzLl9nZXQobiwibW9udGhOYW1lcyIpLG9pPXRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxzdD10aGlzLl9nZXQobiwiYmVmb3JlU2hvd0RheSIpLGc9dGhpcy5fZ2V0KG4sInNob3dPdGhlck1vbnRocyIpLHNpPXRoaXMuX2dldChuLCJzZWxlY3RPdGhlck1vbnRocyIpLGh0PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLG50PSIiLGYseT0wO3k8b1swXTt5Kyspe2ZvcihjdD0iIix0aGlzLm1heFJvd3M9NCxwPTA7cDxvWzFdO3ArKyl7aWYobHQ9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0LG4uc2VsZWN0ZWREYXkpKSxsPSIgdWktY29ybmVyLWFsbCIsdT0iIix0aSl7aWYodSs9IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItZ3JvdXAiLG9bMV0+MSlzd2l0Y2gocCl7Y2FzZSAwOnUrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1maXJzdCI7bD0iIHVpLWNvcm5lci0iKyhlPyJyaWdodCI6ImxlZnQiKTticmVhaztjYXNlIG9bMV0tMTp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdCI7bD0iIHVpLWNvcm5lci0iKyhlPyJsZWZ0IjoicmlnaHQiKTticmVhaztkZWZhdWx0OnUrPSIgdWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGUiO2w9IiJ9dSs9Iic+In1mb3IodSs9IjxkaXYgY2xhc3M9J3VpLWRhdGVwaWNrZXItaGVhZGVyIHVpLXdpZGdldC1oZWFkZXIgdWktaGVscGVyLWNsZWFyZml4IitsKyInPiIrKC9hbGx8bGVmdC8udGVzdChsKSYmeT09PTA/ZT91dDpydDoiIikrKC9hbGx8cmlnaHQvLnRlc3QobCkmJnk9PT0wP2U/cnQ6dXQ6IiIpK3RoaXMuX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyKG4sdCxyLHcsdix5PjB8fHA+MCxlaSxvaSkrIjxcL2Rpdj48dGFibGUgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2FsZW5kYXInPjx0aGVhZD48dHI+IixhdD1vdD8iPHRoIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldChuLCJ3ZWVrSGVhZGVyIikrIjxcL3RoPiI6IiIsZj0wO2Y8NztmKyspdnQ9KGYrYyklNyxhdCs9Ijx0aCBzY29wZT0nY29sJyIrKChmK2MrNiklNz49NT8iIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstZW5kJyI6IiIpKyI+PHNwYW4gdGl0bGU9JyIrdWlbdnRdKyInPiIrZmlbdnRdKyI8XC9zcGFuPjxcL3RoPiI7Zm9yKHUrPWF0KyI8XC90cj48XC90aGVhZD48dGJvZHk+Iix5dD10aGlzLl9nZXREYXlzSW5Nb250aChyLHQpLHI9PT1uLnNlbGVjdGVkWWVhciYmdD09PW4uc2VsZWN0ZWRNb250aCYmKG4uc2VsZWN0ZWREYXk9TWF0aC5taW4obi5zZWxlY3RlZERheSx5dCkpLHB0PSh0aGlzLl9nZXRGaXJzdERheU9mTW9udGgocix0KS1jKzcpJTcsdHQ9TWF0aC5jZWlsKChwdCt5dCkvNyksd3Q9dGk/dGhpcy5tYXhSb3dzPnR0P3RoaXMubWF4Um93czp0dDp0dCx0aGlzLm1heFJvd3M9d3QsaT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLHQsMS1wdCkpLGJ0PTA7YnQ8d3Q7YnQrKyl7Zm9yKHUrPSI8dHI+IixrdD1vdD8iPHRkIGNsYXNzPSd1aS1kYXRlcGlja2VyLXdlZWstY29sJz4iK3RoaXMuX2dldChuLCJjYWxjdWxhdGVXZWVrIikoaSkrIjxcL3RkPiI6IiIsZj0wO2Y8NztmKyspZD1zdD9zdC5hcHBseShuLmlucHV0P24uaW5wdXRbMF06bnVsbCxbaV0pOlshMCwiIl0sYT1pLmdldE1vbnRoKCkhPT10LGl0PWEmJiFzaXx8IWRbMF18fHcmJmk8d3x8diYmaT52LGt0Kz0iPHRkIGNsYXNzPSciKygoZitjKzYpJTc+PTU/IiB1aS1kYXRlcGlja2VyLXdlZWstZW5kIjoiIikrKGE/IiB1aS1kYXRlcGlja2VyLW90aGVyLW1vbnRoIjoiIikrKGkuZ2V0VGltZSgpPT09bHQuZ2V0VGltZSgpJiZ0PT09bi5zZWxlY3RlZE1vbnRoJiZuLl9rZXlFdmVudHx8aHQuZ2V0VGltZSgpPT09aS5nZXRUaW1lKCkmJmh0LmdldFRpbWUoKT09PWx0LmdldFRpbWUoKT8iICIrdGhpcy5fZGF5T3ZlckNsYXNzOiIiKSsoaXQ/IiAiK3RoaXMuX3Vuc2VsZWN0YWJsZUNsYXNzKyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSsoYSYmIWc/IiI6IiAiK2RbMV0rKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgIit0aGlzLl9jdXJyZW50Q2xhc3M6IiIpKyhpLmdldFRpbWUoKT09PWd0LmdldFRpbWUoKT8iIHVpLWRhdGVwaWNrZXItdG9kYXkiOiIiKSkrIiciKygoIWF8fGcpJiZkWzJdPyIgdGl0bGU9JyIrZFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciOiIiKSsoaXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGEmJiFnPyImI3hhMDsiOml0PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitpLmdldERhdGUoKSsiPFwvc3Bhbj4iOiI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCIrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKGE/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK2kuZ2V0RGF0ZSgpKyI8XC9hPiIpKyI8XC90ZD4iLGkuc2V0RGF0ZShpLmdldERhdGUoKSsxKSxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGkpO3UrPWt0KyI8XC90cj4ifXQrKzt0PjExJiYodD0wLHIrKyk7dSs9IjxcL3Rib2R5PjxcL3RhYmxlPiIrKHRpPyI8XC9kaXY+Iisob1swXT4wJiZwPT09b1sxXS0xPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PFwvZGl2PiI6IiIpOiIiKTtjdCs9dX1udCs9Y3R9cmV0dXJuIG50Kz1yaSxuLl9rZXlFdmVudD0hMSxudH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGssZCxoLHYseSxwLHMsYSx3PXRoaXMuX2dldChuLCJjaGFuZ2VNb250aCIpLGI9dGhpcy5fZ2V0KG4sImNoYW5nZVllYXIiKSxnPXRoaXMuX2dldChuLCJzaG93TW9udGhBZnRlclllYXIiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXcpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihrPXImJnIuZ2V0RnVsbFllYXIoKT09PWksZD11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsaD0wO2g8MTI7aCsrKSgha3x8aD49ci5nZXRNb250aCgpKSYmKCFkfHxoPD11LmdldE1vbnRoKCkpJiYobCs9IjxvcHRpb24gdmFsdWU9JyIraCsiJyIrKGg9PT10PyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitvW2hdKyI8XC9vcHRpb24+Iik7bCs9IjxcL3NlbGVjdD4ifWlmKGd8fChjKz1sKyhmfHwhKHcmJmIpPyImI3hhMDsiOiIiKSksIW4ueWVhcnNodG1sKWlmKG4ueWVhcnNodG1sPSIiLGZ8fCFiKWMrPSI8c3BhbiBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJz4iK2krIjxcL3NwYW4+IjtlbHNle2Zvcih2PXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKS5zcGxpdCgiOiIpLHk9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHA9ZnVuY3Rpb24obil7dmFyIHQ9bi5tYXRjaCgvY1srXC1dLiovKT9pK3BhcnNlSW50KG4uc3Vic3RyaW5nKDEpLDEwKTpuLm1hdGNoKC9bK1wtXS4qLyk/eStwYXJzZUludChuLDEwKTpwYXJzZUludChuLDEwKTtyZXR1cm4gaXNOYU4odCk/eTp0fSxzPXAodlswXSksYT1NYXRoLm1heChzLHAodlsxXXx8IiIpKSxzPXI/TWF0aC5tYXgocyxyLmdldEZ1bGxZZWFyKCkpOnMsYT11P01hdGgubWluKGEsdS5nZXRGdWxsWWVhcigpKTphLG4ueWVhcnNodG1sKz0iPHNlbGVjdCBjbGFzcz0ndWktZGF0ZXBpY2tlci15ZWFyJyBkYXRhLWhhbmRsZXI9J3NlbGVjdFllYXInIGRhdGEtZXZlbnQ9J2NoYW5nZSc+IjtzPD1hO3MrKyluLnllYXJzaHRtbCs9IjxvcHRpb24gdmFsdWU9JyIrcysiJyIrKHM9PT1pPyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitzKyI8XC9vcHRpb24+IjtuLnllYXJzaHRtbCs9IjxcL3NlbGVjdD4iO2MrPW4ueWVhcnNodG1sO24ueWVhcnNodG1sPW51bGx9cmV0dXJuIGMrPXRoaXMuX2dldChuLCJ5ZWFyU3VmZml4IiksZyYmKGMrPShmfHwhKHcmJmIpPyImI3hhMDsiOiIiKStsKSxjKyI8XC9kaXY+In0sX2FkanVzdEluc3REYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1uLmRyYXdZZWFyKyhpPT09IlkiP3Q6MCksZj1uLmRyYXdNb250aCsoaT09PSJNIj90OjApLGU9TWF0aC5taW4obi5zZWxlY3RlZERheSx0aGlzLl9nZXREYXlzSW5Nb250aCh1LGYpKSsoaT09PSJEIj90OjApLHI9dGhpcy5fcmVzdHJpY3RNaW5NYXgobix0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh1LGYsZSkpKTtuLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpO24uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCk7bi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCk7KGk9PT0iTSJ8fGk9PT0iWSIpJiZ0aGlzLl9ub3RpZnlDaGFuZ2Uobil9LF9yZXN0cmljdE1pbk1heDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIikscj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHU9aSYmdDxpP2k6dDtyZXR1cm4gciYmdT5yP3I6dX0sX25vdGlmeUNoYW5nZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXQobiwib25DaGFuZ2VNb250aFllYXIiKTt0JiZ0LmFwcGx5KG4uaW5wdXQ/bi5pbnB1dFswXTpudWxsLFtuLnNlbGVjdGVkWWVhcixuLnNlbGVjdGVkTW9udGgrMSxuXSl9LF9nZXROdW1iZXJPZk1vbnRoczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXQobiwibnVtYmVyT2ZNb250aHMiKTtyZXR1cm4gdD09bnVsbD9bMSwxXTp0eXBlb2YgdD09Im51bWJlciI/WzEsdF06dH0sX2dldE1pbk1heERhdGU6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLHQrIkRhdGUiKSxudWxsKX0sX2dldERheXNJbk1vbnRoOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIDMyLXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG4sdCwzMikpLmdldERhdGUoKX0sX2dldEZpcnN0RGF5T2ZNb250aDpmdW5jdGlvbihuLHQpe3JldHVybiBuZXcgRGF0ZShuLHQsMSkuZ2V0RGF5KCl9LF9jYW5BZGp1c3RNb250aDpmdW5jdGlvbihuLHQsaSxyKXt2YXIgZj10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSx1PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGkscisodDwwP3Q6ZlswXSpmWzFdKSwxKSk7cmV0dXJuIHQ8MCYmdS5zZXREYXRlKHRoaXMuX2dldERheXNJbk1vbnRoKHUuZ2V0RnVsbFllYXIoKSx1LmdldE1vbnRoKCkpKSx0aGlzLl9pc0luUmFuZ2Uobix1KX0sX2lzSW5SYW5nZTpmdW5jdGlvbihuLHQpe3ZhciBpLGYsZT10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLG89dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSxyPW51bGwsdT1udWxsLHM9dGhpcy5fZ2V0KG4sInllYXJSYW5nZSIpO3JldHVybiBzJiYoaT1zLnNwbGl0KCI6IiksZj0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCkscj1wYXJzZUludChpWzBdLDEwKSx1PXBhcnNlSW50KGlbMV0sMTApLGlbMF0ubWF0Y2goL1srXC1dLiovKSYmKHIrPWYpLGlbMV0ubWF0Y2goL1srXC1dLiovKSYmKHUrPWYpKSwoIWV8fHQuZ2V0VGltZSgpPj1lLmdldFRpbWUoKSkmJighb3x8dC5nZXRUaW1lKCk8PW8uZ2V0VGltZSgpKSYmKCFyfHx0LmdldEZ1bGxZZWFyKCk+PXIpJiYoIXV8fHQuZ2V0RnVsbFllYXIoKTw9dSl9LF9nZXRGb3JtYXRDb25maWc6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sInNob3J0WWVhckN1dG9mZiIpO3JldHVybiB0PXR5cGVvZiB0IT0ic3RyaW5nIj90OihuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSUxMDArcGFyc2VJbnQodCwxMCkse3Nob3J0WWVhckN1dG9mZjp0LGRheU5hbWVzU2hvcnQ6dGhpcy5fZ2V0KG4sImRheU5hbWVzU2hvcnQiKSxkYXlOYW1lczp0aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxtb250aE5hbWVzU2hvcnQ6dGhpcy5fZ2V0KG4sIm1vbnRoTmFtZXNTaG9ydCIpLG1vbnRoTmFtZXM6dGhpcy5fZ2V0KG4sIm1vbnRoTmFtZXMiKX19LF9mb3JtYXREYXRlOmZ1bmN0aW9uKG4sdCxpLHIpe3R8fChuLmN1cnJlbnREYXk9bi5zZWxlY3RlZERheSxuLmN1cnJlbnRNb250aD1uLnNlbGVjdGVkTW9udGgsbi5jdXJyZW50WWVhcj1uLnNlbGVjdGVkWWVhcik7dmFyIHU9dD90eXBlb2YgdD09Im9iamVjdCI/dDp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShyLGksdCkpOnRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKG4uY3VycmVudFllYXIsbi5jdXJyZW50TW9udGgsbi5jdXJyZW50RGF5KSk7cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpLHUsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKX19KTtuLmZuLmRhdGVwaWNrZXI9ZnVuY3Rpb24odCl7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZHx8KG4oZG9jdW1lbnQpLm1vdXNlZG93bihuLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksbi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTtuKCIjIituLmRhdGVwaWNrZXIuX21haW5EaXZJZCkubGVuZ3RoPT09MCYmbigiYm9keSIpLmFwcGVuZChuLmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdHlwZW9mIHQ9PSJzdHJpbmciJiYodD09PSJpc0Rpc2FibGVkInx8dD09PSJnZXREYXRlInx8dD09PSJ3aWRnZXQiKT9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dD09PSJvcHRpb24iJiZhcmd1bWVudHMubGVuZ3RoPT09MiYmdHlwZW9mIGFyZ3VtZW50c1sxXT09InN0cmluZyI/bi5kYXRlcGlja2VyWyJfIit0KyJEYXRlcGlja2VyIl0uYXBwbHkobi5kYXRlcGlja2VyLFt0aGlzWzBdXS5jb25jYXQoaSkpOnRoaXMuZWFjaChmdW5jdGlvbigpe3R5cGVvZiB0PT0ic3RyaW5nIj9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNdLmNvbmNhdChpKSk6bi5kYXRlcGlja2VyLl9hdHRhY2hEYXRlcGlja2VyKHRoaXMsdCl9KX07bi5kYXRlcGlja2VyPW5ldyBwO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMTtuLmRhdGVwaWNrZXIudXVpZD0obmV3IERhdGUpLmdldFRpbWUoKTtuLmRhdGVwaWNrZXIudmVyc2lvbj0iMS4xMS4yIjtldD1uLmRhdGVwaWNrZXI7Ci8qIQogKiBqUXVlcnkgVUkgRHJhZ2dhYmxlIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RyYWdnYWJsZS8KICovCm4ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTEuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5oZWxwZXI9PT0ib3JpZ2luYWwiJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktZHJhZ2dhYmxlIik7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRyYWdnYWJsZS1kaXNhYmxlZCIpO3RoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpO3RoaXMuX21vdXNlSW5pdCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dGhpcy5fc3VwZXIobix0KTtuPT09ImhhbmRsZSImJih0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKSx0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7aWYoKHRoaXMuaGVscGVyfHx0aGlzLmVsZW1lbnQpLmlzKCIudWktZHJhZ2dhYmxlLWRyYWdnaW5nIikpe3RoaXMuZGVzdHJveU9uQ2xlYXI9ITA7cmV0dXJufXRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktZHJhZ2dhYmxlIHVpLWRyYWdnYWJsZS1kcmFnZ2luZyB1aS1kcmFnZ2FibGUtZGlzYWJsZWQiKTt0aGlzLl9yZW1vdmVIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnM7cmV0dXJuKHRoaXMuX2JsdXJBY3RpdmVFbGVtZW50KHQpLHRoaXMuaGVscGVyfHxpLmRpc2FibGVkfHxuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktcmVzaXphYmxlLWhhbmRsZSIpLmxlbmd0aD4wKT8hMToodGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKHQpLCF0aGlzLmhhbmRsZSk/ITE6KHRoaXMuX2Jsb2NrRnJhbWVzKGkuaWZyYW1lRml4PT09ITA/ImlmcmFtZSI6aS5pZnJhbWVGaXgpLCEwKX0sX2Jsb2NrRnJhbWVzOmZ1bmN0aW9uKHQpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCh0KS5tYXAoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3JldHVybiBuKCI8ZGl2PiIpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLmFwcGVuZFRvKHQucGFyZW50KCkpLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSkub2Zmc2V0KHQub2Zmc2V0KCkpWzBdfSl9LF91bmJsb2NrRnJhbWVzOmZ1bmN0aW9uKCl7dGhpcy5pZnJhbWVCbG9ja3MmJih0aGlzLmlmcmFtZUJsb2Nrcy5yZW1vdmUoKSxkZWxldGUgdGhpcy5pZnJhbWVCbG9ja3MpfSxfYmx1ckFjdGl2ZUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5kb2N1bWVudFswXTtpZih0aGlzLmhhbmRsZUVsZW1lbnQuaXModC50YXJnZXQpKXRyeXtpLmFjdGl2ZUVsZW1lbnQmJmkuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImJvZHkiJiZuKGkuYWN0aXZlRWxlbWVudCkuYmx1cigpfWNhdGNoKHIpe319LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucztyZXR1cm4odGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuaGVscGVyLmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksbi51aS5kZG1hbmFnZXImJihuLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLHRoaXMuX2NhY2hlTWFyZ2lucygpLHRoaXMuY3NzUG9zaXRpb249dGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIpLHRoaXMuc2Nyb2xsUGFyZW50PXRoaXMuaGVscGVyLnNjcm9sbFBhcmVudCghMCksdGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCksdGhpcy5oYXNGaXhlZEFuY2VzdG9yPXRoaXMuaGVscGVyLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzKS5jc3MoInBvc2l0aW9uIik9PT0iZml4ZWQifSkubGVuZ3RoPjAsdGhpcy5wb3NpdGlvbkFicz10aGlzLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5fcmVmcmVzaE9mZnNldHModCksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCExKSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSxpLmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKGkuY3Vyc29yQXQpLHRoaXMuX3NldENvbnRhaW5tZW50KCksdGhpcy5fdHJpZ2dlcigic3RhcnQiLHQpPT09ITEpPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLG4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX25vcm1hbGl6ZVJpZ2h0Qm90dG9tKCksdGhpcy5fbW91c2VEcmFnKHQsITApLG4udWkuZGRtYW5hZ2VyJiZuLnVpLmRkbWFuYWdlci5kcmFnU3RhcnQodGhpcyx0KSwhMCl9LF9yZWZyZXNoT2Zmc2V0czpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD17dG9wOnRoaXMucG9zaXRpb25BYnMudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLnBvc2l0aW9uQWJzLmxlZnQtdGhpcy5tYXJnaW5zLmxlZnQsc2Nyb2xsOiExLHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfTt0aGlzLm9mZnNldC5jbGljaz17bGVmdDpuLnBhZ2VYLXRoaXMub2Zmc2V0LmxlZnQsdG9wOm4ucGFnZVktdGhpcy5vZmZzZXQudG9wfX0sX21vdXNlRHJhZzpmdW5jdGlvbih0LGkpe2lmKHRoaXMuaGFzRml4ZWRBbmNlc3RvciYmKHRoaXMub2Zmc2V0LnBhcmVudD10aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSksdGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQsITApLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksIWkpe3ZhciByPXRoaXMuX3VpSGFzaCgpO2lmKHRoaXMuX3RyaWdnZXIoImRyYWciLHQscik9PT0hMSlyZXR1cm4gdGhpcy5fbW91c2VVcCh7fSksITE7dGhpcy5wb3NpdGlvbj1yLnBvc2l0aW9ufXJldHVybiB0aGlzLmhlbHBlclswXS5zdHlsZS5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiLHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiLG4udWkuZGRtYW5hZ2VyJiZuLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsdCksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPSExO3JldHVybiBuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiYoaT1uLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCkpLHRoaXMuZHJvcHBlZCYmKGk9dGhpcy5kcm9wcGVkLHRoaXMuZHJvcHBlZD0hMSksdGhpcy5vcHRpb25zLnJldmVydD09PSJpbnZhbGlkIiYmIWl8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0idmFsaWQiJiZpfHx0aGlzLm9wdGlvbnMucmV2ZXJ0PT09ITB8fG4uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMucmV2ZXJ0KSYmdGhpcy5vcHRpb25zLnJldmVydC5jYWxsKHRoaXMuZWxlbWVudCxpKT9uKHRoaXMuaGVscGVyKS5hbmltYXRlKHRoaXMub3JpZ2luYWxQb3NpdGlvbixwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb24sMTApLGZ1bmN0aW9uKCl7ci5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmci5fY2xlYXIoKX0pOnRoaXMuX3RyaWdnZXIoInN0b3AiLHQpIT09ITEmJnRoaXMuX2NsZWFyKCksITF9LF9tb3VzZVVwOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl91bmJsb2NrRnJhbWVzKCksbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWdTdG9wKHRoaXMsdCksdGhpcy5oYW5kbGVFbGVtZW50LmlzKHQudGFyZ2V0KSYmdGhpcy5lbGVtZW50LmZvY3VzKCksbi51aS5tb3VzZS5wcm90b3R5cGUuX21vdXNlVXAuY2FsbCh0aGlzLHQpfSxjYW5jZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWxwZXIuaXMoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKT90aGlzLl9tb3VzZVVwKHt9KTp0aGlzLl9jbGVhcigpLHRoaXN9LF9nZXRIYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5oYW5kbGU/ISFuKHQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpKS5sZW5ndGg6ITB9LF9zZXRIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUVsZW1lbnQ9dGhpcy5vcHRpb25zLmhhbmRsZT90aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGFuZGxlKTp0aGlzLmVsZW1lbnQ7dGhpcy5oYW5kbGVFbGVtZW50LmFkZENsYXNzKCJ1aS1kcmFnZ2FibGUtaGFuZGxlIil9LF9yZW1vdmVIYW5kbGVDbGFzc05hbWU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsdT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpLGk9dT9uKHIuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdF0pKTpyLmhlbHBlcj09PSJjbG9uZSI/dGhpcy5lbGVtZW50LmNsb25lKCkucmVtb3ZlQXR0cigiaWQiKTp0aGlzLmVsZW1lbnQ7cmV0dXJuIGkucGFyZW50cygiYm9keSIpLmxlbmd0aHx8aS5hcHBlbmRUbyhyLmFwcGVuZFRvPT09InBhcmVudCI/dGhpcy5lbGVtZW50WzBdLnBhcmVudE5vZGU6ci5hcHBlbmRUbyksdSYmaVswXT09PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fc2V0UG9zaXRpb25SZWxhdGl2ZSgpLGlbMF09PT10aGlzLmVsZW1lbnRbMF18fC8oZml4ZWR8YWJzb2x1dGUpLy50ZXN0KGkuY3NzKCJwb3NpdGlvbiIpKXx8aS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSxpfSxfc2V0UG9zaXRpb25SZWxhdGl2ZTpmdW5jdGlvbigpey9eKD86cnxhfGYpLy50ZXN0KHRoaXMuZWxlbWVudC5jc3MoInBvc2l0aW9uIikpfHwodGhpcy5lbGVtZW50WzBdLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpfSxfYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcjpmdW5jdGlvbih0KXt0eXBlb2YgdD09InN0cmluZyImJih0PXQuc3BsaXQoIiAiKSk7bi5pc0FycmF5KHQpJiYodD17bGVmdDordFswXSx0b3A6K3RbMV18fDB9KTsibGVmdCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10LmxlZnQrdGhpcy5tYXJnaW5zLmxlZnQpOyJyaWdodCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2subGVmdD10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXQucmlnaHQrdGhpcy5tYXJnaW5zLmxlZnQpOyJ0b3AiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10LnRvcCt0aGlzLm1hcmdpbnMudG9wKTsiYm90dG9tImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdC5ib3R0b20rdGhpcy5tYXJnaW5zLnRvcCl9LF9pc1Jvb3ROb2RlOmZ1bmN0aW9uKG4pe3JldHVybi8oaHRtbHxib2R5KS9pLnRlc3Qobi50YWdOYW1lKXx8bj09PXRoaXMuZG9jdW1lbnRbMF19LF9nZXRQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSxpPXRoaXMuZG9jdW1lbnRbMF07cmV0dXJuIHRoaXMuY3NzUG9zaXRpb249PT0iYWJzb2x1dGUiJiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PWkmJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pJiYodC5sZWZ0Kz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCksdC50b3ArPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSx0aGlzLl9pc1Jvb3ROb2RlKHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQ9e3RvcDowLGxlZnQ6MH0pLHt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmNzc1Bvc2l0aW9uIT09InJlbGF0aXZlIilyZXR1cm57dG9wOjAsbGVmdDowfTt2YXIgbj10aGlzLmVsZW1lbnQucG9zaXRpb24oKSx0PXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6bi50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSsodD8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpKSxsZWZ0Om4ubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSsodD8wOnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSl9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkxlZnQiKSwxMCl8fDAsdG9wOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCxyaWdodDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLDEwKXx8MCxib3R0b206cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luQm90dG9tIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgZix0LGkscj10aGlzLm9wdGlvbnMsdT10aGlzLmRvY3VtZW50WzBdO2lmKHRoaXMucmVsYXRpdmVDb250YWluZXI9bnVsbCwhci5jb250YWlubWVudCl7dGhpcy5jb250YWlubWVudD1udWxsO3JldHVybn1pZihyLmNvbnRhaW5tZW50PT09IndpbmRvdyIpe3RoaXMuY29udGFpbm1lbnQ9W24od2luZG93KS5zY3JvbGxMZWZ0KCktdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdC10aGlzLm9mZnNldC5wYXJlbnQubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCktdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3Asbih3aW5kb3cpLnNjcm9sbExlZnQoKStuKHdpbmRvdykud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LG4od2luZG93KS5zY3JvbGxUb3AoKSsobih3aW5kb3cpLmhlaWdodCgpfHx1LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdO3JldHVybn1pZihyLmNvbnRhaW5tZW50PT09ImRvY3VtZW50Iil7dGhpcy5jb250YWlubWVudD1bMCwwLG4odSkud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LChuKHUpLmhlaWdodCgpfHx1LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdO3JldHVybn1pZihyLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXkpe3RoaXMuY29udGFpbm1lbnQ9ci5jb250YWlubWVudDtyZXR1cm59KHIuY29udGFpbm1lbnQ9PT0icGFyZW50IiYmKHIuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSksdD1uKHIuY29udGFpbm1lbnQpLGk9dFswXSxpKSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KGkuc2Nyb2xsV2lkdGgsaS5vZmZzZXRXaWR0aCk6aS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpOmkub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKG4sdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9bj09PSJhYnNvbHV0ZSI/MTotMSxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSh0aGlzLmNzc1Bvc2l0aW9uPT09ImZpeGVkIj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0odGhpcy5jc3NQb3NpdGlvbj09PSJmaXhlZCI/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGkscyx1LGYscj10aGlzLm9wdGlvbnMsaD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxlPW4ucGFnZVgsbz1uLnBhZ2VZO3JldHVybiBoJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobz1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihlPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKG89aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJih1PXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxvPWk/dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fHUtdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT91LXIuZ3JpZFsxXTp1K3IuZ3JpZFsxXTp1LGY9ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGU9aT9mLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2Y6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Ytci5ncmlkWzBdOmYrci5ncmlkWzBdOmYpLHIuYXhpcz09PSJ5IiYmKGU9dGhpcy5vcmlnaW5hbFBhZ2VYKSxyLmF4aXM9PT0ieCImJihvPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKHRoaXMuY3NzUG9zaXRpb249PT0iZml4ZWQiPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmg/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0Kyh0aGlzLmNzc1Bvc2l0aW9uPT09ImZpeGVkIj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6aD8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuaGVscGVyLnJlbW92ZUNsYXNzKCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX25vcm1hbGl6ZVJpZ2h0Qm90dG9tOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmF4aXMhPT0ieSImJnRoaXMuaGVscGVyLmNzcygicmlnaHQiKSE9PSJhdXRvIiYmKHRoaXMuaGVscGVyLndpZHRoKHRoaXMuaGVscGVyLndpZHRoKCkpLHRoaXMuaGVscGVyLmNzcygicmlnaHQiLCJhdXRvIikpO3RoaXMub3B0aW9ucy5heGlzIT09IngiJiZ0aGlzLmhlbHBlci5jc3MoImJvdHRvbSIpIT09ImF1dG8iJiYodGhpcy5oZWxwZXIuaGVpZ2h0KHRoaXMuaGVscGVyLmhlaWdodCgpKSx0aGlzLmhlbHBlci5jc3MoImJvdHRvbSIsImF1dG8iKSl9LF90cmlnZ2VyOmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gcj1yfHx0aGlzLl91aUhhc2goKSxuLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbaSxyLHRoaXNdLCEwKSwvXihkcmFnfHN0YXJ0fHN0b3ApLy50ZXN0KHQpJiYodGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSxyLm9mZnNldD10aGlzLnBvc2l0aW9uQWJzKSxuLldpZGdldC5wcm90b3R5cGUuX3RyaWdnZXIuY2FsbCh0aGlzLHQsaSxyKX0scGx1Z2luczp7fSxfdWlIYXNoOmZ1bmN0aW9uKCl7cmV0dXJue2hlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246dGhpcy5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDp0aGlzLnBvc2l0aW9uQWJzfX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImNvbm5lY3RUb1NvcnRhYmxlIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5zb3J0YWJsZXM9W107bihyLm9wdGlvbnMuY29ubmVjdFRvU29ydGFibGUpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLnNvcnRhYmxlKCJpbnN0YW5jZSIpO2kmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJihyLnNvcnRhYmxlcy5wdXNoKGkpLGkucmVmcmVzaFBvc2l0aW9ucygpLGkuX3RyaWdnZXIoImFjdGl2YXRlIix0LHUpKX0pfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uLmV4dGVuZCh7fSxpLHtpdGVtOnIuZWxlbWVudH0pO3IuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uaXNPdmVyPyhuLmlzT3Zlcj0wLHIuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLmNhbmNlbEhlbHBlclJlbW92YWw9ITEsbi5fc3RvcmVkQ1NTPXtwb3NpdGlvbjpuLnBsYWNlaG9sZGVyLmNzcygicG9zaXRpb24iKSx0b3A6bi5wbGFjZWhvbGRlci5jc3MoInRvcCIpLGxlZnQ6bi5wbGFjZWhvbGRlci5jc3MoImxlZnQiKX0sbi5fbW91c2VTdG9wKHQpLG4ub3B0aW9ucy5oZWxwZXI9bi5vcHRpb25zLl9oZWxwZXIpOihuLmNhbmNlbEhlbHBlclJlbW92YWw9ITAsbi5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx1KSl9KX0sZHJhZzpmdW5jdGlvbih0LGkscil7bi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dmFyIGY9ITEsdT10aGlzO3UucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFiczt1LmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnM7dS5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2s7dS5faW50ZXJzZWN0c1dpdGgodS5jb250YWluZXJDYWNoZSkmJihmPSEwLG4uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uQWJzPXIucG9zaXRpb25BYnMsdGhpcy5oZWxwZXJQcm9wb3J0aW9ucz1yLmhlbHBlclByb3BvcnRpb25zLHRoaXMub2Zmc2V0LmNsaWNrPXIub2Zmc2V0LmNsaWNrLHRoaXMhPT11JiZ0aGlzLl9pbnRlcnNlY3RzV2l0aCh0aGlzLmNvbnRhaW5lckNhY2hlKSYmbi5jb250YWlucyh1LmVsZW1lbnRbMF0sdGhpcy5lbGVtZW50WzBdKSYmKGY9ITEpLGZ9KSk7Zj8odS5pc092ZXJ8fCh1LmlzT3Zlcj0xLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksci5fcmVmcmVzaE9mZnNldHModCksaS5wb3NpdGlvbj1yLl9nZW5lcmF0ZVBvc2l0aW9uKHQsITApLHIuX3RyaWdnZXIoImZyb21Tb3J0YWJsZSIsdCksci5kcm9wcGVkPSExLG4uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3RoaXMucmVmcmVzaFBvc2l0aW9ucygpfSkpfSl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJjdXJzb3IiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bigiYm9keSIpLGY9ci5vcHRpb25zO3UuY3NzKCJjdXJzb3IiKSYmKGYuX2N1cnNvcj11LmNzcygiY3Vyc29yIikpO3UuY3NzKCJjdXJzb3IiLGYuY3Vyc29yKX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX2N1cnNvciYmbigiYm9keSIpLmNzcygiY3Vyc29yIix1Ll9jdXJzb3IpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwib3BhY2l0eSIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKGkuaGVscGVyKSxmPXIub3B0aW9uczt1LmNzcygib3BhY2l0eSIpJiYoZi5fb3BhY2l0eT11LmNzcygib3BhY2l0eSIpKTt1LmNzcygib3BhY2l0eSIsZi5vcGFjaXR5KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX29wYWNpdHkmJm4oaS5oZWxwZXIpLmNzcygib3BhY2l0eSIsdS5fb3BhY2l0eSl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzY3JvbGwiLHtzdGFydDpmdW5jdGlvbihuLHQsaSl7aS5zY3JvbGxQYXJlbnROb3RIaWRkZW58fChpLnNjcm9sbFBhcmVudE5vdEhpZGRlbj1pLmhlbHBlci5zY3JvbGxQYXJlbnQoITEpKTtpLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSE9PWkuZG9jdW1lbnRbMF0mJmkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLnRhZ05hbWUhPT0iSFRNTCImJihpLm92ZXJmbG93T2Zmc2V0PWkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuLm9mZnNldCgpKX0sZHJhZzpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zLG89ITEsZT1yLnNjcm9sbFBhcmVudE5vdEhpZGRlblswXSxmPXIuZG9jdW1lbnRbMF07ZSE9PWYmJmUudGFnTmFtZSE9PSJIVE1MIj8odS5heGlzJiZ1LmF4aXM9PT0ieCJ8fChyLm92ZXJmbG93T2Zmc2V0LnRvcCtlLm9mZnNldEhlaWdodC10LnBhZ2VZPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcCt1LnNjcm9sbFNwZWVkOnQucGFnZVktci5vdmVyZmxvd09mZnNldC50b3A8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsVG9wPW89ZS5zY3JvbGxUb3AtdS5zY3JvbGxTcGVlZCkpLHUuYXhpcyYmdS5heGlzPT09InkifHwoci5vdmVyZmxvd09mZnNldC5sZWZ0K2Uub2Zmc2V0V2lkdGgtdC5wYWdlWDx1LnNjcm9sbFNlbnNpdGl2aXR5P2Uuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdCt1LnNjcm9sbFNwZWVkOnQucGFnZVgtci5vdmVyZmxvd09mZnNldC5sZWZ0PHUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihlLnNjcm9sbExlZnQ9bz1lLnNjcm9sbExlZnQtdS5zY3JvbGxTcGVlZCkpKToodS5heGlzJiZ1LmF4aXM9PT0ieCJ8fCh0LnBhZ2VZLW4oZikuc2Nyb2xsVG9wKCk8dS5zY3JvbGxTZW5zaXRpdml0eT9vPW4oZikuc2Nyb2xsVG9wKG4oZikuc2Nyb2xsVG9wKCktdS5zY3JvbGxTcGVlZCk6bih3aW5kb3cpLmhlaWdodCgpLSh0LnBhZ2VZLW4oZikuc2Nyb2xsVG9wKCkpPHUuc2Nyb2xsU2Vuc2l0aXZpdHkmJihvPW4oZikuc2Nyb2xsVG9wKG4oZikuc2Nyb2xsVG9wKCkrdS5zY3JvbGxTcGVlZCkpKSx1LmF4aXMmJnUuYXhpcz09PSJ5Inx8KHQucGFnZVgtbihmKS5zY3JvbGxMZWZ0KCk8dS5zY3JvbGxTZW5zaXRpdml0eT9vPW4oZikuc2Nyb2xsTGVmdChuKGYpLnNjcm9sbExlZnQoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykud2lkdGgoKS0odC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpK3Uuc2Nyb2xsU3BlZWQpKSkpO28hPT0hMSYmbi51aS5kZG1hbmFnZXImJiF1LmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHIsdCl9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJzbmFwIix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXIub3B0aW9ucztyLnNuYXBFbGVtZW50cz1bXTtuKHUuc25hcC5jb25zdHJ1Y3RvciE9PVN0cmluZz91LnNuYXAuaXRlbXN8fCI6ZGF0YSh1aS1kcmFnZ2FibGUpIjp1LnNuYXApLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5vZmZzZXQoKTt0aGlzIT09ci5lbGVtZW50WzBdJiZyLnNuYXBFbGVtZW50cy5wdXNoKHtpdGVtOnRoaXMsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6aS50b3AsbGVmdDppLmxlZnR9KX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtmb3IodmFyIGUsbyxzLGgsYyxhLGwsdix3LGI9ci5vcHRpb25zLGY9Yi5zbmFwVG9sZXJhbmNlLHk9aS5vZmZzZXQubGVmdCxrPXkrci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxwPWkub2Zmc2V0LnRvcCxkPXArci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsdT1yLnNuYXBFbGVtZW50cy5sZW5ndGgtMTt1Pj0wO3UtLSl7aWYoYz1yLnNuYXBFbGVtZW50c1t1XS5sZWZ0LXIubWFyZ2lucy5sZWZ0LGE9YytyLnNuYXBFbGVtZW50c1t1XS53aWR0aCxsPXIuc25hcEVsZW1lbnRzW3VdLnRvcC1yLm1hcmdpbnMudG9wLHY9bCtyLnNuYXBFbGVtZW50c1t1XS5oZWlnaHQsazxjLWZ8fHk+YStmfHxkPGwtZnx8cD52K2Z8fCFuLmNvbnRhaW5zKHIuc25hcEVsZW1lbnRzW3VdLml0ZW0ub3duZXJEb2N1bWVudCxyLnNuYXBFbGVtZW50c1t1XS5pdGVtKSl7ci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJnIub3B0aW9ucy5zbmFwLnJlbGVhc2UmJnIub3B0aW9ucy5zbmFwLnJlbGVhc2UuY2FsbChyLmVsZW1lbnQsdCxuLmV4dGVuZChyLl91aUhhc2goKSx7c25hcEl0ZW06ci5zbmFwRWxlbWVudHNbdV0uaXRlbX0pKTtyLnNuYXBFbGVtZW50c1t1XS5zbmFwcGluZz0hMTtjb250aW51ZX1iLnNuYXBNb2RlIT09ImlubmVyIiYmKGU9TWF0aC5hYnMobC1kKTw9ZixvPU1hdGguYWJzKHYtcCk8PWYscz1NYXRoLmFicyhjLWspPD1mLGg9TWF0aC5hYnMoYS15KTw9ZixlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmF9KS5sZWZ0KSk7dz1lfHxvfHxzfHxoO2Iuc25hcE1vZGUhPT0ib3V0ZXIiJiYoZT1NYXRoLmFicyhsLXApPD1mLG89TWF0aC5hYnModi1kKTw9ZixzPU1hdGguYWJzKGMteSk8PWYsaD1NYXRoLmFicyhhLWspPD1mLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmEtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKTshci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpO3Iuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHd9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZT1yLm9wdGlvbnMsdT1uLm1ha2VBcnJheShuKGUuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3UubGVuZ3RoJiYoZj1wYXJzZUludChuKHVbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4odSkuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4IixmK3QpfSksdGhpcy5jc3MoInpJbmRleCIsZit1Lmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJ6SW5kZXgiKSYmKGYuX3pJbmRleD11LmNzcygiekluZGV4IikpO3UuY3NzKCJ6SW5kZXgiLGYuekluZGV4KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX3pJbmRleCYmbihpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHUuX3pJbmRleCl9fSk7b3Q9bi51aS5kcmFnZ2FibGU7Ci8qIQogKiBqUXVlcnkgVUkgUmVzaXphYmxlIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Jlc2l6YWJsZS8KICovCm4ud2lkZ2V0KCJ1aS5yZXNpemFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTEuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6InJlc2l6ZSIsb3B0aW9uczp7YWxzb1Jlc2l6ZTohMSxhbmltYXRlOiExLGFuaW1hdGVEdXJhdGlvbjoic2xvdyIsYW5pbWF0ZUVhc2luZzoic3dpbmciLGFzcGVjdFJhdGlvOiExLGF1dG9IaWRlOiExLGNvbnRhaW5tZW50OiExLGdob3N0OiExLGdyaWQ6ITEsaGFuZGxlczoiZSxzLHNlIixoZWxwZXI6ITEsbWF4SGVpZ2h0Om51bGwsbWF4V2lkdGg6bnVsbCxtaW5IZWlnaHQ6MTAsbWluV2lkdGg6MTAsekluZGV4OjkwLHJlc2l6ZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfbnVtOmZ1bmN0aW9uKG4pe3JldHVybiBwYXJzZUludChuLDEwKXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUludChuLDEwKSl9LF9oYXNTY3JvbGw6ZnVuY3Rpb24odCxpKXtpZihuKHQpLmNzcygib3ZlcmZsb3ciKT09PSJoaWRkZW4iKXJldHVybiExO3ZhciByPWkmJmk9PT0ibGVmdCI/InNjcm9sbExlZnQiOiJzY3JvbGxUb3AiLHU9ITE7cmV0dXJuIHRbcl0+MD8hMDoodFtyXT0xLHU9dFtyXT4wLHRbcl09MCx1KX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGYscixpLG8sdT10aGlzLHQ9dGhpcy5vcHRpb25zO2lmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktcmVzaXphYmxlIiksbi5leHRlbmQodGhpcyx7X2FzcGVjdFJhdGlvOiEhdC5hc3BlY3RSYXRpbyxhc3BlY3RSYXRpbzp0LmFzcGVjdFJhdGlvLG9yaWdpbmFsRWxlbWVudDp0aGlzLmVsZW1lbnQsX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHM6W10sX2hlbHBlcjp0LmhlbHBlcnx8dC5naG9zdHx8dC5hbmltYXRlP3QuaGVscGVyfHwidWktcmVzaXphYmxlLWhlbHBlciI6bnVsbH0pLHRoaXMuZWxlbWVudFswXS5ub2RlTmFtZS5tYXRjaCgvY2FudmFzfHRleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b258aW1nL2kpJiYodGhpcy5lbGVtZW50LndyYXAobigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHRoaXMuZWxlbWVudC5jc3Moe21hcmdpbkxlZnQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksbWFyZ2luVG9wOnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luVG9wIiksbWFyZ2luUmlnaHQ6dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5SaWdodCIpLG1hcmdpbkJvdHRvbTp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpfSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW5MZWZ0OjAsbWFyZ2luVG9wOjAsbWFyZ2luUmlnaHQ6MCxtYXJnaW5Cb3R0b206MH0pLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZT10aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIiwibm9uZSIpLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMucHVzaCh0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3Moe3Bvc2l0aW9uOiJzdGF0aWMiLHpvb206MSxkaXNwbGF5OiJibG9jayJ9KSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHttYXJnaW46dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW4iKX0pLHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLHRoaXMuaGFuZGxlcz10LmhhbmRsZXN8fChuKCIudWktcmVzaXphYmxlLWhhbmRsZSIsdGhpcy5lbGVtZW50KS5sZW5ndGg/e246Ii51aS1yZXNpemFibGUtbiIsZToiLnVpLXJlc2l6YWJsZS1lIixzOiIudWktcmVzaXphYmxlLXMiLHc6Ii51aS1yZXNpemFibGUtdyIsc2U6Ii51aS1yZXNpemFibGUtc2UiLHN3OiIudWktcmVzaXphYmxlLXN3IixuZToiLnVpLXJlc2l6YWJsZS1uZSIsbnc6Ii51aS1yZXNpemFibGUtbncifToiZSxzLHNlIiksdGhpcy5oYW5kbGVzLmNvbnN0cnVjdG9yPT09U3RyaW5nKWZvcih0aGlzLmhhbmRsZXM9PT0iYWxsIiYmKHRoaXMuaGFuZGxlcz0ibixlLHMsdyxzZSxzdyxuZSxudyIpLGU9dGhpcy5oYW5kbGVzLnNwbGl0KCIsIiksdGhpcy5oYW5kbGVzPXt9LGY9MDtmPGUubGVuZ3RoO2YrKylyPW4udHJpbShlW2ZdKSxvPSJ1aS1yZXNpemFibGUtIityLGk9bigiPGRpdiBjbGFzcz0ndWktcmVzaXphYmxlLWhhbmRsZSAiK28rIic+PFwvZGl2PiIpLGkuY3NzKHt6SW5kZXg6dC56SW5kZXh9KSwic2UiPT09ciYmaS5hZGRDbGFzcygidWktaWNvbiB1aS1pY29uLWdyaXBzbWFsbC1kaWFnb25hbC1zZSIpLHRoaXMuaGFuZGxlc1tyXT0iLnVpLXJlc2l6YWJsZS0iK3IsdGhpcy5lbGVtZW50LmFwcGVuZChpKTt0aGlzLl9yZW5kZXJBeGlzPWZ1bmN0aW9uKHQpe3ZhciBpLHIsdSxmO3Q9dHx8dGhpcy5lbGVtZW50O2ZvcihpIGluIHRoaXMuaGFuZGxlcyl0aGlzLmhhbmRsZXNbaV0uY29uc3RydWN0b3I9PT1TdHJpbmcmJih0aGlzLmhhbmRsZXNbaV09dGhpcy5lbGVtZW50LmNoaWxkcmVuKHRoaXMuaGFuZGxlc1tpXSkuZmlyc3QoKS5zaG93KCkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL3RleHRhcmVhfGlucHV0fHNlbGVjdHxidXR0b24vaSkmJihyPW4odGhpcy5oYW5kbGVzW2ldLHRoaXMuZWxlbWVudCksZj0vc3d8bmV8bnd8c2V8bnxzLy50ZXN0KGkpP3Iub3V0ZXJIZWlnaHQoKTpyLm91dGVyV2lkdGgoKSx1PVsicGFkZGluZyIsL25lfG53fG4vLnRlc3QoaSk/IlRvcCI6L3NlfHN3fHMvLnRlc3QoaSk/IkJvdHRvbSI6L15lJC8udGVzdChpKT8iUmlnaHQiOiJMZWZ0Il0uam9pbigiIiksdC5jc3ModSxmKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKSwhbih0aGlzLmhhbmRsZXNbaV0pLmxlbmd0aH07dGhpcy5fcmVuZGVyQXhpcyh0aGlzLmVsZW1lbnQpO3RoaXMuX2hhbmRsZXM9bigiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkuZGlzYWJsZVNlbGVjdGlvbigpO3RoaXMuX2hhbmRsZXMubW91c2VvdmVyKGZ1bmN0aW9uKCl7dS5yZXNpemluZ3x8KHRoaXMuY2xhc3NOYW1lJiYoaT10aGlzLmNsYXNzTmFtZS5tYXRjaCgvdWktcmVzaXphYmxlLShzZXxzd3xuZXxud3xufGV8c3x3KS9pKSksdS5heGlzPWkmJmlbMV0/aVsxXToic2UiKX0pO3QuYXV0b0hpZGUmJih0aGlzLl9oYW5kbGVzLmhpZGUoKSxuKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKXt0LmRpc2FibGVkfHwobih0aGlzKS5yZW1vdmVDbGFzcygidWktcmVzaXphYmxlLWF1dG9oaWRlIiksdS5faGFuZGxlcy5zaG93KCkpfSkubW91c2VsZWF2ZShmdW5jdGlvbigpe3QuZGlzYWJsZWR8fHUucmVzaXppbmd8fChuKHRoaXMpLmFkZENsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSx1Ll9oYW5kbGVzLmhpZGUoKSl9KSk7dGhpcy5fbW91c2VJbml0KCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fbW91c2VEZXN0cm95KCk7dmFyIHQsaT1mdW5jdGlvbih0KXtuKHQpLnJlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUgdWktcmVzaXphYmxlLWRpc2FibGVkIHVpLXJlc2l6YWJsZS1yZXNpemluZyIpLnJlbW92ZURhdGEoInJlc2l6YWJsZSIpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZSIpLnVuYmluZCgiLnJlc2l6YWJsZSIpLmZpbmQoIi51aS1yZXNpemFibGUtaGFuZGxlIikucmVtb3ZlKCl9O3JldHVybiB0aGlzLmVsZW1lbnRJc1dyYXBwZXImJihpKHRoaXMuZWxlbWVudCksdD10aGlzLmVsZW1lbnQsdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDp0LmNzcygidG9wIiksbGVmdDp0LmNzcygibGVmdCIpfSkuaW5zZXJ0QWZ0ZXIodCksdC5yZW1vdmUoKSksdGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiLHRoaXMub3JpZ2luYWxSZXNpemVTdHlsZSksaSh0aGlzLm9yaWdpbmFsRWxlbWVudCksdGhpc30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcixpLHU9ITE7Zm9yKHIgaW4gdGhpcy5oYW5kbGVzKWk9bih0aGlzLmhhbmRsZXNbcl0pWzBdLChpPT09dC50YXJnZXR8fG4uY29udGFpbnMoaSx0LnRhcmdldCkpJiYodT0hMCk7cmV0dXJuIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIHUsZixlLHI9dGhpcy5vcHRpb25zLGk9dGhpcy5lbGVtZW50O3JldHVybiB0aGlzLnJlc2l6aW5nPSEwLHRoaXMuX3JlbmRlclByb3h5KCksdT10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJsZWZ0IikpLGY9dGhpcy5fbnVtKHRoaXMuaGVscGVyLmNzcygidG9wIikpLHIuY29udGFpbm1lbnQmJih1Kz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbExlZnQoKXx8MCxmKz1uKHIuY29udGFpbm1lbnQpLnNjcm9sbFRvcCgpfHwwKSx0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKSx0aGlzLnBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMuc2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOnRoaXMuaGVscGVyLndpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLmhlaWdodCgpfTp7d2lkdGg6aS53aWR0aCgpLGhlaWdodDppLmhlaWdodCgpfSx0aGlzLm9yaWdpbmFsU2l6ZT10aGlzLl9oZWxwZXI/e3dpZHRoOmkub3V0ZXJXaWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMuc2l6ZURpZmY9e3dpZHRoOmkub3V0ZXJXaWR0aCgpLWkud2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpLWkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxQb3NpdGlvbj17bGVmdDp1LHRvcDpmfSx0aGlzLm9yaWdpbmFsTW91c2VQb3NpdGlvbj17bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZfSx0aGlzLmFzcGVjdFJhdGlvPXR5cGVvZiByLmFzcGVjdFJhdGlvPT0ibnVtYmVyIj9yLmFzcGVjdFJhdGlvOnRoaXMub3JpZ2luYWxTaXplLndpZHRoL3RoaXMub3JpZ2luYWxTaXplLmhlaWdodHx8MSxlPW4oIi51aS1yZXNpemFibGUtIit0aGlzLmF4aXMpLmNzcygiY3Vyc29yIiksbigiYm9keSIpLmNzcygiY3Vyc29yIixlPT09ImF1dG8iP3RoaXMuYXhpcysiLXJlc2l6ZSI6ZSksaS5hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsdCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGU9dGhpcy5heGlzLG89dC5wYWdlWC11LmxlZnR8fDAscz10LnBhZ2VZLXUudG9wfHwwLGY9dGhpcy5fY2hhbmdlW2VdO3JldHVybih0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLCFmKT8hMTooaT1mLmFwcGx5KHRoaXMsW3QsbyxzXSksdGhpcy5fdXBkYXRlVmlydHVhbEJvdW5kYXJpZXModC5zaGlmdEtleSksKHRoaXMuX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5KSYmKGk9dGhpcy5fdXBkYXRlUmF0aW8oaSx0KSksaT10aGlzLl9yZXNwZWN0U2l6ZShpLHQpLHRoaXMuX3VwZGF0ZUNhY2hlKGkpLHRoaXMuX3Byb3BhZ2F0ZSgicmVzaXplIix0KSxyPXRoaXMuX2FwcGx5Q2hhbmdlcygpLCF0aGlzLl9oZWxwZXImJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpLG4uaXNFbXB0eU9iamVjdChyKXx8KHRoaXMuX3VwZGF0ZVByZXZQcm9wZXJ0aWVzKCksdGhpcy5fdHJpZ2dlcigicmVzaXplIix0LHRoaXMudWkoKSksdGhpcy5fYXBwbHlDaGFuZ2VzKCkpLCExKX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt0aGlzLnJlc2l6aW5nPSExO3ZhciByLHUsZixlLG8scyxoLGM9dGhpcy5vcHRpb25zLGk9dGhpcztyZXR1cm4gdGhpcy5faGVscGVyJiYocj10aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLHU9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSksZj11JiZ0aGlzLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsZT11PzA6aS5zaXplRGlmZi53aWR0aCxvPXt3aWR0aDppLmhlbHBlci53aWR0aCgpLWUsaGVpZ2h0OmkuaGVscGVyLmhlaWdodCgpLWZ9LHM9cGFyc2VJbnQoaS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGwsYy5hbmltYXRlfHx0aGlzLmVsZW1lbnQuY3NzKG4uZXh0ZW5kKG8se3RvcDpoLGxlZnQ6c30pKSxpLmhlbHBlci5oZWlnaHQoaS5zaXplLmhlaWdodCksaS5oZWxwZXIud2lkdGgoaS5zaXplLndpZHRoKSx0aGlzLl9oZWxwZXImJiFjLmFuaW1hdGUmJnRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplKCkpLG4oImJvZHkiKS5jc3MoImN1cnNvciIsImF1dG8iKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJlc2l6YWJsZS1yZXNpemluZyIpLHRoaXMuX3Byb3BhZ2F0ZSgic3RvcCIsdCksdGhpcy5faGVscGVyJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSwhMX0sX3VwZGF0ZVByZXZQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dGhpcy5wcmV2UG9zaXRpb249e3RvcDp0aGlzLnBvc2l0aW9uLnRvcCxsZWZ0OnRoaXMucG9zaXRpb24ubGVmdH07dGhpcy5wcmV2U2l6ZT17d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX0sX2FwcGx5Q2hhbmdlczpmdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiB0aGlzLnBvc2l0aW9uLnRvcCE9PXRoaXMucHJldlBvc2l0aW9uLnRvcCYmKG4udG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLHRoaXMucG9zaXRpb24ubGVmdCE9PXRoaXMucHJldlBvc2l0aW9uLmxlZnQmJihuLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMuc2l6ZS53aWR0aCE9PXRoaXMucHJldlNpemUud2lkdGgmJihuLndpZHRoPXRoaXMuc2l6ZS53aWR0aCsicHgiKSx0aGlzLnNpemUuaGVpZ2h0IT09dGhpcy5wcmV2U2l6ZS5oZWlnaHQmJihuLmhlaWdodD10aGlzLnNpemUuaGVpZ2h0KyJweCIpLHRoaXMuaGVscGVyLmNzcyhuKSxufSxfdXBkYXRlVmlydHVhbEJvdW5kYXJpZXM6ZnVuY3Rpb24obil7dmFyIHIsdSxmLGUsdCxpPXRoaXMub3B0aW9uczt0PXttaW5XaWR0aDp0aGlzLl9pc051bWJlcihpLm1pbldpZHRoKT9pLm1pbldpZHRoOjAsbWF4V2lkdGg6dGhpcy5faXNOdW1iZXIoaS5tYXhXaWR0aCk/aS5tYXhXaWR0aDpJbmZpbml0eSxtaW5IZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5taW5IZWlnaHQpP2kubWluSGVpZ2h0OjAsbWF4SGVpZ2h0OnRoaXMuX2lzTnVtYmVyKGkubWF4SGVpZ2h0KT9pLm1heEhlaWdodDpJbmZpbml0eX07KHRoaXMuX2FzcGVjdFJhdGlvfHxuKSYmKHI9dC5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxmPXQubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx1PXQubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZT10Lm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8scj50Lm1pbldpZHRoJiYodC5taW5XaWR0aD1yKSxmPnQubWluSGVpZ2h0JiYodC5taW5IZWlnaHQ9ZiksdTx0Lm1heFdpZHRoJiYodC5tYXhXaWR0aD11KSxlPHQubWF4SGVpZ2h0JiYodC5tYXhIZWlnaHQ9ZSkpO3RoaXMuX3ZCb3VuZGFyaWVzPXR9LF91cGRhdGVDYWNoZTpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLl9pc051bWJlcihuLmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PW4ubGVmdCk7dGhpcy5faXNOdW1iZXIobi50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9bi50b3ApO3RoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9bi5oZWlnaHQpO3RoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPW4ud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxyPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIobi5oZWlnaHQpP24ud2lkdGg9bi5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKG4uaGVpZ2h0PW4ud2lkdGgvdGhpcy5hc3BlY3RSYXRpbykscj09PSJzdyImJihuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpLG4udG9wPW51bGwpLHI9PT0ibnciJiYobi50b3A9dC50b3ArKGkuaGVpZ2h0LW4uaGVpZ2h0KSxuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpKSxufSxfcmVzcGVjdFNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fdkJvdW5kYXJpZXMsaT10aGlzLmF4aXMscj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5tYXhXaWR0aCYmdC5tYXhXaWR0aDxuLndpZHRoLHU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1heEhlaWdodCYmdC5tYXhIZWlnaHQ8bi5oZWlnaHQsZj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5taW5XaWR0aCYmdC5taW5XaWR0aD5uLndpZHRoLGU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1pbkhlaWdodCYmdC5taW5IZWlnaHQ+bi5oZWlnaHQsbz10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxzPXRoaXMucG9zaXRpb24udG9wK3RoaXMuc2l6ZS5oZWlnaHQsaD0vc3d8bnd8dy8udGVzdChpKSxjPS9ud3xuZXxuLy50ZXN0KGkpO3JldHVybiBmJiYobi53aWR0aD10Lm1pbldpZHRoKSxlJiYobi5oZWlnaHQ9dC5taW5IZWlnaHQpLHImJihuLndpZHRoPXQubWF4V2lkdGgpLHUmJihuLmhlaWdodD10Lm1heEhlaWdodCksZiYmaCYmKG4ubGVmdD1vLXQubWluV2lkdGgpLHImJmgmJihuLmxlZnQ9by10Lm1heFdpZHRoKSxlJiZjJiYobi50b3A9cy10Lm1pbkhlaWdodCksdSYmYyYmKG4udG9wPXMtdC5tYXhIZWlnaHQpLG4ud2lkdGh8fG4uaGVpZ2h0fHxuLmxlZnR8fCFuLnRvcD9uLndpZHRofHxuLmhlaWdodHx8bi50b3B8fCFuLmxlZnR8fChuLmxlZnQ9bnVsbCk6bi50b3A9bnVsbCxufSxfZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wLGk9W10scj1bbi5jc3MoImJvcmRlclRvcFdpZHRoIiksbi5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSxuLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSxuLmNzcygiYm9yZGVyTGVmdFdpZHRoIildLHU9W24uY3NzKCJwYWRkaW5nVG9wIiksbi5jc3MoInBhZGRpbmdSaWdodCIpLG4uY3NzKCJwYWRkaW5nQm90dG9tIiksbi5jc3MoInBhZGRpbmdMZWZ0IildO3Q8NDt0KyspaVt0XT1wYXJzZUludChyW3RdLDEwKXx8MCxpW3RdKz1wYXJzZUludCh1W3RdLDEwKXx8MDtyZXR1cm57aGVpZ2h0OmlbMF0raVsyXSx3aWR0aDppWzFdK2lbM119fSxfcHJvcG9ydGlvbmFsbHlSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aClmb3IodmFyIG4sdD0wLGk9dGhpcy5oZWxwZXJ8fHRoaXMuZWxlbWVudDt0PHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoO3QrKyluPXRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHNbdF0sdGhpcy5vdXRlckRpbWVuc2lvbnN8fCh0aGlzLm91dGVyRGltZW5zaW9ucz10aGlzLl9nZXRQYWRkaW5nUGx1c0JvcmRlckRpbWVuc2lvbnMobikpLG4uY3NzKHtoZWlnaHQ6aS5oZWlnaHQoKS10aGlzLm91dGVyRGltZW5zaW9ucy5oZWlnaHR8fDAsd2lkdGg6aS53aWR0aCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLndpZHRofHwwfSl9LF9yZW5kZXJQcm94eTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudCxpPXRoaXMub3B0aW9uczt0aGlzLmVsZW1lbnRPZmZzZXQ9dC5vZmZzZXQoKTt0aGlzLl9oZWxwZXI/KHRoaXMuaGVscGVyPXRoaXMuaGVscGVyfHxuKCI8ZGl2IHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47Jz48XC9kaXY+IiksdGhpcy5oZWxwZXIuYWRkQ2xhc3ModGhpcy5faGVscGVyKS5jc3Moe3dpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCktMSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktMSxwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6dGhpcy5lbGVtZW50T2Zmc2V0LmxlZnQrInB4Iix0b3A6dGhpcy5lbGVtZW50T2Zmc2V0LnRvcCsicHgiLHpJbmRleDorK2kuekluZGV4fSksdGhpcy5oZWxwZXIuYXBwZW5kVG8oImJvZHkiKS5kaXNhYmxlU2VsZWN0aW9uKCkpOnRoaXMuaGVscGVyPXRoaXMuZWxlbWVudH0sX2NoYW5nZTp7ZTpmdW5jdGlvbihuLHQpe3JldHVybnt3aWR0aDp0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCt0fX0sdzpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMub3JpZ2luYWxTaXplLHI9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybntsZWZ0OnIubGVmdCt0LHdpZHRoOmkud2lkdGgtdH19LG46ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXMub3JpZ2luYWxTaXplLHU9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3JldHVybnt0b3A6dS50b3AraSxoZWlnaHQ6ci5oZWlnaHQtaX19LHM6ZnVuY3Rpb24obix0LGkpe3JldHVybntoZWlnaHQ6dGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0K2l9fSxzZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sc3c6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9LG5lOmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLm4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS5lLmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxudzpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2Uudy5hcHBseSh0aGlzLFt0LGkscl0pKX19LF9wcm9wYWdhdGU6ZnVuY3Rpb24odCxpKXtuLnVpLnBsdWdpbi5jYWxsKHRoaXMsdCxbaSx0aGlzLnVpKCldKTt0IT09InJlc2l6ZSImJnRoaXMuX3RyaWdnZXIodCxpLHRoaXMudWkoKSl9LHBsdWdpbnM6e30sdWk6ZnVuY3Rpb24oKXtyZXR1cm57b3JpZ2luYWxFbGVtZW50OnRoaXMub3JpZ2luYWxFbGVtZW50LGVsZW1lbnQ6dGhpcy5lbGVtZW50LGhlbHBlcjp0aGlzLmhlbHBlcixwb3NpdGlvbjp0aGlzLnBvc2l0aW9uLHNpemU6dGhpcy5zaXplLG9yaWdpbmFsU2l6ZTp0aGlzLm9yaWdpbmFsU2l6ZSxvcmlnaW5hbFBvc2l0aW9uOnRoaXMub3JpZ2luYWxQb3NpdGlvbn19fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJhbmltYXRlIix7c3RvcDpmdW5jdGlvbih0KXt2YXIgaT1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSx1PWkub3B0aW9ucyxyPWkuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMsZj1yLmxlbmd0aCYmL3RleHRhcmVhL2kudGVzdChyWzBdLm5vZGVOYW1lKSxzPWYmJmkuX2hhc1Njcm9sbChyWzBdLCJsZWZ0Iik/MDppLnNpemVEaWZmLmhlaWdodCxoPWY/MDppLnNpemVEaWZmLndpZHRoLGM9e3dpZHRoOmkuc2l6ZS53aWR0aC1oLGhlaWdodDppLnNpemUuaGVpZ2h0LXN9LGU9cGFyc2VJbnQoaS5lbGVtZW50LmNzcygibGVmdCIpLDEwKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxvPXBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSsoaS5wb3NpdGlvbi50b3AtaS5vcmlnaW5hbFBvc2l0aW9uLnRvcCl8fG51bGw7aS5lbGVtZW50LmFuaW1hdGUobi5leHRlbmQoYyxvJiZlP3t0b3A6byxsZWZ0OmV9Ont9KSx7ZHVyYXRpb246dS5hbmltYXRlRHVyYXRpb24sZWFzaW5nOnUuYW5pbWF0ZUVhc2luZyxzdGVwOmZ1bmN0aW9uKCl7dmFyIHU9e3dpZHRoOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoIndpZHRoIiksMTApLGhlaWdodDpwYXJzZUludChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSwxMCksdG9wOnBhcnNlSW50KGkuZWxlbWVudC5jc3MoInRvcCIpLDEwKSxsZWZ0OnBhcnNlSW50KGkuZWxlbWVudC5jc3MoImxlZnQiKSwxMCl9O3ImJnIubGVuZ3RoJiZuKHJbMF0pLmNzcyh7d2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9KTtpLl91cGRhdGVDYWNoZSh1KTtpLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCl9fSl9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJjb250YWlubWVudCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHIsZixlLG8scyxoLGMsdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxsPXQub3B0aW9ucyxhPXQuZWxlbWVudCx1PWwuY29udGFpbm1lbnQsaT11IGluc3RhbmNlb2Ygbj91LmdldCgwKTovcGFyZW50Ly50ZXN0KHUpP2EucGFyZW50KCkuZ2V0KDApOnU7aSYmKHQuY29udGFpbmVyRWxlbWVudD1uKGkpLC9kb2N1bWVudC8udGVzdCh1KXx8dT09PWRvY3VtZW50Pyh0LmNvbnRhaW5lck9mZnNldD17bGVmdDowLHRvcDowfSx0LmNvbnRhaW5lclBvc2l0aW9uPXtsZWZ0OjAsdG9wOjB9LHQucGFyZW50RGF0YT17ZWxlbWVudDpuKGRvY3VtZW50KSxsZWZ0OjAsdG9wOjAsd2lkdGg6bihkb2N1bWVudCkud2lkdGgoKSxoZWlnaHQ6bihkb2N1bWVudCkuaGVpZ2h0KCl8fGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHR9KToocj1uKGkpLGY9W10sbihbIlRvcCIsIlJpZ2h0IiwiTGVmdCIsIkJvdHRvbSJdKS5lYWNoKGZ1bmN0aW9uKG4saSl7ZltuXT10Ll9udW0oci5jc3MoInBhZGRpbmciK2kpKX0pLHQuY29udGFpbmVyT2Zmc2V0PXIub2Zmc2V0KCksdC5jb250YWluZXJQb3NpdGlvbj1yLnBvc2l0aW9uKCksdC5jb250YWluZXJTaXplPXtoZWlnaHQ6ci5pbm5lckhlaWdodCgpLWZbM10sd2lkdGg6ci5pbm5lcldpZHRoKCktZlsxXX0sZT10LmNvbnRhaW5lck9mZnNldCxvPXQuY29udGFpbmVyU2l6ZS5oZWlnaHQscz10LmNvbnRhaW5lclNpemUud2lkdGgsaD10Ll9oYXNTY3JvbGwoaSwibGVmdCIpP2kuc2Nyb2xsV2lkdGg6cyxjPXQuX2hhc1Njcm9sbChpKT9pLnNjcm9sbEhlaWdodDpvLHQucGFyZW50RGF0YT17ZWxlbWVudDppLGxlZnQ6ZS5sZWZ0LHRvcDplLnRvcCx3aWR0aDpoLGhlaWdodDpjfSkpfSxyZXNpemU6ZnVuY3Rpb24odCl7dmFyIG8scyxoLGMsaT1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSx2PWkub3B0aW9ucyxyPWkuY29udGFpbmVyT2Zmc2V0LGw9aS5wb3NpdGlvbixmPWkuX2FzcGVjdFJhdGlvfHx0LnNoaWZ0S2V5LGU9e3RvcDowLGxlZnQ6MH0sYT1pLmNvbnRhaW5lckVsZW1lbnQsdT0hMDthWzBdIT09ZG9jdW1lbnQmJi9zdGF0aWMvLnRlc3QoYS5jc3MoInBvc2l0aW9uIikpJiYoZT1yKTtsLmxlZnQ8KGkuX2hlbHBlcj9yLmxlZnQ6MCkmJihpLnNpemUud2lkdGg9aS5zaXplLndpZHRoKyhpLl9oZWxwZXI/aS5wb3NpdGlvbi5sZWZ0LXIubGVmdDppLnBvc2l0aW9uLmxlZnQtZS5sZWZ0KSxmJiYoaS5zaXplLmhlaWdodD1pLnNpemUud2lkdGgvaS5hc3BlY3RSYXRpbyx1PSExKSxpLnBvc2l0aW9uLmxlZnQ9di5oZWxwZXI/ci5sZWZ0OjApO2wudG9wPChpLl9oZWxwZXI/ci50b3A6MCkmJihpLnNpemUuaGVpZ2h0PWkuc2l6ZS5oZWlnaHQrKGkuX2hlbHBlcj9pLnBvc2l0aW9uLnRvcC1yLnRvcDppLnBvc2l0aW9uLnRvcCksZiYmKGkuc2l6ZS53aWR0aD1pLnNpemUuaGVpZ2h0KmkuYXNwZWN0UmF0aW8sdT0hMSksaS5wb3NpdGlvbi50b3A9aS5faGVscGVyP3IudG9wOjApO2g9aS5jb250YWluZXJFbGVtZW50LmdldCgwKT09PWkuZWxlbWVudC5wYXJlbnQoKS5nZXQoMCk7Yz0vcmVsYXRpdmV8YWJzb2x1dGUvLnRlc3QoaS5jb250YWluZXJFbGVtZW50LmNzcygicG9zaXRpb24iKSk7aCYmYz8oaS5vZmZzZXQubGVmdD1pLnBhcmVudERhdGEubGVmdCtpLnBvc2l0aW9uLmxlZnQsaS5vZmZzZXQudG9wPWkucGFyZW50RGF0YS50b3AraS5wb3NpdGlvbi50b3ApOihpLm9mZnNldC5sZWZ0PWkuZWxlbWVudC5vZmZzZXQoKS5sZWZ0LGkub2Zmc2V0LnRvcD1pLmVsZW1lbnQub2Zmc2V0KCkudG9wKTtvPU1hdGguYWJzKGkuc2l6ZURpZmYud2lkdGgrKGkuX2hlbHBlcj9pLm9mZnNldC5sZWZ0LWUubGVmdDppLm9mZnNldC5sZWZ0LXIubGVmdCkpO3M9TWF0aC5hYnMoaS5zaXplRGlmZi5oZWlnaHQrKGkuX2hlbHBlcj9pLm9mZnNldC50b3AtZS50b3A6aS5vZmZzZXQudG9wLXIudG9wKSk7bytpLnNpemUud2lkdGg+PWkucGFyZW50RGF0YS53aWR0aCYmKGkuc2l6ZS53aWR0aD1pLnBhcmVudERhdGEud2lkdGgtbyxmJiYoaS5zaXplLmhlaWdodD1pLnNpemUud2lkdGgvaS5hc3BlY3RSYXRpbyx1PSExKSk7cytpLnNpemUuaGVpZ2h0Pj1pLnBhcmVudERhdGEuaGVpZ2h0JiYoaS5zaXplLmhlaWdodD1pLnBhcmVudERhdGEuaGVpZ2h0LXMsZiYmKGkuc2l6ZS53aWR0aD1pLnNpemUuaGVpZ2h0KmkuYXNwZWN0UmF0aW8sdT0hMSkpO3V8fChpLnBvc2l0aW9uLmxlZnQ9aS5wcmV2UG9zaXRpb24ubGVmdCxpLnBvc2l0aW9uLnRvcD1pLnByZXZQb3NpdGlvbi50b3AsaS5zaXplLndpZHRoPWkucHJldlNpemUud2lkdGgsaS5zaXplLmhlaWdodD1pLnByZXZTaXplLmhlaWdodCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKSxyPXQub3B0aW9ucyx1PXQuY29udGFpbmVyT2Zmc2V0LGY9dC5jb250YWluZXJQb3NpdGlvbixlPXQuY29udGFpbmVyRWxlbWVudCxpPW4odC5oZWxwZXIpLG89aS5vZmZzZXQoKSxzPWkub3V0ZXJXaWR0aCgpLXQuc2l6ZURpZmYud2lkdGgsaD1pLm91dGVySGVpZ2h0KCktdC5zaXplRGlmZi5oZWlnaHQ7dC5faGVscGVyJiYhci5hbmltYXRlJiYvcmVsYXRpdmUvLnRlc3QoZS5jc3MoInBvc2l0aW9uIikpJiZuKHRoaXMpLmNzcyh7bGVmdDpvLmxlZnQtZi5sZWZ0LXUubGVmdCx3aWR0aDpzLGhlaWdodDpofSk7dC5faGVscGVyJiYhci5hbmltYXRlJiYvc3RhdGljLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aH0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYWxzb1Jlc2l6ZSIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdD1yLm9wdGlvbnMsaT1mdW5jdGlvbih0KXtuKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktcmVzaXphYmxlLWFsc29yZXNpemUiLHt3aWR0aDpwYXJzZUludCh0LndpZHRoKCksMTApLGhlaWdodDpwYXJzZUludCh0LmhlaWdodCgpLDEwKSxsZWZ0OnBhcnNlSW50KHQuY3NzKCJsZWZ0IiksMTApLHRvcDpwYXJzZUludCh0LmNzcygidG9wIiksMTApfSl9KX07dHlwZW9mIHQuYWxzb1Jlc2l6ZSE9Im9iamVjdCJ8fHQuYWxzb1Jlc2l6ZS5wYXJlbnROb2RlP2kodC5hbHNvUmVzaXplKTp0LmFsc29SZXNpemUubGVuZ3RoPyh0LmFsc29SZXNpemU9dC5hbHNvUmVzaXplWzBdLGkodC5hbHNvUmVzaXplKSk6bi5lYWNoKHQuYWxzb1Jlc2l6ZSxmdW5jdGlvbihuKXtpKG4pfSl9LHJlc2l6ZTpmdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLHU9ci5vcHRpb25zLGY9ci5vcmlnaW5hbFNpemUsZT1yLm9yaWdpbmFsUG9zaXRpb24scz17aGVpZ2h0OnIuc2l6ZS5oZWlnaHQtZi5oZWlnaHR8fDAsd2lkdGg6ci5zaXplLndpZHRoLWYud2lkdGh8fDAsdG9wOnIucG9zaXRpb24udG9wLWUudG9wfHwwLGxlZnQ6ci5wb3NpdGlvbi5sZWZ0LWUubGVmdHx8MH0sbz1mdW5jdGlvbih0LHIpe24odCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksZj1uKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIiksdT17fSxlPXImJnIubGVuZ3RoP3I6dC5wYXJlbnRzKGkub3JpZ2luYWxFbGVtZW50WzBdKS5sZW5ndGg/WyJ3aWR0aCIsImhlaWdodCJdOlsid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Il07bi5lYWNoKGUsZnVuY3Rpb24obix0KXt2YXIgaT0oZlt0XXx8MCkrKHNbdF18fDApO2kmJmk+PTAmJih1W3RdPWl8fG51bGwpfSk7dC5jc3ModSl9KX07dHlwZW9mIHUuYWxzb1Jlc2l6ZSE9Im9iamVjdCJ8fHUuYWxzb1Jlc2l6ZS5ub2RlVHlwZT9vKHUuYWxzb1Jlc2l6ZSk6bi5lYWNoKHUuYWxzb1Jlc2l6ZSxmdW5jdGlvbihuLHQpe28obix0KX0pfSxzdG9wOmZ1bmN0aW9uKCl7bih0aGlzKS5yZW1vdmVEYXRhKCJyZXNpemFibGUtYWxzb3Jlc2l6ZSIpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ2hvc3QiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zLHI9dC5zaXplO3QuZ2hvc3Q9dC5vcmlnaW5hbEVsZW1lbnQuY2xvbmUoKTt0Lmdob3N0LmNzcyh7b3BhY2l0eTouMjUsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnIuaGVpZ2h0LHdpZHRoOnIud2lkdGgsbWFyZ2luOjAsbGVmdDowLHRvcDowfSkuYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1naG9zdCIpLmFkZENsYXNzKHR5cGVvZiBpLmdob3N0PT0ic3RyaW5nIj9pLmdob3N0OiIiKTt0Lmdob3N0LmFwcGVuZFRvKHQuaGVscGVyKX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIik7dC5naG9zdCYmdC5naG9zdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsaGVpZ2h0OnQuc2l6ZS5oZWlnaHQsd2lkdGg6dC5zaXplLndpZHRofSl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0LmhlbHBlciYmdC5oZWxwZXIuZ2V0KDApLnJlbW92ZUNoaWxkKHQuZ2hvc3QuZ2V0KDApKX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImdyaWQiLHtyZXNpemU6ZnVuY3Rpb24oKXt2YXIgaCx0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zLHk9dC5zaXplLGU9dC5vcmlnaW5hbFNpemUsbz10Lm9yaWdpbmFsUG9zaXRpb24sYz10LmF4aXMsbD10eXBlb2YgaS5ncmlkPT0ibnVtYmVyIj9baS5ncmlkLGkuZ3JpZF06aS5ncmlkLHM9bFswXXx8MSxmPWxbMV18fDEsYT1NYXRoLnJvdW5kKCh5LndpZHRoLWUud2lkdGgpL3MpKnMsdj1NYXRoLnJvdW5kKCh5LmhlaWdodC1lLmhlaWdodCkvZikqZixyPWUud2lkdGgrYSx1PWUuaGVpZ2h0K3YscD1pLm1heFdpZHRoJiZpLm1heFdpZHRoPHIsdz1pLm1heEhlaWdodCYmaS5tYXhIZWlnaHQ8dSxiPWkubWluV2lkdGgmJmkubWluV2lkdGg+cixrPWkubWluSGVpZ2h0JiZpLm1pbkhlaWdodD51O2kuZ3JpZD1sO2ImJihyKz1zKTtrJiYodSs9Zik7cCYmKHItPXMpO3cmJih1LT1mKTsvXihzZXxzfGUpJC8udGVzdChjKT8odC5zaXplLndpZHRoPXIsdC5zaXplLmhlaWdodD11KTovXihuZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi50b3A9by50b3Atdik6L14oc3cpJC8udGVzdChjKT8odC5zaXplLndpZHRoPXIsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24ubGVmdD1vLmxlZnQtYSk6KCh1LWY8PTB8fHItczw9MCkmJihoPXQuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyh0aGlzKSksdS1mPjA/KHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1vLnRvcC12KToodT1mLWguaGVpZ2h0LHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1vLnRvcCtlLmhlaWdodC11KSxyLXM+MD8odC5zaXplLndpZHRoPXIsdC5wb3NpdGlvbi5sZWZ0PW8ubGVmdC1hKToocj1mLWguaGVpZ2h0LHQuc2l6ZS53aWR0aD1yLHQucG9zaXRpb24ubGVmdD1vLmxlZnQrZS53aWR0aC1yKSl9fSk7c3Q9bi51aS5yZXNpemFibGU7Ci8qIQogKiBqUXVlcnkgVUkgRGlhbG9nIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2RpYWxvZy8KICovCmh0PW4ud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjExLjIiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZGlhbG9nQ2xhc3M6IiIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLG9mOndpbmRvdyxjb2xsaXNpb246ImZpdCIsdXNpbmc6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5jc3ModCkub2Zmc2V0KCkudG9wO2k8MCYmbih0aGlzKS5jc3MoInRvcCIsdC50b3AtaSl9fSxyZXNpemFibGU6ITAsc2hvdzpudWxsLHRpdGxlOm51bGwsd2lkdGg6MzAwLGJlZm9yZUNsb3NlOm51bGwsY2xvc2U6bnVsbCxkcmFnOm51bGwsZHJhZ1N0YXJ0Om51bGwsZHJhZ1N0b3A6bnVsbCxmb2N1czpudWxsLG9wZW46bnVsbCxyZXNpemU6bnVsbCxyZXNpemVTdGFydDpudWxsLHJlc2l6ZVN0b3A6bnVsbH0sc2l6ZVJlbGF0ZWRPcHRpb25zOntidXR0b25zOiEwLGhlaWdodDohMCxtYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwLHdpZHRoOiEwfSxyZXNpemFibGVSZWxhdGVkT3B0aW9uczp7bWF4SGVpZ2h0OiEwLG1heFdpZHRoOiEwLG1pbkhlaWdodDohMCxtaW5XaWR0aDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3JpZ2luYWxDc3M9e2Rpc3BsYXk6dGhpcy5lbGVtZW50WzBdLnN0eWxlLmRpc3BsYXksd2lkdGg6dGhpcy5lbGVtZW50WzBdLnN0eWxlLndpZHRoLG1pbkhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWluSGVpZ2h0LG1heEhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUubWF4SGVpZ2h0LGhlaWdodDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0fTt0aGlzLm9yaWdpbmFsUG9zaXRpb249e3BhcmVudDp0aGlzLmVsZW1lbnQucGFyZW50KCksaW5kZXg6dGhpcy5lbGVtZW50LnBhcmVudCgpLmNoaWxkcmVuKCkuaW5kZXgodGhpcy5lbGVtZW50KX07dGhpcy5vcmlnaW5hbFRpdGxlPXRoaXMuZWxlbWVudC5hdHRyKCJ0aXRsZSIpO3RoaXMub3B0aW9ucy50aXRsZT10aGlzLm9wdGlvbnMudGl0bGV8fHRoaXMub3JpZ2luYWxUaXRsZTt0aGlzLl9jcmVhdGVXcmFwcGVyKCk7dGhpcy5lbGVtZW50LnNob3coKS5yZW1vdmVBdHRyKCJ0aXRsZSIpLmFkZENsYXNzKCJ1aS1kaWFsb2ctY29udGVudCB1aS13aWRnZXQtY29udGVudCIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2cpO3RoaXMuX2NyZWF0ZVRpdGxlYmFyKCk7dGhpcy5fY3JlYXRlQnV0dG9uUGFuZSgpO3RoaXMub3B0aW9ucy5kcmFnZ2FibGUmJm4uZm4uZHJhZ2dhYmxlJiZ0aGlzLl9tYWtlRHJhZ2dhYmxlKCk7dGhpcy5vcHRpb25zLnJlc2l6YWJsZSYmbi5mbi5yZXNpemFibGUmJnRoaXMuX21ha2VSZXNpemFibGUoKTt0aGlzLl9pc09wZW49ITE7dGhpcy5fdHJhY2tGb2N1cygpfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvT3BlbiYmdGhpcy5vcGVuKCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQuanF1ZXJ5fHx0Lm5vZGVUeXBlKT9uKHQpOnRoaXMuZG9jdW1lbnQuZmluZCh0fHwiYm9keSIpLmVxKDApfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5vcmlnaW5hbFBvc2l0aW9uO3RoaXMuX2Rlc3Ryb3lPdmVybGF5KCk7dGhpcy5lbGVtZW50LnJlbW92ZVVuaXF1ZUlkKCkucmVtb3ZlQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IHVpLXdpZGdldC1jb250ZW50IikuY3NzKHRoaXMub3JpZ2luYWxDc3MpLmRldGFjaCgpO3RoaXMudWlEaWFsb2cuc3RvcCghMCwhMCkucmVtb3ZlKCk7dGhpcy5vcmlnaW5hbFRpdGxlJiZ0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiLHRoaXMub3JpZ2luYWxUaXRsZSk7bj10LnBhcmVudC5jaGlsZHJlbigpLmVxKHQuaW5kZXgpO24ubGVuZ3RoJiZuWzBdIT09dGhpcy5lbGVtZW50WzBdP24uYmVmb3JlKHRoaXMuZWxlbWVudCk6dC5wYXJlbnQuYXBwZW5kKHRoaXMuZWxlbWVudCl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpRGlhbG9nfSxkaXNhYmxlOm4ubm9vcCxlbmFibGU6bi5ub29wLGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciBpLHI9dGhpcztpZih0aGlzLl9pc09wZW4mJnRoaXMuX3RyaWdnZXIoImJlZm9yZUNsb3NlIix0KSE9PSExKXtpZih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLCF0aGlzLm9wZW5lci5maWx0ZXIoIjpmb2N1c2FibGUiKS5mb2N1cygpLmxlbmd0aCl0cnl7aT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ7aSYmaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09ImJvZHkiJiZuKGkpLmJsdXIoKX1jYXRjaCh1KXt9dGhpcy5faGlkZSh0aGlzLnVpRGlhbG9nLHRoaXMub3B0aW9ucy5oaWRlLGZ1bmN0aW9uKCl7ci5fdHJpZ2dlcigiY2xvc2UiLHQpfSl9fSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNPcGVufSxtb3ZlVG9Ub3A6ZnVuY3Rpb24oKXt0aGlzLl9tb3ZlVG9Ub3AoKX0sX21vdmVUb1RvcDpmdW5jdGlvbih0LGkpe3ZhciByPSExLGY9dGhpcy51aURpYWxvZy5zaWJsaW5ncygiLnVpLWZyb250OnZpc2libGUiKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4rbih0aGlzKS5jc3MoInotaW5kZXgiKX0pLmdldCgpLHU9TWF0aC5tYXguYXBwbHkobnVsbCxmKTtyZXR1cm4gdT49K3RoaXMudWlEaWFsb2cuY3NzKCJ6LWluZGV4IikmJih0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIsdSsxKSxyPSEwKSxyJiYhaSYmdGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQpLHJ9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX2lzT3Blbil7dGhpcy5fbW92ZVRvVG9wKCkmJnRoaXMuX2ZvY3VzVGFiYmFibGUoKTtyZXR1cm59dGhpcy5faXNPcGVuPSEwO3RoaXMub3BlbmVyPW4odGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KTt0aGlzLl9zaXplKCk7dGhpcy5fcG9zaXRpb24oKTt0aGlzLl9jcmVhdGVPdmVybGF5KCk7dGhpcy5fbW92ZVRvVG9wKG51bGwsITApO3RoaXMub3ZlcmxheSYmdGhpcy5vdmVybGF5LmNzcygiei1pbmRleCIsdGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiKS0xKTt0aGlzLl9zaG93KHRoaXMudWlEaWFsb2csdGhpcy5vcHRpb25zLnNob3csZnVuY3Rpb24oKXt0Ll9mb2N1c1RhYmJhYmxlKCk7dC5fdHJpZ2dlcigiZm9jdXMiKX0pO3RoaXMuX21ha2VGb2N1c1RhcmdldCgpO3RoaXMuX3RyaWdnZXIoIm9wZW4iKX0sX2ZvY3VzVGFiYmFibGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9mb2N1c2VkRWxlbWVudDtufHwobj10aGlzLmVsZW1lbnQuZmluZCgiW2F1dG9mb2N1c10iKSk7bi5sZW5ndGh8fChuPXRoaXMuZWxlbWVudC5maW5kKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2dCdXR0b25QYW5lLmZpbmQoIjp0YWJiYWJsZSIpKTtuLmxlbmd0aHx8KG49dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UuZmlsdGVyKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2cpO24uZXEoMCkuZm9jdXMoKX0sX2tlZXBGb2N1czpmdW5jdGlvbih0KXtmdW5jdGlvbiBpKCl7dmFyIHQ9dGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LGk9dGhpcy51aURpYWxvZ1swXT09PXR8fG4uY29udGFpbnModGhpcy51aURpYWxvZ1swXSx0KTtpfHx0aGlzLl9mb2N1c1RhYmJhYmxlKCl9dC5wcmV2ZW50RGVmYXVsdCgpO2kuY2FsbCh0aGlzKTt0aGlzLl9kZWxheShpKX0sX2NyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24oKXt0aGlzLnVpRGlhbG9nPW4oIjxkaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS1mcm9udCAiK3RoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuaGlkZSgpLmF0dHIoe3RhYkluZGV4Oi0xLHJvbGU6ImRpYWxvZyJ9KS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nLHtrZXlkb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5jbG9zZU9uRXNjYXBlJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmdC5rZXlDb2RlJiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuRVNDQVBFKXt0LnByZXZlbnREZWZhdWx0KCk7dGhpcy5jbG9zZSh0KTtyZXR1cm59aWYodC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlRBQiYmIXQuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBpPXRoaXMudWlEaWFsb2cuZmluZCgiOnRhYmJhYmxlIikscj1pLmZpbHRlcigiOmZpcnN0IiksdT1pLmZpbHRlcigiOmxhc3QiKTt0LnRhcmdldCE9PXVbMF0mJnQudGFyZ2V0IT09dGhpcy51aURpYWxvZ1swXXx8dC5zaGlmdEtleT8odC50YXJnZXQ9PT1yWzBdfHx0LnRhcmdldD09PXRoaXMudWlEaWFsb2dbMF0pJiZ0LnNoaWZ0S2V5JiYodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt1LmZvY3VzKCl9KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9kZWxheShmdW5jdGlvbigpe3IuZm9jdXMoKX0pLHQucHJldmVudERlZmF1bHQoKSl9fSxtb3VzZWRvd246ZnVuY3Rpb24obil7dGhpcy5fbW92ZVRvVG9wKG4pJiZ0aGlzLl9mb2N1c1RhYmJhYmxlKCl9fSk7dGhpcy5lbGVtZW50LmZpbmQoIlthcmlhLWRlc2NyaWJlZGJ5XSIpLmxlbmd0aHx8dGhpcy51aURpYWxvZy5hdHRyKHsiYXJpYS1kZXNjcmliZWRieSI6dGhpcy5lbGVtZW50LnVuaXF1ZUlkKCkuYXR0cigiaWQiKX0pfSxfY3JlYXRlVGl0bGViYXI6ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnVpRGlhbG9nVGl0bGViYXI9bigiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCB1aS1oZWxwZXItY2xlYXJmaXgiKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy5fb24odGhpcy51aURpYWxvZ1RpdGxlYmFyLHttb3VzZWRvd246ZnVuY3Rpb24odCl7bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpfHx0aGlzLnVpRGlhbG9nLmZvY3VzKCl9fSk7dGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2U9bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5idXR0b24oe2xhYmVsOnRoaXMub3B0aW9ucy5jbG9zZVRleHQsaWNvbnM6e3ByaW1hcnk6InVpLWljb24tY2xvc2V0aGljayJ9LHRleHQ6ITF9KS5hZGRDbGFzcygidWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIikuYXBwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKTt0aGlzLl9vbih0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZSx7Y2xpY2s6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3RoaXMuY2xvc2Uobil9fSk7dD1uKCI8c3Bhbj4iKS51bmlxdWVJZCgpLmFkZENsYXNzKCJ1aS1kaWFsb2ctdGl0bGUiKS5wcmVwZW5kVG8odGhpcy51aURpYWxvZ1RpdGxlYmFyKTt0aGlzLl90aXRsZSh0KTt0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnRpdGxlfHxuLmh0bWwoIiYjMTYwOyIpO24udGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpfSxfY3JlYXRlQnV0dG9uUGFuZTpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2dCdXR0b25QYW5lPW4oIjxkaXY+IikuYWRkQ2xhc3MoInVpLWRpYWxvZy1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50IHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMudWlCdXR0b25TZXQ9bigiPGRpdj4iKS5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnNldCIpLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lKTt0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9ucy5idXR0b25zO2lmKHRoaXMudWlEaWFsb2dCdXR0b25QYW5lLnJlbW92ZSgpLHRoaXMudWlCdXR0b25TZXQuZW1wdHkoKSxuLmlzRW1wdHlPYmplY3QodCl8fG4uaXNBcnJheSh0KSYmIXQubGVuZ3RoKXt0aGlzLnVpRGlhbG9nLnJlbW92ZUNsYXNzKCJ1aS1kaWFsb2ctYnV0dG9ucyIpO3JldHVybn1uLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciB1LGY7cj1uLmlzRnVuY3Rpb24ocik/e2NsaWNrOnIsdGV4dDp0fTpyO3I9bi5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHIpO3U9ci5jbGljaztyLmNsaWNrPWZ1bmN0aW9uKCl7dS5hcHBseShpLmVsZW1lbnRbMF0sYXJndW1lbnRzKX07Zj17aWNvbnM6ci5pY29ucyx0ZXh0OnIuc2hvd1RleHR9O2RlbGV0ZSByLmljb25zO2RlbGV0ZSByLnNob3dUZXh0O24oIjxidXR0b24+PFwvYnV0dG9uPiIscikuYnV0dG9uKGYpLmFwcGVuZFRvKGkudWlCdXR0b25TZXQpfSk7dGhpcy51aURpYWxvZy5hZGRDbGFzcygidWktZGlhbG9nLWJ1dHRvbnMiKTt0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5hcHBlbmRUbyh0aGlzLnVpRGlhbG9nKX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4pe3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLm9mZnNldH19dmFyIHQ9dGhpcyxyPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihyLHUpe24odGhpcykuYWRkQ2xhc3MoInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixyLGkodSkpfSxkcmFnOmZ1bmN0aW9uKG4scil7dC5fdHJpZ2dlcigiZHJhZyIsbixpKHIpKX0sc3RvcDpmdW5jdGlvbih1LGYpe3ZhciBlPWYub2Zmc2V0LmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksbz1mLm9mZnNldC50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtyLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0IisoZT49MD8iKyI6IiIpK2UrIiB0b3AiKyhvPj0wPyIrIjoiIikrbyxvZjp0LndpbmRvd307bih0aGlzKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLWRyYWdnaW5nIik7dC5fdW5ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoImRyYWdTdG9wIix1LGkoZikpfX0pfSxfbWFrZVJlc2l6YWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIHIobil7cmV0dXJue29yaWdpbmFsUG9zaXRpb246bi5vcmlnaW5hbFBvc2l0aW9uLG9yaWdpbmFsU2l6ZTpuLm9yaWdpbmFsU2l6ZSxwb3NpdGlvbjpuLnBvc2l0aW9uLHNpemU6bi5zaXplfX12YXIgdD10aGlzLGk9dGhpcy5vcHRpb25zLHU9aS5yZXNpemFibGUsZj10aGlzLnVpRGlhbG9nLmNzcygicG9zaXRpb24iKSxlPXR5cGVvZiB1PT0ic3RyaW5nIj91OiJuLGUscyx3LHNlLHN3LG5lLG53Ijt0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQiLGNvbnRhaW5tZW50OiJkb2N1bWVudCIsYWxzb1Jlc2l6ZTp0aGlzLmVsZW1lbnQsbWF4V2lkdGg6aS5tYXhXaWR0aCxtYXhIZWlnaHQ6aS5tYXhIZWlnaHQsbWluV2lkdGg6aS5taW5XaWR0aCxtaW5IZWlnaHQ6dGhpcy5fbWluSGVpZ2h0KCksaGFuZGxlczplLHN0YXJ0OmZ1bmN0aW9uKGksdSl7bih0aGlzKS5hZGRDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIik7dC5fYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdGFydCIsaSxyKHUpKX0scmVzaXplOmZ1bmN0aW9uKG4saSl7dC5fdHJpZ2dlcigicmVzaXplIixuLHIoaSkpfSxzdG9wOmZ1bmN0aW9uKHUsZil7dmFyIGU9dC51aURpYWxvZy5vZmZzZXQoKSxvPWUubGVmdC10LmRvY3VtZW50LnNjcm9sbExlZnQoKSxzPWUudG9wLXQuZG9jdW1lbnQuc2Nyb2xsVG9wKCk7aS5oZWlnaHQ9dC51aURpYWxvZy5oZWlnaHQoKTtpLndpZHRoPXQudWlEaWFsb2cud2lkdGgoKTtpLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0Iisobz49MD8iKyI6IiIpK28rIiB0b3AiKyhzPj0wPyIrIjoiIikrcyxvZjp0LndpbmRvd307bih0aGlzKS5yZW1vdmVDbGFzcygidWktZGlhbG9nLXJlc2l6aW5nIik7dC5fdW5ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0b3AiLHUscihmKSl9fSkuY3NzKCJwb3NpdGlvbiIsZil9LF90cmFja0ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy53aWRnZXQoKSx7Zm9jdXNpbjpmdW5jdGlvbih0KXt0aGlzLl9tYWtlRm9jdXNUYXJnZXQoKTt0aGlzLl9mb2N1c2VkRWxlbWVudD1uKHQudGFyZ2V0KX19KX0sX21ha2VGb2N1c1RhcmdldDpmdW5jdGlvbigpe3RoaXMuX3VudHJhY2tJbnN0YW5jZSgpO3RoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCkudW5zaGlmdCh0aGlzKX0sX3VudHJhY2tJbnN0YW5jZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RyYWNraW5nSW5zdGFuY2VzKCksaT1uLmluQXJyYXkodGhpcyx0KTtpIT09LTEmJnQuc3BsaWNlKGksMSl9LF90cmFja2luZ0luc3RhbmNlczpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLWluc3RhbmNlcyIpO3JldHVybiBufHwobj1bXSx0aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiLG4pKSxufSxfbWluSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zO3JldHVybiBuLmhlaWdodD09PSJhdXRvIj9uLm1pbkhlaWdodDpNYXRoLm1pbihuLm1pbkhlaWdodCxuLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIik7bnx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5wb3NpdGlvbih0aGlzLm9wdGlvbnMucG9zaXRpb24pO258fHRoaXMudWlEaWFsb2cuaGlkZSgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9ITEsdT17fTtuLmVhY2godCxmdW5jdGlvbihuLHQpe2kuX3NldE9wdGlvbihuLHQpO24gaW4gaS5zaXplUmVsYXRlZE9wdGlvbnMmJihyPSEwKTtuIGluIGkucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMmJih1W25dPXQpfSk7ciYmKHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLHUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIHUscixpPXRoaXMudWlEaWFsb2c7KG49PT0iZGlhbG9nQ2xhc3MiJiZpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kaWFsb2dDbGFzcykuYWRkQ2xhc3ModCksbiE9PSJkaXNhYmxlZCIpJiYodGhpcy5fc3VwZXIobix0KSxuPT09ImFwcGVuZFRvIiYmdGhpcy51aURpYWxvZy5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKSxuPT09ImJ1dHRvbnMiJiZ0aGlzLl9jcmVhdGVCdXR0b25zKCksbj09PSJjbG9zZVRleHQiJiZ0aGlzLnVpRGlhbG9nVGl0bGViYXJDbG9zZS5idXR0b24oe2xhYmVsOiIiK3R9KSxuPT09ImRyYWdnYWJsZSImJih1PWkuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSx1JiYhdCYmaS5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhdSYmdCYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSxuPT09InBvc2l0aW9uIiYmdGhpcy5fcG9zaXRpb24oKSxuPT09InJlc2l6YWJsZSImJihyPWkuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSxyJiYhdCYmaS5yZXNpemFibGUoImRlc3Ryb3kiKSxyJiZ0eXBlb2YgdD09InN0cmluZyImJmkucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIix0KSxyfHx0PT09ITF8fHRoaXMuX21ha2VSZXNpemFibGUoKSksbj09PSJ0aXRsZSImJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSk7bi5taW5XaWR0aD5uLndpZHRoJiYobi53aWR0aD1uLm1pbldpZHRoKTt0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOm4ud2lkdGh9KS5vdXRlckhlaWdodCgpO2k9TWF0aC5tYXgoMCxuLm1pbkhlaWdodC10KTtyPXR5cGVvZiBuLm1heEhlaWdodD09Im51bWJlciI/TWF0aC5tYXgoMCxuLm1heEhlaWdodC10KToibm9uZSI7bi5oZWlnaHQ9PT0iYXV0byI/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmksbWF4SGVpZ2h0OnIsaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxuLmhlaWdodC10KSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGg/ITA6ISFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGF0ZXBpY2tlciIpLmxlbmd0aH0sX2NyZWF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciB0PSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dD0hMX0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46ZnVuY3Rpb24obil7dHx8dGhpcy5fYWxsb3dJbnRlcmFjdGlvbihuKXx8KG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpWzBdLl9mb2N1c1RhYmJhYmxlKCkpfX0pO3RoaXMub3ZlcmxheT1uKCI8ZGl2PiIpLmFkZENsYXNzKCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiwodGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8MCkrMSl9fSxfZGVzdHJveU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwmJnRoaXMub3ZlcmxheSl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKS0xO24/dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLG4pOnRoaXMuZG9jdW1lbnQudW5iaW5kKCJmb2N1c2luIikucmVtb3ZlRGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIik7dGhpcy5vdmVybGF5LnJlbW92ZSgpO3RoaXMub3ZlcmxheT1udWxsfX19KTsKLyohCiAqIGpRdWVyeSBVSSBEcm9wcGFibGUgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZHJvcHBhYmxlLwogKi8Kbi53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTEuMiIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWN0aXZlQ2xhc3M6ITEsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsaG92ZXJDbGFzczohMSxzY29wZToiZGVmYXVsdCIsdG9sZXJhbmNlOiJpbnRlcnNlY3QiLGFjdGl2YXRlOm51bGwsZGVhY3RpdmF0ZTpudWxsLGRyb3A6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMub3B0aW9ucyxyPWkuYWNjZXB0O3RoaXMuaXNvdmVyPSExO3RoaXMuaXNvdXQ9ITA7dGhpcy5hY2NlcHQ9bi5pc0Z1bmN0aW9uKHIpP3I6ZnVuY3Rpb24obil7cmV0dXJuIG4uaXMocil9O3RoaXMucHJvcG9ydGlvbnM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoKXQ9YXJndW1lbnRzWzBdO2Vsc2UgcmV0dXJuIHQ/dDp0PXt3aWR0aDp0aGlzLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9fTt0aGlzLl9hZGRUb01hbmFnZXIoaS5zY29wZSk7aS5hZGRDbGFzc2VzJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWRyb3BwYWJsZSIpfSxfYWRkVG9NYW5hZ2VyOmZ1bmN0aW9uKHQpe24udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF09bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0XXx8W107bi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0XS5wdXNoKHRoaXMpfSxfc3BsaWNlOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF09PT10aGlzJiZuLnNwbGljZSh0LDEpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdGhpcy5vcHRpb25zLnNjb3BlXTt0aGlzLl9zcGxpY2UodCk7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUgdWktZHJvcHBhYmxlLWRpc2FibGVkIil9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXtpZih0PT09ImFjY2VwdCIpdGhpcy5hY2NlcHQ9bi5pc0Z1bmN0aW9uKGkpP2k6ZnVuY3Rpb24obil7cmV0dXJuIG4uaXMoaSl9O2Vsc2UgaWYodD09PSJzY29wZSIpe3ZhciByPW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdGhpcy5vcHRpb25zLnNjb3BlXTt0aGlzLl9zcGxpY2Uocik7dGhpcy5fYWRkVG9NYW5hZ2VyKGkpfXRoaXMuX3N1cGVyKHQsaSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7aSYmdGhpcy5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdGhpcy51aShpKSl9LF9kZWFjdGl2YXRlOmZ1bmN0aW9uKHQpe3ZhciBpPW4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ7dGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKTtpJiZ0aGlzLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfb3ZlcjpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyksdGhpcy5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLnVpKGkpKSl9LF9vdXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9aXx8bi51aS5kZG1hbmFnZXIuY3VycmVudCx1PSExO3JldHVybiFyfHwoci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KVswXT09PXRoaXMuZWxlbWVudFswXT8hMToodGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZuLnVpLmludGVyc2VjdChyLG4uZXh0ZW5kKGkse29mZnNldDppLmVsZW1lbnQub2Zmc2V0KCl9KSxpLm9wdGlvbnMudG9sZXJhbmNlLHQpKXJldHVybiB1PSEwLCExfSksdSk/ITE6dGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KT8odGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFjdGl2ZUNsYXNzKSx0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKSx0aGlzLl90cmlnZ2VyKCJkcm9wIix0LHRoaXMudWkocikpLHRoaXMuZWxlbWVudCk6ITF9LHVpOmZ1bmN0aW9uKG4pe3JldHVybntkcmFnZ2FibGU6bi5jdXJyZW50SXRlbXx8bi5lbGVtZW50LGhlbHBlcjpuLmhlbHBlcixwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLnBvc2l0aW9uQWJzfX19KTtuLnVpLmludGVyc2VjdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0LGkpe3JldHVybiBuPj10JiZuPHQraX1yZXR1cm4gZnVuY3Rpb24odCxpLHIsdSl7aWYoIWkub2Zmc2V0KXJldHVybiExO3ZhciBvPSh0LnBvc2l0aW9uQWJzfHx0LnBvc2l0aW9uLmFic29sdXRlKS5sZWZ0K3QubWFyZ2lucy5sZWZ0LHM9KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLnRvcCt0Lm1hcmdpbnMudG9wLGg9byt0LmhlbHBlclByb3BvcnRpb25zLndpZHRoLGM9cyt0LmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxmPWkub2Zmc2V0LmxlZnQsZT1pLm9mZnNldC50b3AsbD1mK2kucHJvcG9ydGlvbnMoKS53aWR0aCxhPWUraS5wcm9wb3J0aW9ucygpLmhlaWdodDtzd2l0Y2gocil7Y2FzZSJmaXQiOnJldHVybiBmPD1vJiZoPD1sJiZlPD1zJiZjPD1hO2Nhc2UiaW50ZXJzZWN0IjpyZXR1cm4gZjxvK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmaC10LmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8bCYmZTxzK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmMtdC5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxhO2Nhc2UicG9pbnRlciI6cmV0dXJuIG4odS5wYWdlWSxlLGkucHJvcG9ydGlvbnMoKS5oZWlnaHQpJiZuKHUucGFnZVgsZixpLnByb3BvcnRpb25zKCkud2lkdGgpO2Nhc2UidG91Y2giOnJldHVybihzPj1lJiZzPD1hfHxjPj1lJiZjPD1hfHxzPGUmJmM+YSkmJihvPj1mJiZvPD1sfHxoPj1mJiZoPD1sfHxvPGYmJmg+bCk7ZGVmYXVsdDpyZXR1cm4hMX19fSgpO24udWkuZGRtYW5hZ2VyPXtjdXJyZW50Om51bGwsZHJvcHBhYmxlczp7ImRlZmF1bHQiOltdfSxwcmVwYXJlT2Zmc2V0czpmdW5jdGlvbih0LGkpe3ZhciByLGYsdT1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3Qub3B0aW9ucy5zY29wZV18fFtdLG89aT9pLnR5cGU6bnVsbCxlPSh0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpLmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5hZGRCYWNrKCk7bjpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKWlmKCF1W3JdLm9wdGlvbnMuZGlzYWJsZWQmJighdHx8dVtyXS5hY2NlcHQuY2FsbCh1W3JdLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSkpe2ZvcihmPTA7ZjxlLmxlbmd0aDtmKyspaWYoZVtmXT09PXVbcl0uZWxlbWVudFswXSl7dVtyXS5wcm9wb3J0aW9ucygpLmhlaWdodD0wO2NvbnRpbnVlIG59KHVbcl0udmlzaWJsZT11W3JdLmVsZW1lbnQuY3NzKCJkaXNwbGF5IikhPT0ibm9uZSIsdVtyXS52aXNpYmxlKSYmKG89PT0ibW91c2Vkb3duIiYmdVtyXS5fYWN0aXZhdGUuY2FsbCh1W3JdLGkpLHVbcl0ub2Zmc2V0PXVbcl0uZWxlbWVudC5vZmZzZXQoKSx1W3JdLnByb3BvcnRpb25zKHt3aWR0aDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnVbcl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9KSl9fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITE7cmV0dXJuIG4uZWFjaCgobi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmbi51aS5pbnRlcnNlY3QodCx0aGlzLHRoaXMub3B0aW9ucy50b2xlcmFuY2UsaSkmJihyPXRoaXMuX2Ryb3AuY2FsbCh0aGlzLGkpfHxyKSwhdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLnZpc2libGUmJnRoaXMuYWNjZXB0LmNhbGwodGhpcy5lbGVtZW50WzBdLHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkmJih0aGlzLmlzb3V0PSEwLHRoaXMuaXNvdmVyPSExLHRoaXMuX2RlYWN0aXZhdGUuY2FsbCh0aGlzLGkpKSl9KSxyfSxkcmFnU3RhcnQ6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5IikuYmluZCgic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcixlLGYsbz1uLnVpLmludGVyc2VjdCh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSx1PSFvJiZ0aGlzLmlzb3Zlcj8iaXNvdXQiOm8mJiF0aGlzLmlzb3Zlcj8iaXNvdmVyIjpudWxsO3UmJih0aGlzLm9wdGlvbnMuZ3JlZWR5JiYoZT10aGlzLm9wdGlvbnMuc2NvcGUsZj10aGlzLmVsZW1lbnQucGFyZW50cygiOmRhdGEodWktZHJvcHBhYmxlKSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLmRyb3BwYWJsZSgiaW5zdGFuY2UiKS5vcHRpb25zLnNjb3BlPT09ZX0pLGYubGVuZ3RoJiYocj1uKGZbMF0pLmRyb3BwYWJsZSgiaW5zdGFuY2UiKSxyLmdyZWVkeUNoaWxkPXU9PT0iaXNvdmVyIikpLHImJnU9PT0iaXNvdmVyIiYmKHIuaXNvdmVyPSExLHIuaXNvdXQ9ITAsci5fb3V0LmNhbGwocixpKSksdGhpc1t1XT0hMCx0aGlzW3U9PT0iaXNvdXQiPyJpc292ZXIiOiJpc291dCJdPSExLHRoaXNbdT09PSJpc292ZXIiPyJfb3ZlciI6Il9vdXQiXS5jYWxsKHRoaXMsaSksciYmdT09PSJpc291dCImJihyLmlzb3V0PSExLHIuaXNvdmVyPSEwLHIuX292ZXIuY2FsbChyLGkpKSl9fSl9LGRyYWdTdG9wOmZ1bmN0aW9uKHQsaSl7dC5lbGVtZW50LnBhcmVudHNVbnRpbCgiYm9keSIpLnVuYmluZCgic2Nyb2xsLmRyb3BwYWJsZSIpO3Qub3B0aW9ucy5yZWZyZXNoUG9zaXRpb25zfHxuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0LGkpfX07Y3Q9bi51aS5kcm9wcGFibGU7Ci8qIQogKiBqUXVlcnkgVUkgRWZmZWN0cyAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jYXRlZ29yeS9lZmZlY3RzLWNvcmUvCiAqLwpvPSJ1aS1lZmZlY3RzLSI7cz1uO24uZWZmZWN0cz17ZWZmZWN0Ont9fTsKLyohCiAqIGpRdWVyeSBDb2xvciBBbmltYXRpb25zIHYyLjEuMgogKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1jb2xvcgogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBEYXRlOiBXZWQgSmFuIDE2IDA4OjQ3OjA5IDIwMTMgLTA2MDAKICovCihmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGUobix0LGkpe3ZhciByPXNbdC50eXBlXXx8e307cmV0dXJuIG49PW51bGw/aXx8IXQuZGVmP251bGw6dC5kZWY6KG49ci5mbG9vcj9+fm46cGFyc2VGbG9hdChuKSxpc05hTihuKSk/dC5kZWY6ci5tb2Q/KG4rci5tb2QpJXIubW9kOjA+bj8wOnIubWF4PG4/ci5tYXg6bn1mdW5jdGlvbiBsKHQpe3ZhciBlPWkoKSxvPWUuX3JnYmE9W107cmV0dXJuKHQ9dC50b0xvd2VyQ2FzZSgpLHIodixmdW5jdGlvbihuLGkpe3ZhciByLHM9aS5yZS5leGVjKHQpLGg9cyYmaS5wYXJzZShzKSxmPWkuc3BhY2V8fCJyZ2JhIjtpZihoKXJldHVybiByPWVbZl0oaCksZVt1W2ZdLmNhY2hlXT1yW3VbZl0uY2FjaGVdLG89ZS5fcmdiYT1yLl9yZ2JhLCExfSksby5sZW5ndGgpPyhvLmpvaW4oKT09PSIwLDAsMCwwIiYmbi5leHRlbmQobyxmLnRyYW5zcGFyZW50KSxlKTpmW3RdfWZ1bmN0aW9uIG8obix0LGkpe3JldHVybihpPShpKzEpJTEsaSo2PDEpP24rKHQtbikqaSo2OmkqMjwxP3Q6aSozPDI/bisodC1uKSooMi8zLWkpKjY6bn12YXIgYT0vXihbXC0rXSk9XHMqKFxkK1wuP1xkKikvLHY9W3tyZTovcmdiYT9cKFxzKihcZHsxLDN9KVxzKixccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdLG5bMl0sblszXSxuWzRdXX19LHtyZTovcmdiYT9cKFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqLFxzKihcZCsoPzpcLlxkKyk/KVwlXHMqKD86LFxzKihcZD8oPzpcLlxkKyk/KVxzKik/XCkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdKjIuNTUsblsyXSoyLjU1LG5bM10qMi41NSxuWzRdXX19LHtyZTovIyhbYS1mMC05XXsyfSkoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW3BhcnNlSW50KG5bMV0sMTYpLHBhcnNlSW50KG5bMl0sMTYpLHBhcnNlSW50KG5bM10sMTYpXX19LHtyZTovIyhbYS1mMC05XSkoW2EtZjAtOV0pKFthLWYwLTldKS8scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW3BhcnNlSW50KG5bMV0rblsxXSwxNikscGFyc2VJbnQoblsyXStuWzJdLDE2KSxwYXJzZUludChuWzNdK25bM10sMTYpXX19LHtyZTovaHNsYT9cKFxzKihcZCsoPzpcLlxkKyk/KVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxzcGFjZToiaHNsYSIscGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuW25bMV0sblsyXS8xMDAsblszXS8xMDAsbls0XV19fV0saT1uLkNvbG9yPWZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiBuZXcgbi5Db2xvci5mbi5wYXJzZSh0LGkscix1KX0sdT17cmdiYTp7cHJvcHM6e3JlZDp7aWR4OjAsdHlwZToiYnl0ZSJ9LGdyZWVuOntpZHg6MSx0eXBlOiJieXRlIn0sYmx1ZTp7aWR4OjIsdHlwZToiYnl0ZSJ9fX0saHNsYTp7cHJvcHM6e2h1ZTp7aWR4OjAsdHlwZToiZGVncmVlcyJ9LHNhdHVyYXRpb246e2lkeDoxLHR5cGU6InBlcmNlbnQifSxsaWdodG5lc3M6e2lkeDoyLHR5cGU6InBlcmNlbnQifX19fSxzPXtieXRlOntmbG9vcjohMCxtYXg6MjU1fSxwZXJjZW50OnttYXg6MX0sZGVncmVlczp7bW9kOjM2MCxmbG9vcjohMH19LGg9aS5zdXBwb3J0PXt9LGM9bigiPHA+IilbMF0sZixyPW4uZWFjaDtjLnN0eWxlLmNzc1RleHQ9ImJhY2tncm91bmQtY29sb3I6cmdiYSgxLDEsMSwuNSkiO2gucmdiYT1jLnN0eWxlLmJhY2tncm91bmRDb2xvci5pbmRleE9mKCJyZ2JhIik+LTE7cih1LGZ1bmN0aW9uKG4sdCl7dC5jYWNoZT0iXyIrbjt0LnByb3BzLmFscGhhPXtpZHg6Myx0eXBlOiJwZXJjZW50IixkZWY6MX19KTtpLmZuPW4uZXh0ZW5kKGkucHJvdG90eXBlLHtwYXJzZTpmdW5jdGlvbihvLHMsaCxjKXtpZihvPT09dClyZXR1cm4gdGhpcy5fcmdiYT1bbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpczsoby5qcXVlcnl8fG8ubm9kZVR5cGUpJiYobz1uKG8pLmNzcyhzKSxzPXQpO3ZhciBhPXRoaXMsdj1uLnR5cGUobykseT10aGlzLl9yZ2JhPVtdO3JldHVybihzIT09dCYmKG89W28scyxoLGNdLHY9ImFycmF5Iiksdj09PSJzdHJpbmciKT90aGlzLnBhcnNlKGwobyl8fGYuX2RlZmF1bHQpOnY9PT0iYXJyYXkiPyhyKHUucmdiYS5wcm9wcyxmdW5jdGlvbihuLHQpe3lbdC5pZHhdPWUob1t0LmlkeF0sdCl9KSx0aGlzKTp2PT09Im9iamVjdCI/KG8gaW5zdGFuY2VvZiBpP3IodSxmdW5jdGlvbihuLHQpe29bdC5jYWNoZV0mJihhW3QuY2FjaGVdPW9bdC5jYWNoZV0uc2xpY2UoKSl9KTpyKHUsZnVuY3Rpb24odCxpKXt2YXIgdT1pLmNhY2hlO3IoaS5wcm9wcyxmdW5jdGlvbihuLHQpe2lmKCFhW3VdJiZpLnRvKXtpZihuPT09ImFscGhhInx8b1tuXT09bnVsbClyZXR1cm47YVt1XT1pLnRvKGEuX3JnYmEpfWFbdV1bdC5pZHhdPWUob1tuXSx0LCEwKX0pO2FbdV0mJm4uaW5BcnJheShudWxsLGFbdV0uc2xpY2UoMCwzKSk8MCYmKGFbdV1bM109MSxpLmZyb20mJihhLl9yZ2JhPWkuZnJvbShhW3VdKSkpfSksdGhpcyk6dm9pZCAwfSxpczpmdW5jdGlvbihuKXt2YXIgZT1pKG4pLHQ9ITAsZj10aGlzO3JldHVybiByKHUsZnVuY3Rpb24obixpKXt2YXIgbyx1PWVbaS5jYWNoZV07cmV0dXJuIHUmJihvPWZbaS5jYWNoZV18fGkudG8mJmkudG8oZi5fcmdiYSl8fFtdLHIoaS5wcm9wcyxmdW5jdGlvbihuLGkpe2lmKHVbaS5pZHhdIT1udWxsKXJldHVybiB0PXVbaS5pZHhdPT09b1tpLmlkeF19KSksdH0pLHR9LF9zcGFjZTpmdW5jdGlvbigpe3ZhciBuPVtdLHQ9dGhpcztyZXR1cm4gcih1LGZ1bmN0aW9uKGkscil7dFtyLmNhY2hlXSYmbi5wdXNoKGkpfSksbi5wb3AoKX0sdHJhbnNpdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBmPWkobiksYz1mLl9zcGFjZSgpLG89dVtjXSxsPXRoaXMuYWxwaGEoKT09PTA/aSgidHJhbnNwYXJlbnQiKTp0aGlzLGE9bFtvLmNhY2hlXXx8by50byhsLl9yZ2JhKSxoPWEuc2xpY2UoKTtyZXR1cm4gZj1mW28uY2FjaGVdLHIoby5wcm9wcyxmdW5jdGlvbihuLGkpe3ZhciBjPWkuaWR4LHI9YVtjXSx1PWZbY10sbz1zW2kudHlwZV18fHt9O3UhPT1udWxsJiYocj09PW51bGw/aFtjXT11OihvLm1vZCYmKHUtcj5vLm1vZC8yP3IrPW8ubW9kOnItdT5vLm1vZC8yJiYoci09by5tb2QpKSxoW2NdPWUoKHUtcikqdCtyLGkpKSl9KSx0aGlzW2NdKGgpfSxibGVuZDpmdW5jdGlvbih0KXtpZih0aGlzLl9yZ2JhWzNdPT09MSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLl9yZ2JhLnNsaWNlKCksdT1yLnBvcCgpLGY9aSh0KS5fcmdiYTtyZXR1cm4gaShuLm1hcChyLGZ1bmN0aW9uKG4sdCl7cmV0dXJuKDEtdSkqZlt0XSt1Km59KSl9LHRvUmdiYVN0cmluZzpmdW5jdGlvbigpe3ZhciBpPSJyZ2JhKCIsdD1uLm1hcCh0aGlzLl9yZ2JhLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49PW51bGw/dD4yPzE6MDpufSk7cmV0dXJuIHRbM109PT0xJiYodC5wb3AoKSxpPSJyZ2IoIiksaSt0LmpvaW4oKSsiKSJ9LHRvSHNsYVN0cmluZzpmdW5jdGlvbigpe3ZhciBpPSJoc2xhKCIsdD1uLm1hcCh0aGlzLmhzbGEoKSxmdW5jdGlvbihuLHQpe3JldHVybiBuPT1udWxsJiYobj10PjI/MTowKSx0JiZ0PDMmJihuPU1hdGgucm91bmQobioxMDApKyIlIiksbn0pO3JldHVybiB0WzNdPT09MSYmKHQucG9wKCksaT0iaHNsKCIpLGkrdC5qb2luKCkrIikifSx0b0hleFN0cmluZzpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl9yZ2JhLnNsaWNlKCkscj1pLnBvcCgpO3JldHVybiB0JiZpLnB1c2gofn4ocioyNTUpKSwiIyIrbi5tYXAoaSxmdW5jdGlvbihuKXtyZXR1cm4gbj0obnx8MCkudG9TdHJpbmcoMTYpLG4ubGVuZ3RoPT09MT8iMCIrbjpufSkuam9pbigiIil9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JnYmFbM109PT0wPyJ0cmFuc3BhcmVudCI6dGhpcy50b1JnYmFTdHJpbmcoKX19KTtpLmZuLnBhcnNlLnByb3RvdHlwZT1pLmZuO3UuaHNsYS50bz1mdW5jdGlvbihuKXtpZihuWzBdPT1udWxsfHxuWzFdPT1udWxsfHxuWzJdPT1udWxsKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgaT1uWzBdLzI1NSxyPW5bMV0vMjU1LGY9blsyXS8yNTUscz1uWzNdLHU9TWF0aC5tYXgoaSxyLGYpLGU9TWF0aC5taW4oaSxyLGYpLHQ9dS1lLG89dStlLGg9byouNSxjLGw7cmV0dXJuIGM9ZT09PXU/MDppPT09dT82MCooci1mKS90KzM2MDpyPT09dT82MCooZi1pKS90KzEyMDo2MCooaS1yKS90KzI0MCxsPXQ9PT0wPzA6aDw9LjU/dC9vOnQvKDItbyksW01hdGgucm91bmQoYyklMzYwLGwsaCxzPT1udWxsPzE6c119O3UuaHNsYS5mcm9tPWZ1bmN0aW9uKG4pe2lmKG5bMF09PW51bGx8fG5bMV09PW51bGx8fG5bMl09PW51bGwpcmV0dXJuW251bGwsbnVsbCxudWxsLG5bM11dO3ZhciByPW5bMF0vMzYwLHU9blsxXSx0PW5bMl0sZT1uWzNdLGk9dDw9LjU/dCooMSt1KTp0K3UtdCp1LGY9Mip0LWk7cmV0dXJuW01hdGgucm91bmQobyhmLGkscisxLzMpKjI1NSksTWF0aC5yb3VuZChvKGYsaSxyKSoyNTUpLE1hdGgucm91bmQobyhmLGksci0xLzMpKjI1NSksZV19O3IodSxmdW5jdGlvbih1LGYpe3ZhciBzPWYucHJvcHMsbz1mLmNhY2hlLGg9Zi50byxjPWYuZnJvbTtpLmZuW3VdPWZ1bmN0aW9uKHUpe2lmKGgmJiF0aGlzW29dJiYodGhpc1tvXT1oKHRoaXMuX3JnYmEpKSx1PT09dClyZXR1cm4gdGhpc1tvXS5zbGljZSgpO3ZhciBsLGE9bi50eXBlKHUpLHY9YT09PSJhcnJheSJ8fGE9PT0ib2JqZWN0Ij91OmFyZ3VtZW50cyxmPXRoaXNbb10uc2xpY2UoKTtyZXR1cm4gcihzLGZ1bmN0aW9uKG4sdCl7dmFyIGk9dlthPT09Im9iamVjdCI/bjp0LmlkeF07aT09bnVsbCYmKGk9Zlt0LmlkeF0pO2ZbdC5pZHhdPWUoaSx0KX0pLGM/KGw9aShjKGYpKSxsW29dPWYsbCk6aShmKX07cihzLGZ1bmN0aW9uKHQscil7aS5mblt0XXx8KGkuZm5bdF09ZnVuY3Rpb24oaSl7dmFyIGY9bi50eXBlKGkpLGg9dD09PSJhbHBoYSI/dGhpcy5faHNsYT8iaHNsYSI6InJnYmEiOnUsbz10aGlzW2hdKCkscz1vW3IuaWR4XSxlO3JldHVybiBmPT09InVuZGVmaW5lZCI/czooZj09PSJmdW5jdGlvbiImJihpPWkuY2FsbCh0aGlzLHMpLGY9bi50eXBlKGkpKSxpPT1udWxsJiZyLmVtcHR5KT90aGlzOihmPT09InN0cmluZyImJihlPWEuZXhlYyhpKSxlJiYoaT1zK3BhcnNlRmxvYXQoZVsyXSkqKGVbMV09PT0iKyI/MTotMSkpKSxvW3IuaWR4XT1pLHRoaXNbaF0obykpfSl9KX0pO2kuaG9vaz1mdW5jdGlvbih0KXt2YXIgdT10LnNwbGl0KCIgIik7cih1LGZ1bmN0aW9uKHQscil7bi5jc3NIb29rc1tyXT17c2V0OmZ1bmN0aW9uKHQsdSl7dmFyIG8sZixlPSIiO2lmKHUhPT0idHJhbnNwYXJlbnQiJiYobi50eXBlKHUpIT09InN0cmluZyJ8fChvPWwodSkpKSl7aWYodT1pKG98fHUpLCFoLnJnYmEmJnUuX3JnYmFbM10hPT0xKXtmb3IoZj1yPT09ImJhY2tncm91bmRDb2xvciI/dC5wYXJlbnROb2RlOnQ7KGU9PT0iInx8ZT09PSJ0cmFuc3BhcmVudCIpJiZmJiZmLnN0eWxlOyl0cnl7ZT1uLmNzcyhmLCJiYWNrZ3JvdW5kQ29sb3IiKTtmPWYucGFyZW50Tm9kZX1jYXRjaChzKXt9dT11LmJsZW5kKGUmJmUhPT0idHJhbnNwYXJlbnQiP2U6Il9kZWZhdWx0Iil9dT11LnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW3JdPXV9Y2F0Y2gocyl7fX19O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9aSh0LmVsZW0sciksdC5lbmQ9aSh0LmVuZCksdC5jb2xvckluaXQ9ITApO24uY3NzSG9va3Nbcl0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX07aS5ob29rKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIik7bi5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiByKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24oaSxyKXt0WyJib3JkZXIiK3IrIkNvbG9yIl09bn0pLHR9fTtmPW4uQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn19KShzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIHIsdSxpPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpOnQuY3VycmVudFN0eWxlLGY9e307aWYoaSYmaS5sZW5ndGgmJmlbMF0mJmlbaVswXV0pZm9yKHU9aS5sZW5ndGg7dS0tOylyPWlbdV0sdHlwZW9mIGlbcl09PSJzdHJpbmciJiYoZltuLmNhbWVsQ2FzZShyKV09aVtyXSk7ZWxzZSBmb3IociBpbiBpKXR5cGVvZiBpW3JdPT0ic3RyaW5nIiYmKGZbcl09aVtyXSk7cmV0dXJuIGZ9ZnVuY3Rpb24gdSh0LGkpe3ZhciBlPXt9LHUsZjtmb3IodSBpbiBpKWY9aVt1XSx0W3VdIT09ZiYmKHJbdV18fChuLmZ4LnN0ZXBbdV18fCFpc05hTihwYXJzZUZsb2F0KGYpKSkmJihlW3VdPWYpKTtyZXR1cm4gZX12YXIgaT1bImFkZCIsInJlbW92ZSIsInRvZ2dsZSJdLHI9e2JvcmRlcjoxLGJvcmRlckJvdHRvbToxLGJvcmRlckNvbG9yOjEsYm9yZGVyTGVmdDoxLGJvcmRlclJpZ2h0OjEsYm9yZGVyVG9wOjEsYm9yZGVyV2lkdGg6MSxtYXJnaW46MSxwYWRkaW5nOjF9O24uZWFjaChbImJvcmRlckxlZnRTdHlsZSIsImJvcmRlclJpZ2h0U3R5bGUiLCJib3JkZXJCb3R0b21TdHlsZSIsImJvcmRlclRvcFN0eWxlIl0sZnVuY3Rpb24odCxpKXtuLmZ4LnN0ZXBbaV09ZnVuY3Rpb24obil7KG4uZW5kPT09Im5vbmUifHxuLnNldEF0dHIpJiYobi5wb3MhPT0xfHxuLnNldEF0dHIpfHwocy5zdHlsZShuLmVsZW0saSxuLmVuZCksbi5zZXRBdHRyPSEwKX19KTtuLmZuLmFkZEJhY2t8fChuLmZuLmFkZEJhY2s9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYWRkKG49PW51bGw/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIobikpfSk7bi5lZmZlY3RzLmFuaW1hdGVDbGFzcz1mdW5jdGlvbihyLGYsZSxvKXt2YXIgcz1uLnNwZWVkKGYsZSxvKTtyZXR1cm4gdGhpcy5xdWV1ZShmdW5jdGlvbigpe3ZhciBlPW4odGhpcyksaD1lLmF0dHIoImNsYXNzIil8fCIiLG8sZj1zLmNoaWxkcmVuP2UuZmluZCgiKiIpLmFkZEJhY2soKTplO2Y9Zi5tYXAoZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpO3JldHVybntlbDppLHN0YXJ0OnQodGhpcyl9fSk7bz1mdW5jdGlvbigpe24uZWFjaChpLGZ1bmN0aW9uKG4sdCl7clt0XSYmZVt0KyJDbGFzcyJdKHJbdF0pfSl9O28oKTtmPWYubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kPXQodGhpcy5lbFswXSksdGhpcy5kaWZmPXUodGhpcy5zdGFydCx0aGlzLmVuZCksdGhpc30pO2UuYXR0cigiY2xhc3MiLGgpO2Y9Zi5tYXAoZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9bi5EZWZlcnJlZCgpLHI9bi5leHRlbmQoe30scyx7cXVldWU6ITEsY29tcGxldGU6ZnVuY3Rpb24oKXt0LnJlc29sdmUoaSl9fSk7cmV0dXJuIHRoaXMuZWwuYW5pbWF0ZSh0aGlzLmRpZmYsciksdC5wcm9taXNlKCl9KTtuLndoZW4uYXBwbHkobixmLmdldCgpKS5kb25lKGZ1bmN0aW9uKCl7bygpO24uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsO24uZWFjaCh0aGlzLmRpZmYsZnVuY3Rpb24obil7dC5jc3MobiwiIil9KX0pO3MuY29tcGxldGUuY2FsbChlWzBdKX0pfSl9O24uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxyLHUsZil7cmV0dXJuIHI/bi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppfSxyLHUsZik6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShuLmZuLmFkZENsYXNzKSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oaSxyLHUsZil7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MT9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7cmVtb3ZlOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4ucmVtb3ZlQ2xhc3MpLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmLGUpe3JldHVybiB0eXBlb2Ygcj09ImJvb2xlYW4ifHxyPT09dW5kZWZpbmVkP3U/bi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMscj97YWRkOml9OntyZW1vdmU6aX0sdSxmLGUpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpOm4uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHt0b2dnbGU6aX0scix1LGYpfX0obi5mbi50b2dnbGVDbGFzcyksc3dpdGNoQ2xhc3M6ZnVuY3Rpb24odCxpLHIsdSxmKXtyZXR1cm4gbi5lZmZlY3RzLmFuaW1hdGVDbGFzcy5jYWxsKHRoaXMse2FkZDppLHJlbW92ZTp0fSxyLHUsZil9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsaSxyLHUpe3JldHVybiBuLmlzUGxhaW5PYmplY3QodCkmJihpPXQsdD10LmVmZmVjdCksdD17ZWZmZWN0OnR9LGk9PW51bGwmJihpPXt9KSxuLmlzRnVuY3Rpb24oaSkmJih1PWkscj1udWxsLGk9e30pLCh0eXBlb2YgaT09Im51bWJlciJ8fG4uZnguc3BlZWRzW2ldKSYmKHU9cixyPWksaT17fSksbi5pc0Z1bmN0aW9uKHIpJiYodT1yLHI9bnVsbCksaSYmbi5leHRlbmQodCxpKSxyPXJ8fGkuZHVyYXRpb24sdC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOnR5cGVvZiByPT0ibnVtYmVyIj9yOnIgaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbcl06bi5meC5zcGVlZHMuX2RlZmF1bHQsdC5jb21wbGV0ZT11fHxpLmNvbXBsZXRlLHR9ZnVuY3Rpb24gaSh0KXtyZXR1cm4hdHx8dHlwZW9mIHQ9PSJudW1iZXIifHxuLmZ4LnNwZWVkc1t0XT8hMDp0eXBlb2YgdD09InN0cmluZyImJiFuLmVmZmVjdHMuZWZmZWN0W3RdPyEwOm4uaXNGdW5jdGlvbih0KT8hMDp0eXBlb2YgdD09Im9iamVjdCImJiF0LmVmZmVjdD8hMDohMX1uLmV4dGVuZChuLmVmZmVjdHMse3ZlcnNpb246IjEuMTEuMiIsc2F2ZTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV0hPT1udWxsJiZuLmRhdGEobyt0W2ldLG5bMF0uc3R5bGVbdFtpXV0pfSxyZXN0b3JlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGk9MDtpPHQubGVuZ3RoO2krKyl0W2ldIT09bnVsbCYmKHI9bi5kYXRhKG8rdFtpXSkscj09PXVuZGVmaW5lZCYmKHI9IiIpLG4uY3NzKHRbaV0scikpfSxzZXRNb2RlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ9PT0idG9nZ2xlIiYmKHQ9bi5pcygiOmhpZGRlbiIpPyJzaG93IjoiaGlkZSIpLHR9LGdldEJhc2VsaW5lOmZ1bmN0aW9uKG4sdCl7dmFyIGkscjtzd2l0Y2goblswXSl7Y2FzZSJ0b3AiOmk9MDticmVhaztjYXNlIm1pZGRsZSI6aT0uNTticmVhaztjYXNlImJvdHRvbSI6aT0xO2JyZWFrO2RlZmF1bHQ6aT1uWzBdL3QuaGVpZ2h0fXN3aXRjaChuWzFdKXtjYXNlImxlZnQiOnI9MDticmVhaztjYXNlImNlbnRlciI6cj0uNTticmVhaztjYXNlInJpZ2h0IjpyPTE7YnJlYWs7ZGVmYXVsdDpyPW5bMV0vdC53aWR0aH1yZXR1cm57eDpyLHk6aX19LGNyZWF0ZVdyYXBwZXI6ZnVuY3Rpb24odCl7aWYodC5wYXJlbnQoKS5pcygiLnVpLWVmZmVjdHMtd3JhcHBlciIpKXJldHVybiB0LnBhcmVudCgpO3ZhciBpPXt3aWR0aDp0Lm91dGVyV2lkdGgoITApLGhlaWdodDp0Lm91dGVySGVpZ2h0KCEwKSxmbG9hdDp0LmNzcygiZmxvYXQiKX0sdT1uKCI8ZGl2PjxcL2Rpdj4iKS5hZGRDbGFzcygidWktZWZmZWN0cy13cmFwcGVyIikuY3NzKHtmb250U2l6ZToiMTAwJSIsYmFja2dyb3VuZDoidHJhbnNwYXJlbnQiLGJvcmRlcjoibm9uZSIsbWFyZ2luOjAscGFkZGluZzowfSksZj17d2lkdGg6dC53aWR0aCgpLGhlaWdodDp0LmhlaWdodCgpfSxyPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dHJ5e3IuaWR9Y2F0Y2goZSl7cj1kb2N1bWVudC5ib2R5fXJldHVybiB0LndyYXAodSksKHRbMF09PT1yfHxuLmNvbnRhaW5zKHRbMF0scikpJiZuKHIpLmZvY3VzKCksdT10LnBhcmVudCgpLHQuY3NzKCJwb3NpdGlvbiIpPT09InN0YXRpYyI/KHUuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSksdC5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSk6KG4uZXh0ZW5kKGkse3Bvc2l0aW9uOnQuY3NzKCJwb3NpdGlvbiIpLHpJbmRleDp0LmNzcygiei1pbmRleCIpfSksbi5lYWNoKFsidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0Il0sZnVuY3Rpb24obixyKXtpW3JdPXQuY3NzKHIpO2lzTmFOKHBhcnNlSW50KGlbcl0sMTApKSYmKGlbcl09ImF1dG8iKX0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDowLGxlZnQ6MCxyaWdodDoiYXV0byIsYm90dG9tOiJhdXRvIn0pKSx0LmNzcyhmKSx1LmNzcyhpKS5zaG93KCl9LHJlbW92ZVdyYXBwZXI6ZnVuY3Rpb24odCl7dmFyIGk9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtyZXR1cm4gdC5wYXJlbnQoKS5pcygiLnVpLWVmZmVjdHMtd3JhcHBlciIpJiYodC5wYXJlbnQoKS5yZXBsYWNlV2l0aCh0KSwodFswXT09PWl8fG4uY29udGFpbnModFswXSxpKSkmJm4oaSkuZm9jdXMoKSksdH0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbih0LGkscix1KXtyZXR1cm4gdT11fHx7fSxuLmVhY2goaSxmdW5jdGlvbihuLGkpe3ZhciBmPXQuY3NzVW5pdChpKTtmWzBdPjAmJih1W2ldPWZbMF0qcitmWzFdKX0pLHV9fSk7bi5mbi5leHRlbmQoe2VmZmVjdDpmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7ZnVuY3Rpb24gbygpe24uaXNGdW5jdGlvbihlKSYmZS5jYWxsKHJbMF0pO24uaXNGdW5jdGlvbih0KSYmdCgpfXZhciByPW4odGhpcyksZT1pLmNvbXBsZXRlLHU9aS5tb2RlOyhyLmlzKCI6aGlkZGVuIik/dT09PSJoaWRlIjp1PT09InNob3ciKT8oclt1XSgpLG8oKSk6Zi5jYWxsKHJbMF0saSxvKX12YXIgaT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxyPWkubW9kZSx1PWkucXVldWUsZj1uLmVmZmVjdHMuZWZmZWN0W2kuZWZmZWN0XTtyZXR1cm4gbi5meC5vZmZ8fCFmP3I/dGhpc1tyXShpLmR1cmF0aW9uLGkuY29tcGxldGUpOnRoaXMuZWFjaChmdW5jdGlvbigpe2kuY29tcGxldGUmJmkuY29tcGxldGUuY2FsbCh0aGlzKX0pOnU9PT0hMT90aGlzLmVhY2goZSk6dGhpcy5xdWV1ZSh1fHwiZngiLGUpfSxzaG93OmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihyKXtpZihpKHIpKXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdS5tb2RlPSJzaG93Iix0aGlzLmVmZmVjdC5jYWxsKHRoaXMsdSl9fShuLmZuLnNob3cpLGhpZGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9ImhpZGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uaGlkZSksdG9nZ2xlOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihyKXtpZihpKHIpfHx0eXBlb2Ygcj09ImJvb2xlYW4iKXJldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdS5tb2RlPSJ0b2dnbGUiLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4udG9nZ2xlKSxjc3NVbml0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKHQpLHI9W107cmV0dXJuIG4uZWFjaChbImVtIiwicHgiLCIlIiwicHQiXSxmdW5jdGlvbihuLHQpe2kuaW5kZXhPZih0KT4wJiYocj1bcGFyc2VGbG9hdChpKSx0XSl9KSxyfX0pfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9e307bi5lYWNoKFsiUXVhZCIsIkN1YmljIiwiUXVhcnQiLCJRdWludCIsIkV4cG8iXSxmdW5jdGlvbihuLGkpe3RbaV09ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgucG93KHQsbisyKX19KTtuLmV4dGVuZCh0LHtTaW5lOmZ1bmN0aW9uKG4pe3JldHVybiAxLU1hdGguY29zKG4qTWF0aC5QSS8yKX0sQ2lyYzpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1uKm4pfSxFbGFzdGljOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09MHx8bj09PTE/bjotTWF0aC5wb3coMiw4KihuLTEpKSpNYXRoLnNpbigoKG4tMSkqODAtNy41KSpNYXRoLlBJLzE1KX0sQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gbipuKigzKm4tMil9LEJvdW5jZTpmdW5jdGlvbihuKXtmb3IodmFyIHQsaT00O248KCh0PU1hdGgucG93KDIsLS1pKSktMSkvMTE7KTtyZXR1cm4gMS9NYXRoLnBvdyg0LDMtaSktNy41NjI1Kk1hdGgucG93KCh0KjMtMikvMjItbiwyKX19KTtuLmVhY2godCxmdW5jdGlvbih0LGkpe24uZWFzaW5nWyJlYXNlSW4iK3RdPWk7bi5lYXNpbmdbImVhc2VPdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybiAxLWkoMS1uKX07bi5lYXNpbmdbImVhc2VJbk91dCIrdF09ZnVuY3Rpb24obil7cmV0dXJuIG48LjU/aShuKjIpLzI6MS1pKG4qLTIrMikvMn19KX0oKTtsdD1uLmVmZmVjdHM7Ci8qIQogKiBqUXVlcnkgVUkgRWZmZWN0cyBCbGluZCAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9ibGluZC1lZmZlY3QvCiAqLwphdD1uLmVmZmVjdHMuZWZmZWN0LmJsaW5kPWZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxzPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJoZWlnaHQiLCJ3aWR0aCJdLHY9bi5lZmZlY3RzLnNldE1vZGUocix0Lm1vZGV8fCJoaWRlIikseT10LmRpcmVjdGlvbnx8InVwIixmPS91cHxkb3dufHZlcnRpY2FsLy50ZXN0KHkpLGg9Zj8iaGVpZ2h0Ijoid2lkdGgiLGM9Zj8idG9wIjoibGVmdCIscD0vdXB8bGVmdHx2ZXJ0aWNhbHxob3Jpem9udGFsLy50ZXN0KHkpLGw9e30sYT12PT09InNob3ciLHUsZSxvO3IucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKT9uLmVmZmVjdHMuc2F2ZShyLnBhcmVudCgpLHMpOm4uZWZmZWN0cy5zYXZlKHIscyk7ci5zaG93KCk7dT1uLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihyKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSk7ZT11W2hdKCk7bz1wYXJzZUZsb2F0KHUuY3NzKGMpKXx8MDtsW2hdPWE/ZTowO3B8fChyLmNzcyhmPyJib3R0b20iOiJyaWdodCIsMCkuY3NzKGY/InRvcCI6ImxlZnQiLCJhdXRvIikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUifSksbFtjXT1hP286ZStvKTthJiYodS5jc3MoaCwwKSxwfHx1LmNzcyhjLG8rZSkpO3UuYW5pbWF0ZShsLHtkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3Y9PT0iaGlkZSImJnIuaGlkZSgpO24uZWZmZWN0cy5yZXN0b3JlKHIscyk7bi5lZmZlY3RzLnJlbW92ZVdyYXBwZXIocik7aSgpfX0pfTsKLyohCiAqIGpRdWVyeSBVSSBFZmZlY3RzIEJvdW5jZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9ib3VuY2UtZWZmZWN0LwogKi8KdnQ9bi5lZmZlY3RzLmVmZmVjdC5ib3VuY2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLHY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImhlaWdodCIsIndpZHRoIl0saz1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImVmZmVjdCIpLGY9az09PSJoaWRlIix5PWs9PT0ic2hvdyIsaD10LmRpcmVjdGlvbnx8InVwIix1PXQuZGlzdGFuY2UscD10LnRpbWVzfHw1LGQ9cCoyKyh5fHxmPzE6MCksYz10LmR1cmF0aW9uL2QsbD10LmVhc2luZyxlPWg9PT0idXAifHxoPT09ImRvd24iPyJ0b3AiOiJsZWZ0Iix3PWg9PT0idXAifHxoPT09ImxlZnQiLGIsbyxzLGE9ci5xdWV1ZSgpLGc9YS5sZW5ndGg7Zm9yKCh5fHxmKSYmdi5wdXNoKCJvcGFjaXR5Iiksbi5lZmZlY3RzLnNhdmUocix2KSxyLnNob3coKSxuLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihyKSx1fHwodT1yW2U9PT0idG9wIj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oKS8zKSx5JiYocz17b3BhY2l0eToxfSxzW2VdPTAsci5jc3MoIm9wYWNpdHkiLDApLmNzcyhlLHc/LXUqMjp1KjIpLmFuaW1hdGUocyxjLGwpKSxmJiYodT11L01hdGgucG93KDIscC0xKSkscz17fSxzW2VdPTAsYj0wO2I8cDtiKyspbz17fSxvW2VdPSh3PyItPSI6Iis9IikrdSxyLmFuaW1hdGUobyxjLGwpLmFuaW1hdGUocyxjLGwpLHU9Zj91KjI6dS8yO2YmJihvPXtvcGFjaXR5OjB9LG9bZV09KHc/Ii09IjoiKz0iKSt1LHIuYW5pbWF0ZShvLGMsbCkpO3IucXVldWUoZnVuY3Rpb24oKXtmJiZyLmhpZGUoKTtuLmVmZmVjdHMucmVzdG9yZShyLHYpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX0pO2c+MSYmYS5zcGxpY2UuYXBwbHkoYSxbMSwwXS5jb25jYXQoYS5zcGxpY2UoZyxkKzEpKSk7ci5kZXF1ZXVlKCl9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgQ2xpcCAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9jbGlwLWVmZmVjdC8KICovCnl0PW4uZWZmZWN0cy5lZmZlY3QuY2xpcD1mdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksaD1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwiaGVpZ2h0Iiwid2lkdGgiXSx2PW4uZWZmZWN0cy5zZXRNb2RlKHIsdC5tb2RlfHwiaGlkZSIpLGY9dj09PSJzaG93Iix5PXQuZGlyZWN0aW9ufHwidmVydGljYWwiLGM9eT09PSJ2ZXJ0aWNhbCIsbz1jPyJoZWlnaHQiOiJ3aWR0aCIsbD1jPyJ0b3AiOiJsZWZ0IixzPXt9LGEsdSxlO24uZWZmZWN0cy5zYXZlKHIsaCk7ci5zaG93KCk7YT1uLmVmZmVjdHMuY3JlYXRlV3JhcHBlcihyKS5jc3Moe292ZXJmbG93OiJoaWRkZW4ifSk7dT1yWzBdLnRhZ05hbWU9PT0iSU1HIj9hOnI7ZT11W29dKCk7ZiYmKHUuY3NzKG8sMCksdS5jc3MobCxlLzIpKTtzW29dPWY/ZTowO3NbbF09Zj8wOmUvMjt1LmFuaW1hdGUocyx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXtmfHxyLmhpZGUoKTtuLmVmZmVjdHMucmVzdG9yZShyLGgpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX19KX07Ci8qIQogKiBqUXVlcnkgVUkgRWZmZWN0cyBEcm9wIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2Ryb3AtZWZmZWN0LwogKi8KcHQ9bi5lZmZlY3RzLmVmZmVjdC5kcm9wPWZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxoPVsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJvcGFjaXR5IiwiaGVpZ2h0Iiwid2lkdGgiXSxjPW4uZWZmZWN0cy5zZXRNb2RlKHIsdC5tb2RlfHwiaGlkZSIpLGU9Yz09PSJzaG93Iix1PXQuZGlyZWN0aW9ufHwibGVmdCIsbz11PT09InVwInx8dT09PSJkb3duIj8idG9wIjoibGVmdCIscz11PT09InVwInx8dT09PSJsZWZ0Ij8icG9zIjoibmVnIixsPXtvcGFjaXR5OmU/MTowfSxmO24uZWZmZWN0cy5zYXZlKHIsaCk7ci5zaG93KCk7bi5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIocik7Zj10LmRpc3RhbmNlfHxyW289PT0idG9wIj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7ZSYmci5jc3MoIm9wYWNpdHkiLDApLmNzcyhvLHM9PT0icG9zIj8tZjpmKTtsW29dPShlP3M9PT0icG9zIj8iKz0iOiItPSI6cz09PSJwb3MiPyItPSI6Iis9IikrZjtyLmFuaW1hdGUobCx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXtjPT09ImhpZGUiJiZyLmhpZGUoKTtuLmVmZmVjdHMucmVzdG9yZShyLGgpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX19KX07Ci8qIQogKiBqUXVlcnkgVUkgRWZmZWN0cyBFeHBsb2RlIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2V4cGxvZGUtZWZmZWN0LwogKi8Kd3Q9bi5lZmZlY3RzLmVmZmVjdC5leHBsb2RlPWZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gaygpe2wucHVzaCh0aGlzKTtsLmxlbmd0aD09PW8qYyYmZCgpfWZ1bmN0aW9uIGQoKXtyLmNzcyh7dmlzaWJpbGl0eToidmlzaWJsZSJ9KTtuKGwpLnJlbW92ZSgpO3V8fHIuaGlkZSgpO2koKX1mb3IodmFyIG89dC5waWVjZXM/TWF0aC5yb3VuZChNYXRoLnNxcnQodC5waWVjZXMpKTozLGM9byxyPW4odGhpcyksYj1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImhpZGUiKSx1PWI9PT0ic2hvdyIsdz1yLnNob3coKS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKS5vZmZzZXQoKSxzPU1hdGguY2VpbChyLm91dGVyV2lkdGgoKS9jKSxoPU1hdGguY2VpbChyLm91dGVySGVpZ2h0KCkvbyksbD1bXSxlLGEsdix5LHAsZj0wO2Y8bztmKyspZm9yKHY9dy50b3ArZipoLHA9Zi0oby0xKS8yLGU9MDtlPGM7ZSsrKWE9dy5sZWZ0K2Uqcyx5PWUtKGMtMSkvMixyLmNsb25lKCkuYXBwZW5kVG8oImJvZHkiKS53cmFwKCI8ZGl2PjxcL2Rpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToidmlzaWJsZSIsbGVmdDotZSpzLHRvcDotZipofSkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWVmZmVjdHMtZXhwbG9kZSIpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIixvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDpzLGhlaWdodDpoLGxlZnQ6YSsodT95KnM6MCksdG9wOnYrKHU/cCpoOjApLG9wYWNpdHk6dT8wOjF9KS5hbmltYXRlKHtsZWZ0OmErKHU/MDp5KnMpLHRvcDp2Kyh1PzA6cCpoKSxvcGFjaXR5OnU/MTowfSx0LmR1cmF0aW9ufHw1MDAsdC5lYXNpbmcsayl9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgRmFkZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9mYWRlLWVmZmVjdC8KICovCmJ0PW4uZWZmZWN0cy5lZmZlY3QuZmFkZT1mdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksdT1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8InRvZ2dsZSIpO3IuYW5pbWF0ZSh7b3BhY2l0eTp1fSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfTsKLyohCiAqIGpRdWVyeSBVSSBFZmZlY3RzIEZvbGQgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vZm9sZC1lZmZlY3QvCiAqLwprdD1uLmVmZmVjdHMuZWZmZWN0LmZvbGQ9ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLHM9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImhlaWdodCIsIndpZHRoIl0saD1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImhpZGUiKSxlPWg9PT0ic2hvdyIsYz1oPT09ImhpZGUiLGY9dC5zaXplfHwxNSxsPS8oWzAtOV0rKSUvLmV4ZWMoZiksYT0hIXQuaG9yaXpGaXJzdCx2PWUhPT1hLHk9dj9bIndpZHRoIiwiaGVpZ2h0Il06WyJoZWlnaHQiLCJ3aWR0aCJdLHA9dC5kdXJhdGlvbi8yLHUsbyx3PXt9LGI9e307bi5lZmZlY3RzLnNhdmUocixzKTtyLnNob3coKTt1PW4uZWZmZWN0cy5jcmVhdGVXcmFwcGVyKHIpLmNzcyh7b3ZlcmZsb3c6ImhpZGRlbiJ9KTtvPXY/W3Uud2lkdGgoKSx1LmhlaWdodCgpXTpbdS5oZWlnaHQoKSx1LndpZHRoKCldO2wmJihmPXBhcnNlSW50KGxbMV0sMTApLzEwMCpvW2M/MDoxXSk7ZSYmdS5jc3MoYT97aGVpZ2h0OjAsd2lkdGg6Zn06e2hlaWdodDpmLHdpZHRoOjB9KTt3W3lbMF1dPWU/b1swXTpmO2JbeVsxXV09ZT9vWzFdOjA7dS5hbmltYXRlKHcscCx0LmVhc2luZykuYW5pbWF0ZShiLHAsdC5lYXNpbmcsZnVuY3Rpb24oKXtjJiZyLmhpZGUoKTtuLmVmZmVjdHMucmVzdG9yZShyLHMpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX0pfTsKLyohCiAqIGpRdWVyeSBVSSBFZmZlY3RzIEhpZ2hsaWdodCAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9oaWdobGlnaHQtZWZmZWN0LwogKi8KZHQ9bi5lZmZlY3RzLmVmZmVjdC5oaWdobGlnaHQ9ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLHU9WyJiYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5Il0sZj1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8InNob3ciKSxlPXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTtmPT09ImhpZGUiJiYoZS5vcGFjaXR5PTApO24uZWZmZWN0cy5zYXZlKHIsdSk7ci5zaG93KCkuY3NzKHtiYWNrZ3JvdW5kSW1hZ2U6Im5vbmUiLGJhY2tncm91bmRDb2xvcjp0LmNvbG9yfHwiI2ZmZmY5OSJ9KS5hbmltYXRlKGUse3F1ZXVlOiExLGR1cmF0aW9uOnQuZHVyYXRpb24sZWFzaW5nOnQuZWFzaW5nLGNvbXBsZXRlOmZ1bmN0aW9uKCl7Zj09PSJoaWRlIiYmci5oaWRlKCk7bi5lZmZlY3RzLnJlc3RvcmUocix1KTtpKCl9fSl9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgU2l6ZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zaXplLWVmZmVjdC8KICovCmd0PW4uZWZmZWN0cy5lZmZlY3Quc2l6ZT1mdW5jdGlvbih0LGkpe3ZhciBmLGwsdSxyPW4odGhpcyksdz1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyIsIm9wYWNpdHkiXSxhPVsid2lkdGgiLCJoZWlnaHQiLCJvdmVyZmxvdyJdLHY9WyJmb250U2l6ZSJdLGU9WyJib3JkZXJUb3BXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxvPVsiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0saD1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImVmZmVjdCIpLHk9dC5yZXN0b3JlfHxoIT09ImVmZmVjdCIsYz10LnNjYWxlfHwiYm90aCIsYj10Lm9yaWdpbnx8WyJtaWRkbGUiLCJjZW50ZXIiXSxrPXIuY3NzKCJwb3NpdGlvbiIpLHM9eT93OlsicG9zaXRpb24iLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJvdmVyZmxvdyIsIm9wYWNpdHkiXSxwPXtoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTtoPT09InNob3ciJiZyLnNob3coKTtmPXtoZWlnaHQ6ci5oZWlnaHQoKSx3aWR0aDpyLndpZHRoKCksb3V0ZXJIZWlnaHQ6ci5vdXRlckhlaWdodCgpLG91dGVyV2lkdGg6ci5vdXRlcldpZHRoKCl9O3QubW9kZT09PSJ0b2dnbGUiJiZoPT09InNob3ciPyhyLmZyb209dC50b3x8cCxyLnRvPXQuZnJvbXx8Zik6KHIuZnJvbT10LmZyb218fChoPT09InNob3ciP3A6Ziksci50bz10LnRvfHwoaD09PSJoaWRlIj9wOmYpKTt1PXtmcm9tOnt5OnIuZnJvbS5oZWlnaHQvZi5oZWlnaHQseDpyLmZyb20ud2lkdGgvZi53aWR0aH0sdG86e3k6ci50by5oZWlnaHQvZi5oZWlnaHQseDpyLnRvLndpZHRoL2Yud2lkdGh9fTsoYz09PSJib3gifHxjPT09ImJvdGgiKSYmKHUuZnJvbS55IT09dS50by55JiYocz1zLmNvbmNhdChlKSxyLmZyb209bi5lZmZlY3RzLnNldFRyYW5zaXRpb24ocixlLHUuZnJvbS55LHIuZnJvbSksci50bz1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihyLGUsdS50by55LHIudG8pKSx1LmZyb20ueCE9PXUudG8ueCYmKHM9cy5jb25jYXQobyksci5mcm9tPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHIsbyx1LmZyb20ueCxyLmZyb20pLHIudG89bi5lZmZlY3RzLnNldFRyYW5zaXRpb24ocixvLHUudG8ueCxyLnRvKSkpOyhjPT09ImNvbnRlbnQifHxjPT09ImJvdGgiKSYmdS5mcm9tLnkhPT11LnRvLnkmJihzPXMuY29uY2F0KHYpLmNvbmNhdChhKSxyLmZyb209bi5lZmZlY3RzLnNldFRyYW5zaXRpb24ocix2LHUuZnJvbS55LHIuZnJvbSksci50bz1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihyLHYsdS50by55LHIudG8pKTtuLmVmZmVjdHMuc2F2ZShyLHMpO3Iuc2hvdygpO24uZWZmZWN0cy5jcmVhdGVXcmFwcGVyKHIpO3IuY3NzKCJvdmVyZmxvdyIsImhpZGRlbiIpLmNzcyhyLmZyb20pO2ImJihsPW4uZWZmZWN0cy5nZXRCYXNlbGluZShiLGYpLHIuZnJvbS50b3A9KGYub3V0ZXJIZWlnaHQtci5vdXRlckhlaWdodCgpKSpsLnksci5mcm9tLmxlZnQ9KGYub3V0ZXJXaWR0aC1yLm91dGVyV2lkdGgoKSkqbC54LHIudG8udG9wPShmLm91dGVySGVpZ2h0LXIudG8ub3V0ZXJIZWlnaHQpKmwueSxyLnRvLmxlZnQ9KGYub3V0ZXJXaWR0aC1yLnRvLm91dGVyV2lkdGgpKmwueCk7ci5jc3Moci5mcm9tKTsoYz09PSJjb250ZW50Inx8Yz09PSJib3RoIikmJihlPWUuY29uY2F0KFsibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIl0pLmNvbmNhdCh2KSxvPW8uY29uY2F0KFsibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0Il0pLGE9dy5jb25jYXQoZSkuY29uY2F0KG8pLHIuZmluZCgiKlt3aWR0aF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSxyPXtoZWlnaHQ6aS5oZWlnaHQoKSx3aWR0aDppLndpZHRoKCksb3V0ZXJIZWlnaHQ6aS5vdXRlckhlaWdodCgpLG91dGVyV2lkdGg6aS5vdXRlcldpZHRoKCl9O3kmJm4uZWZmZWN0cy5zYXZlKGksYSk7aS5mcm9tPXtoZWlnaHQ6ci5oZWlnaHQqdS5mcm9tLnksd2lkdGg6ci53aWR0aCp1LmZyb20ueCxvdXRlckhlaWdodDpyLm91dGVySGVpZ2h0KnUuZnJvbS55LG91dGVyV2lkdGg6ci5vdXRlcldpZHRoKnUuZnJvbS54fTtpLnRvPXtoZWlnaHQ6ci5oZWlnaHQqdS50by55LHdpZHRoOnIud2lkdGgqdS50by54LG91dGVySGVpZ2h0OnIuaGVpZ2h0KnUudG8ueSxvdXRlcldpZHRoOnIud2lkdGgqdS50by54fTt1LmZyb20ueSE9PXUudG8ueSYmKGkuZnJvbT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbihpLGUsdS5mcm9tLnksaS5mcm9tKSxpLnRvPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksZSx1LnRvLnksaS50bykpO3UuZnJvbS54IT09dS50by54JiYoaS5mcm9tPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksbyx1LmZyb20ueCxpLmZyb20pLGkudG89bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxvLHUudG8ueCxpLnRvKSk7aS5jc3MoaS5mcm9tKTtpLmFuaW1hdGUoaS50byx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7eSYmbi5lZmZlY3RzLnJlc3RvcmUoaSxhKX0pfSkpO3IuYW5pbWF0ZShyLnRvLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe3IudG8ub3BhY2l0eT09PTAmJnIuY3NzKCJvcGFjaXR5IixyLmZyb20ub3BhY2l0eSk7aD09PSJoaWRlIiYmci5oaWRlKCk7bi5lZmZlY3RzLnJlc3RvcmUocixzKTt5fHwoaz09PSJzdGF0aWMiP3IuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHRvcDpyLnRvLnRvcCxsZWZ0OnIudG8ubGVmdH0pOm4uZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihuLHQpe3IuY3NzKHQsZnVuY3Rpb24odCxpKXt2YXIgZj1wYXJzZUludChpLDEwKSx1PW4/ci50by5sZWZ0OnIudG8udG9wO3JldHVybiBpPT09ImF1dG8iP3UrInB4IjpmK3UrInB4In0pfSkpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX19KX07Ci8qIQogKiBqUXVlcnkgVUkgRWZmZWN0cyBTY2FsZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zY2FsZS1lZmZlY3QvCiAqLwpuaT1uLmVmZmVjdHMuZWZmZWN0LnNjYWxlPWZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxyPW4uZXh0ZW5kKCEwLHt9LHQpLGY9bi5lZmZlY3RzLnNldE1vZGUodSx0Lm1vZGV8fCJlZmZlY3QiKSxzPXBhcnNlSW50KHQucGVyY2VudCwxMCl8fChwYXJzZUludCh0LnBlcmNlbnQsMTApPT09MD8wOmY9PT0iaGlkZSI/MDoxMDApLGg9dC5kaXJlY3Rpb258fCJib3RoIixjPXQub3JpZ2luLGU9e2hlaWdodDp1LmhlaWdodCgpLHdpZHRoOnUud2lkdGgoKSxvdXRlckhlaWdodDp1Lm91dGVySGVpZ2h0KCksb3V0ZXJXaWR0aDp1Lm91dGVyV2lkdGgoKX0sbz17eTpoIT09Imhvcml6b250YWwiP3MvMTAwOjEseDpoIT09InZlcnRpY2FsIj9zLzEwMDoxfTtyLmVmZmVjdD0ic2l6ZSI7ci5xdWV1ZT0hMTtyLmNvbXBsZXRlPWk7ZiE9PSJlZmZlY3QiJiYoci5vcmlnaW49Y3x8WyJtaWRkbGUiLCJjZW50ZXIiXSxyLnJlc3RvcmU9ITApO3IuZnJvbT10LmZyb218fChmPT09InNob3ciP3toZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTplKTtyLnRvPXtoZWlnaHQ6ZS5oZWlnaHQqby55LHdpZHRoOmUud2lkdGgqby54LG91dGVySGVpZ2h0OmUub3V0ZXJIZWlnaHQqby55LG91dGVyV2lkdGg6ZS5vdXRlcldpZHRoKm8ueH07ci5mYWRlJiYoZj09PSJzaG93IiYmKHIuZnJvbS5vcGFjaXR5PTAsci50by5vcGFjaXR5PTEpLGY9PT0iaGlkZSImJihyLmZyb20ub3BhY2l0eT0xLHIudG8ub3BhY2l0eT0wKSk7dS5lZmZlY3Qocil9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVmZiAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWZmLWVmZmVjdC8KICovCnRpPW4uZWZmZWN0cy5lZmZlY3QucHVmZj1mdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksZT1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImhpZGUiKSxvPWU9PT0iaGlkZSIscz1wYXJzZUludCh0LnBlcmNlbnQsMTApfHwxNTAsZj1zLzEwMCx1PXtoZWlnaHQ6ci5oZWlnaHQoKSx3aWR0aDpyLndpZHRoKCksb3V0ZXJIZWlnaHQ6ci5vdXRlckhlaWdodCgpLG91dGVyV2lkdGg6ci5vdXRlcldpZHRoKCl9O24uZXh0ZW5kKHQse2VmZmVjdDoic2NhbGUiLHF1ZXVlOiExLGZhZGU6ITAsbW9kZTplLGNvbXBsZXRlOmkscGVyY2VudDpvP3M6MTAwLGZyb206bz91OntoZWlnaHQ6dS5oZWlnaHQqZix3aWR0aDp1LndpZHRoKmYsb3V0ZXJIZWlnaHQ6dS5vdXRlckhlaWdodCpmLG91dGVyV2lkdGg6dS5vdXRlcldpZHRoKmZ9fSk7ci5lZmZlY3QodCl9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgUHVsc2F0ZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9wdWxzYXRlLWVmZmVjdC8KICovCmlpPW4uZWZmZWN0cy5lZmZlY3QucHVsc2F0ZT1mdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcyksZT1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8InNob3ciKSxoPWU9PT0ic2hvdyIsYT1lPT09ImhpZGUiLHY9aHx8ZT09PSJoaWRlIixvPSh0LnRpbWVzfHw1KSoyKyh2PzE6MCksYz10LmR1cmF0aW9uL28sdT0wLGY9ci5xdWV1ZSgpLGw9Zi5sZW5ndGgscztmb3IoKGh8fCFyLmlzKCI6dmlzaWJsZSIpKSYmKHIuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCksdT0xKSxzPTE7czxvO3MrKylyLmFuaW1hdGUoe29wYWNpdHk6dX0sYyx0LmVhc2luZyksdT0xLXU7ci5hbmltYXRlKHtvcGFjaXR5OnV9LGMsdC5lYXNpbmcpO3IucXVldWUoZnVuY3Rpb24oKXthJiZyLmhpZGUoKTtpKCl9KTtsPjEmJmYuc3BsaWNlLmFwcGx5KGYsWzEsMF0uY29uY2F0KGYuc3BsaWNlKGwsbysxKSkpO3IuZGVxdWV1ZSgpfTsKLyohCiAqIGpRdWVyeSBVSSBFZmZlY3RzIFNoYWtlIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NoYWtlLWVmZmVjdC8KICovCnJpPW4uZWZmZWN0cy5lZmZlY3Quc2hha2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1uKHRoaXMpLHY9WyJwb3NpdGlvbiIsInRvcCIsImJvdHRvbSIsImxlZnQiLCJyaWdodCIsImhlaWdodCIsIndpZHRoIl0saz1uLmVmZmVjdHMuc2V0TW9kZShyLHQubW9kZXx8ImVmZmVjdCIpLGY9dC5kaXJlY3Rpb258fCJsZWZ0IixvPXQuZGlzdGFuY2V8fDIwLHk9dC50aW1lc3x8MyxwPXkqMisxLHU9TWF0aC5yb3VuZCh0LmR1cmF0aW9uL3ApLHM9Zj09PSJ1cCJ8fGY9PT0iZG93biI/InRvcCI6ImxlZnQiLGg9Zj09PSJ1cCJ8fGY9PT0ibGVmdCIsYz17fSxsPXt9LHc9e30sYSxlPXIucXVldWUoKSxiPWUubGVuZ3RoO2ZvcihuLmVmZmVjdHMuc2F2ZShyLHYpLHIuc2hvdygpLG4uZWZmZWN0cy5jcmVhdGVXcmFwcGVyKHIpLGNbc109KGg/Ii09IjoiKz0iKStvLGxbc109KGg/Iis9IjoiLT0iKStvKjIsd1tzXT0oaD8iLT0iOiIrPSIpK28qMixyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKSxhPTE7YTx5O2ErKylyLmFuaW1hdGUobCx1LHQuZWFzaW5nKS5hbmltYXRlKHcsdSx0LmVhc2luZyk7ci5hbmltYXRlKGwsdSx0LmVhc2luZykuYW5pbWF0ZShjLHUvMix0LmVhc2luZykucXVldWUoZnVuY3Rpb24oKXtrPT09ImhpZGUiJiZyLmhpZGUoKTtuLmVmZmVjdHMucmVzdG9yZShyLHYpO24uZWZmZWN0cy5yZW1vdmVXcmFwcGVyKHIpO2koKX0pO2I+MSYmZS5zcGxpY2UuYXBwbHkoZSxbMSwwXS5jb25jYXQoZS5zcGxpY2UoYixwKzEpKSk7ci5kZXF1ZXVlKCl9OwovKiEKICogalF1ZXJ5IFVJIEVmZmVjdHMgU2xpZGUgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGUtZWZmZWN0LwogKi8KdWk9bi5lZmZlY3RzLmVmZmVjdC5zbGlkZT1mdW5jdGlvbih0LGkpe3ZhciByPW4odGhpcykscz1bInBvc2l0aW9uIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiXSxoPW4uZWZmZWN0cy5zZXRNb2RlKHIsdC5tb2RlfHwic2hvdyIpLGM9aD09PSJzaG93IixmPXQuZGlyZWN0aW9ufHwibGVmdCIsZT1mPT09InVwInx8Zj09PSJkb3duIj8idG9wIjoibGVmdCIsbz1mPT09InVwInx8Zj09PSJsZWZ0Iix1LGw9e307bi5lZmZlY3RzLnNhdmUocixzKTtyLnNob3coKTt1PXQuZGlzdGFuY2V8fHJbZT09PSJ0b3AiPyJvdXRlckhlaWdodCI6Im91dGVyV2lkdGgiXSghMCk7bi5lZmZlY3RzLmNyZWF0ZVdyYXBwZXIocikuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIn0pO2MmJnIuY3NzKGUsbz9pc05hTih1KT8iLSIrdTotdTp1KTtsW2VdPShjP28/Iis9IjoiLT0iOm8/Ii09IjoiKz0iKSt1O3IuYW5pbWF0ZShsLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2g9PT0iaGlkZSImJnIuaGlkZSgpO24uZWZmZWN0cy5yZXN0b3JlKHIscyk7bi5lZmZlY3RzLnJlbW92ZVdyYXBwZXIocik7aSgpfX0pfTsKLyohCiAqIGpRdWVyeSBVSSBFZmZlY3RzIFRyYW5zZmVyIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3RyYW5zZmVyLWVmZmVjdC8KICovCmZpPW4uZWZmZWN0cy5lZmZlY3QudHJhbnNmZXI9ZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLHI9bih0LnRvKSxmPXIuY3NzKCJwb3NpdGlvbiIpPT09ImZpeGVkIixlPW4oImJvZHkiKSxvPWY/ZS5zY3JvbGxUb3AoKTowLHM9Zj9lLnNjcm9sbExlZnQoKTowLGg9ci5vZmZzZXQoKSxsPXt0b3A6aC50b3AtbyxsZWZ0OmgubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LGM9dS5vZmZzZXQoKSxhPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyh0LmNsYXNzTmFtZSkuY3NzKHt0b3A6Yy50b3AtbyxsZWZ0OmMubGVmdC1zLGhlaWdodDp1LmlubmVySGVpZ2h0KCksd2lkdGg6dS5pbm5lcldpZHRoKCkscG9zaXRpb246Zj8iZml4ZWQiOiJhYnNvbHV0ZSJ9KS5hbmltYXRlKGwsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe2EucmVtb3ZlKCk7aSgpfSl9OwovKiEKICogalF1ZXJ5IFVJIFByb2dyZXNzYmFyIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3Byb2dyZXNzYmFyLwogKi8KZWk9bi53aWRnZXQoInVpLnByb2dyZXNzYmFyIix7dmVyc2lvbjoiMS4xMS4yIixvcHRpb25zOnttYXg6MTAwLHZhbHVlOjAsY2hhbmdlOm51bGwsY29tcGxldGU6bnVsbH0sbWluOjAsX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub2xkVmFsdWU9dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUoKTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsIikuYXR0cih7cm9sZToicHJvZ3Jlc3NiYXIiLCJhcmlhLXZhbHVlbWluIjp0aGlzLm1pbn0pO3RoaXMudmFsdWVEaXY9bigiPGRpdiBjbGFzcz0ndWktcHJvZ3Jlc3NiYXItdmFsdWUgdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItbGVmdCc+PFwvZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1wcm9ncmVzc2JhciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWluIikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW1heCIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKTt0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbihuKXtpZihuPT09dW5kZWZpbmVkKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWU7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUobik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dW5kZWZpbmVkJiYobj10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT1uPT09ITEsdHlwZW9mIG4hPSJudW1iZXIiJiYobj0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixuKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PW4udmFsdWU7ZGVsZXRlIG4udmFsdWU7dGhpcy5fc3VwZXIobik7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtuPT09Im1heCImJih0PU1hdGgubWF4KHRoaXMubWluLHQpKTtuPT09ImRpc2FibGVkIiYmdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISF0KS5hdHRyKCJhcmlhLWRpc2FibGVkIix0KTt0aGlzLl9zdXBlcihuLHQpfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsaT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS50b2dnbGVDbGFzcygidWktY29ybmVyLXJpZ2h0Iix0PT09dGhpcy5vcHRpb25zLm1heCkud2lkdGgoaS50b0ZpeGVkKDApKyIlIik7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIix0aGlzLmluZGV0ZXJtaW5hdGUpO3RoaXMuaW5kZXRlcm1pbmF0ZT8odGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImFyaWEtdmFsdWVub3ciKSx0aGlzLm92ZXJsYXlEaXZ8fCh0aGlzLm92ZXJsYXlEaXY9bigiPGRpdiBjbGFzcz0ndWktcHJvZ3Jlc3NiYXItb3ZlcmxheSc+PFwvZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpO3RoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKTt0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KTsKLyohCiAqIGpRdWVyeSBVSSBTZWxlY3RhYmxlIDEuMTEuMgogKiBodHRwOi8vanF1ZXJ5dWkuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqCiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL3NlbGVjdGFibGUvCiAqLwpvaT1uLndpZGdldCgidWkuc2VsZWN0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMS4yIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXM7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPSExO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3Q9bihpLm9wdGlvbnMuZmlsdGVyLGkuZWxlbWVudFswXSk7dC5hZGRDbGFzcygidWktc2VsZWN0ZWUiKTt0LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5vZmZzZXQoKTtuLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OnQsbGVmdDppLmxlZnQsdG9wOmkudG9wLHJpZ2h0OmkubGVmdCt0Lm91dGVyV2lkdGgoKSxib3R0b206aS50b3ArdC5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6dC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6dC5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9O3RoaXMucmVmcmVzaCgpO3RoaXMuc2VsZWN0ZWVzPXQuYWRkQ2xhc3MoInVpLXNlbGVjdGVlIik7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5oZWxwZXI9bigiPGRpdiBjbGFzcz0ndWktc2VsZWN0YWJsZS1oZWxwZXInPjxcL2Rpdj4iKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVlcy5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWUiKS5yZW1vdmVEYXRhKCJzZWxlY3RhYmxlLWl0ZW0iKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGFibGUgdWktc2VsZWN0YWJsZS1kaXNhYmxlZCIpO3RoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9dGhpcy5vcHRpb25zOyh0aGlzLm9wb3M9W3QucGFnZVgsdC5wYWdlWV0sdGhpcy5vcHRpb25zLmRpc2FibGVkKXx8KHRoaXMuc2VsZWN0ZWVzPW4oci5maWx0ZXIsdGhpcy5lbGVtZW50WzBdKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCksbihyLmFwcGVuZFRvKS5hcHBlbmQodGhpcy5oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7bGVmdDp0LnBhZ2VYLHRvcDp0LnBhZ2VZLHdpZHRoOjAsaGVpZ2h0OjB9KSxyLmF1dG9SZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSx0aGlzLnNlbGVjdGVlcy5maWx0ZXIoIi51aS1zZWxlY3RlZCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7ci5zdGFydHNlbGVjdGVkPSEwO3QubWV0YUtleXx8dC5jdHJsS2V5fHwoci4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0ZWQiKSxyLnNlbGVjdGVkPSExLHIuJGVsZW1lbnQuYWRkQ2xhc3MoInVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSkpfSksbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHUscj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aWYocilyZXR1cm4gdT0hdC5tZXRhS2V5JiYhdC5jdHJsS2V5fHwhci4kZWxlbWVudC5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxyLiRlbGVtZW50LnJlbW92ZUNsYXNzKHU/InVpLXVuc2VsZWN0aW5nIjoidWktc2VsZWN0ZWQiKS5hZGRDbGFzcyh1PyJ1aS1zZWxlY3RpbmciOiJ1aS11bnNlbGVjdGluZyIpLHIudW5zZWxlY3Rpbmc9IXUsci5zZWxlY3Rpbmc9dSxyLnNlbGVjdGVkPXUsdT9pLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpyLmVsZW1lbnR9KTppLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ci5lbGVtZW50fSksITF9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBlLG89dGhpcyxzPXRoaXMub3B0aW9ucyxpPXRoaXMub3Bvc1swXSxyPXRoaXMub3Bvc1sxXSx1PXQucGFnZVgsZj10LnBhZ2VZO3JldHVybiBpPnUmJihlPXUsdT1pLGk9ZSkscj5mJiYoZT1mLGY9cixyPWUpLHRoaXMuaGVscGVyLmNzcyh7bGVmdDppLHRvcDpyLHdpZHRoOnUtaSxoZWlnaHQ6Zi1yfSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxoPSExO2UmJmUuZWxlbWVudCE9PW8uZWxlbWVudFswXSYmKHMudG9sZXJhbmNlPT09InRvdWNoIj9oPSEoZS5sZWZ0PnV8fGUucmlnaHQ8aXx8ZS50b3A+Znx8ZS5ib3R0b208cik6cy50b2xlcmFuY2U9PT0iZml0IiYmKGg9ZS5sZWZ0PmkmJmUucmlnaHQ8dSYmZS50b3A+ciYmZS5ib3R0b208ZiksaD8oZS5zZWxlY3RlZCYmKGUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVkIiksZS5zZWxlY3RlZD0hMSksZS51bnNlbGVjdGluZyYmKGUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXVuc2VsZWN0aW5nIiksZS51bnNlbGVjdGluZz0hMSksZS5zZWxlY3Rpbmd8fChlLiRlbGVtZW50LmFkZENsYXNzKCJ1aS1zZWxlY3RpbmciKSxlLnNlbGVjdGluZz0hMCxvLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzplLmVsZW1lbnR9KSkpOihlLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJmUuc3RhcnRzZWxlY3RlZD8oZS4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0aW5nIiksZS5zZWxlY3Rpbmc9ITEsZS4kZWxlbWVudC5hZGRDbGFzcygidWktc2VsZWN0ZWQiKSxlLnNlbGVjdGVkPSEwKTooZS4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2VsZWN0aW5nIiksZS5zZWxlY3Rpbmc9ITEsZS5zdGFydHNlbGVjdGVkJiYoZS4kZWxlbWVudC5hZGRDbGFzcygidWktdW5zZWxlY3RpbmciKSxlLnVuc2VsZWN0aW5nPSEwKSxvLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6ZS5lbGVtZW50fSkpKSxlLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fGUuc3RhcnRzZWxlY3RlZHx8KGUuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGVkIiksZS5zZWxlY3RlZD0hMSxlLiRlbGVtZW50LmFkZENsYXNzKCJ1aS11bnNlbGVjdGluZyIpLGUudW5zZWxlY3Rpbmc9ITAsby5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOmUuZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7ci4kZWxlbWVudC5yZW1vdmVDbGFzcygidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO3IuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdGluZyIpLmFkZENsYXNzKCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pOwovKiEKICogalF1ZXJ5IFVJIFNlbGVjdG1lbnUgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2VsZWN0bWVudQogKi8Kc2k9bi53aWRnZXQoInVpLnNlbGVjdG1lbnUiLHt2ZXJzaW9uOiIxLjExLjIiLGRlZmF1bHRFbGVtZW50OiI8c2VsZWN0PiIsb3B0aW9uczp7YXBwZW5kVG86bnVsbCxkaXNhYmxlZDpudWxsLGljb25zOntidXR0b246InVpLWljb24tdHJpYW5nbGUtMS1zIn0scG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246Im5vbmUifSx3aWR0aDpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50Om4sYnV0dG9uOm4rIi1idXR0b24iLG1lbnU6bisiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuZGlzYWJsZSgpfSxfZHJhd0J1dHRvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiKTt0aGlzLmxhYmVsPW4oImxhYmVsW2Zvcj0nIit0aGlzLmlkcy5lbGVtZW50KyInXSIpLmF0dHIoImZvciIsdGhpcy5pZHMuYnV0dG9uKTt0aGlzLl9vbih0aGlzLmxhYmVsLHtjbGljazpmdW5jdGlvbihuKXt0aGlzLmJ1dHRvbi5mb2N1cygpO24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLmVsZW1lbnQuaGlkZSgpO3RoaXMuYnV0dG9uPW4oIjxzcGFuPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtYnV0dG9uIHVpLXdpZGdldCB1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiLHRhYmluZGV4Oml8fHRoaXMub3B0aW9ucy5kaXNhYmxlZD8tMTowLGlkOnRoaXMuaWRzLmJ1dHRvbixyb2xlOiJjb21ib2JveCIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSIsImFyaWEtYXV0b2NvbXBsZXRlIjoibGlzdCIsImFyaWEtb3ducyI6dGhpcy5pZHMubWVudSwiYXJpYS1oYXNwb3B1cCI6InRydWUifSkuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KTtuKCI8c3Bhbj4iLHsiY2xhc3MiOiJ1aS1pY29uICIrdGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbn0pLnByZXBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5idXR0b25UZXh0PW4oIjxzcGFuPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtdGV4dCJ9KS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fc2V0VGV4dCh0aGlzLmJ1dHRvblRleHQsdGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbjpzZWxlY3RlZCIpLnRleHQoKSk7dGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7dC5tZW51SXRlbXN8fHQuX3JlZnJlc2hNZW51KCl9KTt0aGlzLl9ob3ZlcmFibGUodGhpcy5idXR0b24pO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLmJ1dHRvbil9LF9kcmF3TWVudTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5tZW51PW4oIjx1bD4iLHsiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1sYWJlbGxlZGJ5Ijp0aGlzLmlkcy5idXR0b24saWQ6dGhpcy5pZHMubWVudX0pO3RoaXMubWVudVdyYXA9bigiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LW1lbnUgdWktZnJvbnQifSkuYXBwZW5kKHRoaXMubWVudSkuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSk7dGhpcy5tZW51SW5zdGFuY2U9dGhpcy5tZW51Lm1lbnUoe3JvbGU6Imxpc3Rib3giLHNlbGVjdDpmdW5jdGlvbihuLGkpe24ucHJldmVudERlZmF1bHQoKTt0Ll9zZXRTZWxlY3Rpb24oKTt0Ll9zZWxlY3QoaS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxmb2N1czpmdW5jdGlvbihuLGkpe3ZhciByPWkuaXRlbS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKTt0LmZvY3VzSW5kZXghPW51bGwmJnIuaW5kZXghPT10LmZvY3VzSW5kZXgmJih0Ll90cmlnZ2VyKCJmb2N1cyIsbix7aXRlbTpyfSksdC5pc09wZW58fHQuX3NlbGVjdChyLG4pKTt0LmZvY3VzSW5kZXg9ci5pbmRleDt0LmJ1dHRvbi5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQubWVudUl0ZW1zLmVxKHIuaW5kZXgpLmF0dHIoImlkIikpfX0pLm1lbnUoImluc3RhbmNlIik7dGhpcy5tZW51LmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKTt0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKHRoaXMubWVudSwibW91c2VsZWF2ZSIpO3RoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfTt0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKTt0aGlzLl9zZXRUZXh0KHRoaXMuYnV0dG9uVGV4dCx0aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKS50ZXh0KCkpO3RoaXMub3B0aW9ucy53aWR0aHx8dGhpcy5fcmVzaXplQnV0dG9uKCl9LF9yZWZyZXNoTWVudTpmdW5jdGlvbigpe3RoaXMubWVudS5lbXB0eSgpO3ZhciBuLHQ9dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3QubGVuZ3RoJiYodGhpcy5fcGFyc2VPcHRpb25zKHQpLHRoaXMuX3JlbmRlck1lbnUodGhpcy5tZW51LHRoaXMuaXRlbXMpLHRoaXMubWVudUluc3RhbmNlLnJlZnJlc2goKSx0aGlzLm1lbnVJdGVtcz10aGlzLm1lbnUuZmluZCgibGkiKS5ub3QoIi51aS1zZWxlY3RtZW51LW9wdGdyb3VwIiksbj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLm1lbnVJdGVtcz8odGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1mb2N1cyIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1mb2N1cyIpLHRoaXMubWVudUluc3RhbmNlLmZvY3VzKG51bGwsdGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkpKTp0aGlzLl9yZWZyZXNoTWVudSgpLHRoaXMuaXNPcGVuPSEwLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLl9yZXNpemVNZW51KCksdGhpcy5fcG9zaXRpb24oKSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHRoaXMuX2RvY3VtZW50Q2xpY2spLHRoaXMuX3RyaWdnZXIoIm9wZW4iLG4pKX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5tZW51V3JhcC5wb3NpdGlvbihuLmV4dGVuZCh7b2Y6dGhpcy5idXR0b259LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpfSxjbG9zZTpmdW5jdGlvbihuKXt0aGlzLmlzT3BlbiYmKHRoaXMuaXNPcGVuPSExLHRoaXMuX3RvZ2dsZUF0dHIoKSx0aGlzLnJhbmdlPW51bGwsdGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQpLHRoaXMuX3RyaWdnZXIoImNsb3NlIixuKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1dHRvbn0sbWVudVdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnV9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHU9dGhpcyxyPSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7Zi5vcHRncm91cCE9PXImJihuKCI8bGk+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1vcHRncm91cCB1aS1tZW51LWRpdmlkZXIiKyhmLmVsZW1lbnQucGFyZW50KCJvcHRncm91cCIpLnByb3AoImRpc2FibGVkIik/IiB1aS1zdGF0ZS1kaXNhYmxlZCI6IiIpLHRleHQ6Zi5vcHRncm91cH0pLmFwcGVuZFRvKHQpLHI9Zi5vcHRncm91cCk7dS5fcmVuZGVySXRlbURhdGEodCxmKX0pfSxfcmVuZGVySXRlbURhdGE6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fcmVuZGVySXRlbShuLHQpLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIsdCl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bigiPGxpPiIpO3JldHVybiBpLmRpc2FibGVkJiZyLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQocixpLmxhYmVsKSxyLmFwcGVuZFRvKHQpfSxfc2V0VGV4dDpmdW5jdGlvbihuLHQpe3Q/bi50ZXh0KHQpOm4uaHRtbCgiJiMxNjA7Iil9LF9tb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1PSIudWktbWVudS1pdGVtIjt0aGlzLmlzT3Blbj9pPXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCk6KGk9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHUrPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKTtyPW49PT0iZmlyc3QifHxuPT09Imxhc3QiP2lbbj09PSJmaXJzdCI/InByZXZBbGwiOiJuZXh0QWxsIl0odSkuZXEoLTEpOmlbbisiQWxsIl0odSkuZXEoMCk7ci5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscil9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpfSxfdG9nZ2xlOmZ1bmN0aW9uKG4pe3RoaXNbdGhpcy5pc09wZW4/ImNsb3NlIjoib3BlbiJdKG4pfSxfc2V0U2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG47dGhpcy5yYW5nZSYmKHdpbmRvdy5nZXRTZWxlY3Rpb24/KG49d2luZG93LmdldFNlbGVjdGlvbigpLG4ucmVtb3ZlQWxsUmFuZ2VzKCksbi5hZGRSYW5nZSh0aGlzLnJhbmdlKSk6dGhpcy5yYW5nZS5zZWxlY3QoKSx0aGlzLmJ1dHRvbi5mb2N1cygpKX0sX2RvY3VtZW50Q2xpY2s6e21vdXNlZG93bjpmdW5jdGlvbih0KXt0aGlzLmlzT3BlbiYmKG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1zZWxlY3RtZW51LW1lbnUsICMiK3RoaXMuaWRzLmJ1dHRvbikubGVuZ3RofHx0aGlzLmNsb3NlKHQpKX19LF9idXR0b25FdmVudHM6e21vdXNlZG93bjpmdW5jdGlvbigpe3ZhciBuO3dpbmRvdy5nZXRTZWxlY3Rpb24/KG49d2luZG93LmdldFNlbGVjdGlvbigpLG4ucmFuZ2VDb3VudCYmKHRoaXMucmFuZ2U9bi5nZXRSYW5nZUF0KDApKSk6dGhpcy5yYW5nZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKX0sY2xpY2s6ZnVuY3Rpb24obil7dGhpcy5fc2V0U2VsZWN0aW9uKCk7dGhpcy5fdG9nZ2xlKG4pfSxrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBpPSEwO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLlRBQjpjYXNlIG4udWkua2V5Q29kZS5FU0NBUEU6dGhpcy5jbG9zZSh0KTtpPSExO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVOVEVSOnRoaXMuaXNPcGVuJiZ0aGlzLl9zZWxlY3RGb2N1c2VkSXRlbSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjp0LmFsdEtleT90aGlzLl90b2dnbGUodCk6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5pc09wZW4/dGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk6dGhpcy5fdG9nZ2xlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5fbW92ZSgicHJldiIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6dGhpcy5fbW92ZSgibmV4dCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTpjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMuX21vdmUoImZpcnN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOnRoaXMuX21vdmUoImxhc3QiLHQpO2JyZWFrO2RlZmF1bHQ6dGhpcy5tZW51LnRyaWdnZXIodCk7aT0hMX1pJiZ0LnByZXZlbnREZWZhdWx0KCl9fSxfc2VsZWN0Rm9jdXNlZEl0ZW06ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5tZW51SXRlbXMuZXEodGhpcy5mb2N1c0luZGV4KTt0Lmhhc0NsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpfHx0aGlzLl9zZWxlY3QodC5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSxuKX0sX3NlbGVjdDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4O3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4PW4uaW5kZXg7dGhpcy5fc2V0VGV4dCh0aGlzLmJ1dHRvblRleHQsbi5sYWJlbCk7dGhpcy5fc2V0QXJpYShuKTt0aGlzLl90cmlnZ2VyKCJzZWxlY3QiLHQse2l0ZW06bn0pO24uaW5kZXghPT1pJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQse2l0ZW06bn0pO3RoaXMuY2xvc2UodCl9LF9zZXRBcmlhOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubWVudUl0ZW1zLmVxKG4uaW5kZXgpLmF0dHIoImlkIik7dGhpcy5idXR0b24uYXR0cih7ImFyaWEtbGFiZWxsZWRieSI6dCwiYXJpYS1hY3RpdmVkZXNjZW5kYW50Ijp0fSk7dGhpcy5tZW51LmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtuPT09Imljb25zIiYmdGhpcy5idXR0b24uZmluZCgic3Bhbi51aS1pY29uIikucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmljb25zLmJ1dHRvbikuYWRkQ2xhc3ModC5idXR0b24pO3RoaXMuX3N1cGVyKG4sdCk7bj09PSJhcHBlbmRUbyImJnRoaXMubWVudVdyYXAuYXBwZW5kVG8odGhpcy5fYXBwZW5kVG8oKSk7bj09PSJkaXNhYmxlZCImJih0aGlzLm1lbnVJbnN0YW5jZS5vcHRpb24oImRpc2FibGVkIix0KSx0aGlzLmJ1dHRvbi50b2dnbGVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiLHQpLmF0dHIoImFyaWEtZGlzYWJsZWQiLHQpLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsdCksdD8odGhpcy5idXR0b24uYXR0cigidGFiaW5kZXgiLC0xKSx0aGlzLmNsb3NlKCkpOnRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwwKSk7bj09PSJ3aWR0aCImJnRoaXMuX3Jlc2l6ZUJ1dHRvbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250IikpLHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF90b2dnbGVBdHRyOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24udG9nZ2xlQ2xhc3MoInVpLWNvcm5lci10b3AiLHRoaXMuaXNPcGVuKS50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsIXRoaXMuaXNPcGVuKS5hdHRyKCJhcmlhLWV4cGFuZGVkIix0aGlzLmlzT3Blbik7dGhpcy5tZW51V3JhcC50b2dnbGVDbGFzcygidWktc2VsZWN0bWVudS1vcGVuIix0aGlzLmlzT3Blbik7dGhpcy5tZW51LmF0dHIoImFyaWEtaGlkZGVuIiwhdGhpcy5pc09wZW4pfSxfcmVzaXplQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLndpZHRoO258fChuPXRoaXMuZWxlbWVudC5zaG93KCkub3V0ZXJXaWR0aCgpLHRoaXMuZWxlbWVudC5oaWRlKCkpO3RoaXMuYnV0dG9uLm91dGVyV2lkdGgobil9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEpKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm57ZGlzYWJsZWQ6dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIil9fSxfcGFyc2VPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPVtdO3QuZWFjaChmdW5jdGlvbih0LHIpe3ZhciB1PW4ociksZj11LnBhcmVudCgib3B0Z3JvdXAiKTtpLnB1c2goe2VsZW1lbnQ6dSxpbmRleDp0LHZhbHVlOnUuYXR0cigidmFsdWUiKSxsYWJlbDp1LnRleHQoKSxvcHRncm91cDpmLmF0dHIoImxhYmVsIil8fCIiLGRpc2FibGVkOmYucHJvcCgiZGlzYWJsZWQiKXx8dS5wcm9wKCJkaXNhYmxlZCIpfSl9KTt0aGlzLml0ZW1zPWl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5tZW51V3JhcC5yZW1vdmUoKTt0aGlzLmJ1dHRvbi5yZW1vdmUoKTt0aGlzLmVsZW1lbnQuc2hvdygpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpO3RoaXMubGFiZWwuYXR0cigiZm9yIix0aGlzLmlkcy5lbGVtZW50KX19KTsKLyohCiAqIGpRdWVyeSBVSSBTbGlkZXIgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vc2xpZGVyLwogKi8KaGk9bi53aWRnZXQoInVpLnNsaWRlciIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMS4yIix3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e2FuaW1hdGU6ITEsZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExO3RoaXMuX21vdXNlU2xpZGluZz0hMTt0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNsaWRlciB1aS1zbGlkZXItIit0aGlzLm9yaWVudGF0aW9uKyIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwiKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCk7dGhpcy5fY3JlYXRlSGFuZGxlcygpO3RoaXMuX3NldHVwRXZlbnRzKCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHIsaSx1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLWNvcm5lci1hbGwiKSxmPVtdO2ZvcihpPXUudmFsdWVzJiZ1LnZhbHVlcy5sZW5ndGh8fDEsdC5sZW5ndGg+aSYmKHQuc2xpY2UoaSkucmVtb3ZlKCksdD10LnNsaWNlKDAsaSkpLHI9dC5sZW5ndGg7cjxpO3IrKylmLnB1c2goIjxzcGFuIGNsYXNzPSd1aS1zbGlkZXItaGFuZGxlIHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCcgdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5oYW5kbGU9dGhpcy5oYW5kbGVzLmVxKDApO3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHQpe24odGhpcykuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIsdCl9KX0sX2NyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLGk9IiI7dC5yYW5nZT8odC5yYW5nZT09PSEwJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiZ0LnZhbHVlcy5sZW5ndGghPT0yP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06bi5pc0FycmF5KHQudmFsdWVzKSYmKHQudmFsdWVzPXQudmFsdWVzLnNsaWNlKDApKTp0LnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/dGhpcy5yYW5nZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXJhbmdlLW1pbiB1aS1zbGlkZXItcmFuZ2UtbWF4IikuY3NzKHtsZWZ0OiIiLGJvdHRvbToiIn0pOih0aGlzLnJhbmdlPW4oIjxkaXY+PFwvZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksaT0idWktc2xpZGVyLXJhbmdlIHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbCIpLHRoaXMucmFuZ2UuYWRkQ2xhc3MoaSsodC5yYW5nZT09PSJtaW4ifHx0LnJhbmdlPT09Im1heCI/IiB1aS1zbGlkZXItcmFuZ2UtIit0LnJhbmdlOiIiKSkpOih0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpLHRoaXMucmFuZ2U9bnVsbCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbigpe3RoaXMuX29mZih0aGlzLmhhbmRsZXMpO3RoaXMuX29uKHRoaXMuaGFuZGxlcyx0aGlzLl9oYW5kbGVFdmVudHMpO3RoaXMuX2hvdmVyYWJsZSh0aGlzLmhhbmRsZXMpO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLmhhbmRsZXMpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlcy5yZW1vdmUoKTt0aGlzLnJhbmdlJiZ0aGlzLnJhbmdlLnJlbW92ZSgpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci1ob3Jpem9udGFsIHVpLXNsaWRlci12ZXJ0aWNhbCB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpO3RoaXMuX21vdXNlRGVzdHJveSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciBzLGYscixpLHUsaCxlLGMsbz10aGlzLGw9dGhpcy5vcHRpb25zO3JldHVybiBsLmRpc2FibGVkPyExOih0aGlzLmVsZW1lbnRTaXplPXt3aWR0aDp0aGlzLmVsZW1lbnQub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKX0sdGhpcy5lbGVtZW50T2Zmc2V0PXRoaXMuZWxlbWVudC5vZmZzZXQoKSxzPXt4OnQucGFnZVgseTp0LnBhZ2VZfSxmPXRoaXMuX25vcm1WYWx1ZUZyb21Nb3VzZShzKSxyPXRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSsxLHRoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKGYtby52YWx1ZXModCkpOyhyPmV8fHI9PT1lJiYodD09PW8uX2xhc3RDaGFuZ2VkVmFsdWV8fG8udmFsdWVzKHQpPT09bC5taW4pKSYmKHI9ZSxpPW4odGhpcyksdT10KX0pLGg9dGhpcy5fc3RhcnQodCx1KSxoPT09ITEpPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9dSxpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKS5mb2N1cygpLGU9aS5vZmZzZXQoKSxjPSFuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmlzKCIudWktc2xpZGVyLWhhbmRsZSIpLHRoaXMuX2NsaWNrT2Zmc2V0PWM/e2xlZnQ6MCx0b3A6MH06e2xlZnQ6dC5wYWdlWC1lLmxlZnQtaS53aWR0aCgpLzIsdG9wOnQucGFnZVktZS50b3AtaS5oZWlnaHQoKS8yLShwYXJzZUludChpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLShwYXJzZUludChpLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChpLmNzcygibWFyZ2luVG9wIiksMTApfHwwKX0sdGhpcy5oYW5kbGVzLmhhc0NsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfHx0aGlzLl9zbGlkZSh0LHUsZiksdGhpcy5fYW5pbWF0ZU9mZj0hMCwhMCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24obil7dmFyIHQ9e3g6bi5wYWdlWCx5Om4ucGFnZVl9LGk9dGhpcy5fbm9ybVZhbHVlRnJvbU1vdXNlKHQpO3JldHVybiB0aGlzLl9zbGlkZShuLHRoaXMuX2hhbmRsZUluZGV4LGkpLCExfSxfbW91c2VTdG9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmhhbmRsZXMucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX21vdXNlU2xpZGluZz0hMSx0aGlzLl9zdG9wKG4sdGhpcy5faGFuZGxlSW5kZXgpLHRoaXMuX2NoYW5nZShuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9oYW5kbGVJbmRleD1udWxsLHRoaXMuX2NsaWNrT2Zmc2V0PW51bGwsdGhpcy5fYW5pbWF0ZU9mZj0hMSwhMX0sX2RldGVjdE9yaWVudGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5vcmllbnRhdGlvbj10aGlzLm9wdGlvbnMub3JpZW50YXRpb249PT0idmVydGljYWwiPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwifSxfbm9ybVZhbHVlRnJvbU1vdXNlOmZ1bmN0aW9uKG4pe3ZhciBpLHIsdCx1LGY7cmV0dXJuIHRoaXMub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCI/KGk9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxyPW4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGk9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQscj1uLnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSx0PXIvaSx0PjEmJih0PTEpLHQ8MCYmKHQ9MCksdGhpcy5vcmllbnRhdGlvbj09PSJ2ZXJ0aWNhbCImJih0PTEtdCksdT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZj10aGlzLl92YWx1ZU1pbigpK3QqdSx0aGlzLl90cmltQWxpZ25WYWx1ZShmKX0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9e2hhbmRsZTp0aGlzLmhhbmRsZXNbdF0sdmFsdWU6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgmJihpLnZhbHVlPXRoaXMudmFsdWVzKHQpLGkudmFsdWVzPXRoaXMudmFsdWVzKCkpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLGkpfSxfc2xpZGU6ZnVuY3Rpb24obix0LGkpe3ZhciByLGYsdTt0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD8ocj10aGlzLnZhbHVlcyh0PzA6MSksdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGg9PT0yJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKHQ9PT0wJiZpPnJ8fHQ9PT0xJiZpPHIpJiYoaT1yKSxpIT09dGhpcy52YWx1ZXModCkmJihmPXRoaXMudmFsdWVzKCksZlt0XT1pLHU9dGhpcy5fdHJpZ2dlcigic2xpZGUiLG4se2hhbmRsZTp0aGlzLmhhbmRsZXNbdF0sdmFsdWU6aSx2YWx1ZXM6Zn0pLHI9dGhpcy52YWx1ZXModD8wOjEpLHUhPT0hMSYmdGhpcy52YWx1ZXModCxpKSkpOmkhPT10aGlzLnZhbHVlKCkmJih1PXRoaXMuX3RyaWdnZXIoInNsaWRlIixuLHtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLHZhbHVlOml9KSx1IT09ITEmJnRoaXMudmFsdWUoaSkpfSxfc3RvcDpmdW5jdGlvbihuLHQpe3ZhciBpPXtoYW5kbGU6dGhpcy5oYW5kbGVzW3RdLHZhbHVlOnRoaXMudmFsdWUoKX07dGhpcy5vcHRpb25zLnZhbHVlcyYmdGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgmJihpLnZhbHVlPXRoaXMudmFsdWVzKHQpLGkudmFsdWVzPXRoaXMudmFsdWVzKCkpO3RoaXMuX3RyaWdnZXIoInN0b3AiLG4saSl9LF9jaGFuZ2U6ZnVuY3Rpb24obix0KXtpZighdGhpcy5fa2V5U2xpZGluZyYmIXRoaXMuX21vdXNlU2xpZGluZyl7dmFyIGk9e2hhbmRsZTp0aGlzLmhhbmRsZXNbdF0sdmFsdWU6dGhpcy52YWx1ZSgpfTt0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCYmKGkudmFsdWU9dGhpcy52YWx1ZXModCksaS52YWx1ZXM9dGhpcy52YWx1ZXMoKSk7dGhpcy5fbGFzdENoYW5nZWRWYWx1ZT10O3RoaXMuX3RyaWdnZXIoImNoYW5nZSIsbixpKX19LHZhbHVlOmZ1bmN0aW9uKG4pe2lmKGFyZ3VtZW50cy5sZW5ndGgpe3RoaXMub3B0aW9ucy52YWx1ZT10aGlzLl90cmltQWxpZ25WYWx1ZShuKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9jaGFuZ2UobnVsbCwwKTtyZXR1cm59cmV0dXJuIHRoaXMuX3ZhbHVlKCl9LHZhbHVlczpmdW5jdGlvbih0LGkpe3ZhciB1LGYscjtpZihhcmd1bWVudHMubGVuZ3RoPjEpe3RoaXMub3B0aW9ucy52YWx1ZXNbdF09dGhpcy5fdHJpbUFsaWduVmFsdWUoaSk7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsdCk7cmV0dXJufWlmKGFyZ3VtZW50cy5sZW5ndGgpaWYobi5pc0FycmF5KGFyZ3VtZW50c1swXSkpe2Zvcih1PXRoaXMub3B0aW9ucy52YWx1ZXMsZj1hcmd1bWVudHNbMF0scj0wO3I8dS5sZW5ndGg7cis9MSl1W3JdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGZbcl0pLHRoaXMuX2NoYW5nZShudWxsLHIpO3RoaXMuX3JlZnJlc2hWYWx1ZSgpfWVsc2UgcmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuX3ZhbHVlcyh0KTp0aGlzLnZhbHVlKCk7ZWxzZSByZXR1cm4gdGhpcy5fdmFsdWVzKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1PTA7dD09PSJyYW5nZSImJnRoaXMub3B0aW9ucy5yYW5nZT09PSEwJiYoaT09PSJtaW4iPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdmFsdWVzKDApLHRoaXMub3B0aW9ucy52YWx1ZXM9bnVsbCk6aT09PSJtYXgiJiYodGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcyh0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aC0xKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpKTtuLmlzQXJyYXkodGhpcy5vcHRpb25zLnZhbHVlcykmJih1PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKTt0PT09ImRpc2FibGVkIiYmdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIsISFpKTt0aGlzLl9zdXBlcih0LGkpO3N3aXRjaCh0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhvcml6b250YWwgdWktc2xpZGVyLXZlcnRpY2FsIikuYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMuaGFuZGxlcy5jc3MoaT09PSJob3Jpem9udGFsIj8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscj0wO3I8dTtyKz0xKXRoaXMuX2NoYW5nZShudWxsLHIpO3RoaXMuX2FuaW1hdGVPZmY9ITE7YnJlYWs7Y2FzZSJzdGVwIjpjYXNlIm1pbiI6Y2FzZSJtYXgiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fY2FsY3VsYXRlTmV3TWF4KCk7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInJhbmdlIjp0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfX0sX3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLnZhbHVlO3JldHVybiB0aGlzLl90cmltQWxpZ25WYWx1ZShuKX0sX3ZhbHVlczpmdW5jdGlvbihuKXt2YXIgcix0LGk7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj10aGlzLm9wdGlvbnMudmFsdWVzW25dLHRoaXMuX3RyaW1BbGlnblZhbHVlKHIpO2lmKHRoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoKXtmb3IodD10aGlzLm9wdGlvbnMudmFsdWVzLnNsaWNlKCksaT0wO2k8dC5sZW5ndGg7aSs9MSl0W2ldPXRoaXMuX3RyaW1BbGlnblZhbHVlKHRbaV0pO3JldHVybiB0fXJldHVybltdfSxfdHJpbUFsaWduVmFsdWU6ZnVuY3Rpb24obil7aWYobjw9dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm4gdGhpcy5fdmFsdWVNaW4oKTtpZihuPj10aGlzLl92YWx1ZU1heCgpKXJldHVybiB0aGlzLl92YWx1ZU1heCgpO3ZhciB0PXRoaXMub3B0aW9ucy5zdGVwPjA/dGhpcy5vcHRpb25zLnN0ZXA6MSxpPShuLXRoaXMuX3ZhbHVlTWluKCkpJXQscj1uLWk7cmV0dXJuIE1hdGguYWJzKGkpKjI+PXQmJihyKz1pPjA/dDotdCkscGFyc2VGbG9hdChyLnRvRml4ZWQoNSkpfSxfY2FsY3VsYXRlTmV3TWF4OmZ1bmN0aW9uKCl7dmFyIG49KHRoaXMub3B0aW9ucy5tYXgtdGhpcy5fdmFsdWVNaW4oKSkldGhpcy5vcHRpb25zLnN0ZXA7dGhpcy5tYXg9dGhpcy5vcHRpb25zLm1heC1ufSxfdmFsdWVNaW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbn0sX3ZhbHVlTWF4OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4fSxfcmVmcmVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHMsdCxjLGYsaCxlPXRoaXMub3B0aW9ucy5yYW5nZSxpPXRoaXMub3B0aW9ucyxyPXRoaXMsdT10aGlzLl9hbmltYXRlT2ZmPyExOmkuYW5pbWF0ZSxvPXt9O3RoaXMub3B0aW9ucy52YWx1ZXMmJnRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9KHIudmFsdWVzKGYpLXIuX3ZhbHVlTWluKCkpLyhyLl92YWx1ZU1heCgpLXIuX3ZhbHVlTWluKCkpKjEwMDtvW3Iub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJib3R0b20iXT10KyIlIjtuKHRoaXMpLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0obyxpLmFuaW1hdGUpO3Iub3B0aW9ucy5yYW5nZT09PSEwJiYoci5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIj8oZj09PTAmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7bGVmdDp0KyIlIn0saS5hbmltYXRlKSxmPT09MSYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSk6KGY9PT0wJiZyLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2JvdHRvbTp0KyIlIn0saS5hbmltYXRlKSxmPT09MSYmci5yYW5nZVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0LXMrIiUifSx7cXVldWU6ITEsZHVyYXRpb246aS5hbmltYXRlfSkpKTtzPXR9KTooYz10aGlzLnZhbHVlKCksZj10aGlzLl92YWx1ZU1pbigpLGg9dGhpcy5fdmFsdWVNYXgoKSx0PWghPT1mPyhjLWYpLyhoLWYpKjEwMDowLG9bdGhpcy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiLHRoaXMuaGFuZGxlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0obyxpLmFuaW1hdGUpLGU9PT0ibWluIiYmdGhpcy5vcmllbnRhdGlvbj09PSJob3Jpem9udGFsIiYmdGhpcy5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDp0KyIlIn0saS5hbmltYXRlKSxlPT09Im1heCImJnRoaXMub3JpZW50YXRpb249PT0iaG9yaXpvbnRhbCImJnRoaXMucmFuZ2VbdT8iYW5pbWF0ZSI6ImNzcyJdKHt3aWR0aDoxMDAtdCsiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSxlPT09Im1pbiImJnRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0KyIlIn0saS5hbmltYXRlKSxlPT09Im1heCImJnRoaXMub3JpZW50YXRpb249PT0idmVydGljYWwiJiZ0aGlzLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OjEwMC10KyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmkuYW5pbWF0ZX0pKX0sX2hhbmRsZUV2ZW50czp7a2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgZSxyLGksdSxmPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmNhc2Ugbi51aS5rZXlDb2RlLkVORDpjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYodC5wcmV2ZW50RGVmYXVsdCgpLCF0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMCxuKHQudGFyZ2V0KS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIiksZT10aGlzLl9zdGFydCh0LGYpLGU9PT0hMSkpcmV0dXJufXU9dGhpcy5vcHRpb25zLnN0ZXA7cj10aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aD9pPXRoaXMudmFsdWVzKGYpOmk9dGhpcy52YWx1ZSgpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6aT10aGlzLl92YWx1ZU1pbigpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuX3ZhbHVlTWF4KCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIrKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmk9dGhpcy5fdHJpbUFsaWduVmFsdWUoci0odGhpcy5fdmFsdWVNYXgoKS10aGlzLl92YWx1ZU1pbigpKS90aGlzLm51bVBhZ2VzKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5SSUdIVDppZihyPT09dGhpcy5fdmFsdWVNYXgoKSlyZXR1cm47aT10aGlzLl90cmltQWxpZ25WYWx1ZShyK3UpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZihyPT09dGhpcy5fdmFsdWVNaW4oKSlyZXR1cm47aT10aGlzLl90cmltQWxpZ25WYWx1ZShyLXUpfXRoaXMuX3NsaWRlKHQsZixpKX0sa2V5dXA6ZnVuY3Rpb24odCl7dmFyIGk9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3RoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSExLHRoaXMuX3N0b3AodCxpKSx0aGlzLl9jaGFuZ2UodCxpKSxuKHQudGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfX19KTsKLyohCiAqIGpRdWVyeSBVSSBTb3J0YWJsZSAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zb3J0YWJsZS8KICovCmNpPW4ud2lkZ2V0KCJ1aS5zb3J0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMS4yIix3aWRnZXRFdmVudFByZWZpeDoic29ydCIscmVhZHk6ITEsb3B0aW9uczp7YXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0V2l0aDohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGRyb3BPbkVtcHR5OiEwLGZvcmNlUGxhY2Vob2xkZXJTaXplOiExLGZvcmNlSGVscGVyU2l6ZTohMSxncmlkOiExLGhhbmRsZTohMSxoZWxwZXI6Im9yaWdpbmFsIixpdGVtczoiPiAqIixvcGFjaXR5OiExLHBsYWNlaG9sZGVyOiExLHJldmVydDohMSxzY3JvbGw6ITAsc2Nyb2xsU2Vuc2l0aXZpdHk6MjAsc2Nyb2xsU3BlZWQ6MjAsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0Iix6SW5kZXg6MWUzLGFjdGl2YXRlOm51bGwsYmVmb3JlU3RvcDpudWxsLGNoYW5nZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxvdXQ6bnVsbCxvdmVyOm51bGwscmVjZWl2ZTpudWxsLHJlbW92ZTpudWxsLHNvcnQ6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbCx1cGRhdGU6bnVsbH0sX2lzT3ZlckF4aXM6ZnVuY3Rpb24obix0LGkpe3JldHVybiBuPj10JiZuPHQraX0sX2lzRmxvYXRpbmc6ZnVuY3Rpb24obil7cmV0dXJuL2xlZnR8cmlnaHQvLnRlc3Qobi5jc3MoImZsb2F0IikpfHwvaW5saW5lfHRhYmxlLWNlbGwvLnRlc3Qobi5jc3MoImRpc3BsYXkiKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7dGhpcy5jb250YWluZXJDYWNoZT17fTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLXNvcnRhYmxlIik7dGhpcy5yZWZyZXNoKCk7dGhpcy5mbG9hdGluZz10aGlzLml0ZW1zLmxlbmd0aD9uLmF4aXM9PT0ieCJ8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5pdGVtc1swXS5pdGVtKTohMTt0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7bj09PSJoYW5kbGUiJiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5maW5kKCIudWktc29ydGFibGUtaGFuZGxlIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhhbmRsZSIpO24uZWFjaCh0aGlzLml0ZW1zLGZ1bmN0aW9uKCl7KHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGU/dGhpcy5pdGVtLmZpbmQodGhpcy5pbnN0YW5jZS5vcHRpb25zLmhhbmRsZSk6dGhpcy5pdGVtKS5hZGRDbGFzcygidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlIHVpLXNvcnRhYmxlLWRpc2FibGVkIikuZmluZCgiLnVpLXNvcnRhYmxlLWhhbmRsZSIpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oYW5kbGUiKTt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIG49dGhpcy5pdGVtcy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLml0ZW1zW25dLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcj1udWxsLGY9ITEsdT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMub3B0aW9ucy50eXBlPT09InN0YXRpYyI/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKG4uZGF0YSh0aGlzLHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUpcmV0dXJuIHI9bih0aGlzKSwhMX0pLG4uZGF0YSh0LnRhcmdldCx1LndpZGdldE5hbWUrIi1pdGVtIik9PT11JiYocj1uKHQudGFyZ2V0KSksIXIpPyExOnRoaXMub3B0aW9ucy5oYW5kbGUmJiFpJiYobih0aGlzLm9wdGlvbnMuaGFuZGxlLHIpLmZpbmQoIioiKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3RoaXM9PT10LnRhcmdldCYmKGY9ITApfSksIWYpPyExOih0aGlzLmN1cnJlbnRJdGVtPXIsdGhpcy5fcmVtb3ZlQ3VycmVudHNGcm9tSXRlbXMoKSwhMCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgZixlLHU9dGhpcy5vcHRpb25zO2lmKHRoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXMuaGVscGVyPXRoaXMuX2NyZWF0ZUhlbHBlcih0KSx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCksdGhpcy5vZmZzZXQ9dGhpcy5jdXJyZW50SXRlbS5vZmZzZXQoKSx0aGlzLm9mZnNldD17dG9wOnRoaXMub2Zmc2V0LnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5vZmZzZXQubGVmdC10aGlzLm1hcmdpbnMubGVmdH0sbi5leHRlbmQodGhpcy5vZmZzZXQse2NsaWNrOntsZWZ0OnQucGFnZVgtdGhpcy5vZmZzZXQubGVmdCx0b3A6dC5wYWdlWS10aGlzLm9mZnNldC50b3B9LHBhcmVudDp0aGlzLl9nZXRQYXJlbnRPZmZzZXQoKSxyZWxhdGl2ZTp0aGlzLl9nZXRSZWxhdGl2ZU9mZnNldCgpfSksdGhpcy5oZWxwZXIuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIiksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksdS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcih1LmN1cnNvckF0KSx0aGlzLmRvbVBvc2l0aW9uPXtwcmV2OnRoaXMuY3VycmVudEl0ZW0ucHJldigpWzBdLHBhcmVudDp0aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfSx0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuY3VycmVudEl0ZW0uaGlkZSgpLHRoaXMuX2NyZWF0ZVBsYWNlaG9sZGVyKCksdS5jb250YWlubWVudCYmdGhpcy5fc2V0Q29udGFpbm1lbnQoKSx1LmN1cnNvciYmdS5jdXJzb3IhPT0iYXV0byImJihlPXRoaXMuZG9jdW1lbnQuZmluZCgiYm9keSIpLHRoaXMuc3RvcmVkQ3Vyc29yPWUuY3NzKCJjdXJzb3IiKSxlLmNzcygiY3Vyc29yIix1LmN1cnNvciksdGhpcy5zdG9yZWRTdHlsZXNoZWV0PW4oIjxzdHlsZT4qeyBjdXJzb3I6ICIrdS5jdXJzb3IrIiAhaW1wb3J0YW50OyB9PFwvc3R5bGU+IikuYXBwZW5kVG8oZSkpLHUub3BhY2l0eSYmKHRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpJiYodGhpcy5fc3RvcmVkT3BhY2l0eT10aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiKSksdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iix1Lm9wYWNpdHkpKSx1LnpJbmRleCYmKHRoaXMuaGVscGVyLmNzcygiekluZGV4IikmJih0aGlzLl9zdG9yZWRaSW5kZXg9dGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSksdGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiLHUuekluZGV4KSksdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmdGhpcy5zY3JvbGxQYXJlbnRbMF0udGFnTmFtZSE9PSJIVE1MIiYmKHRoaXMub3ZlcmZsb3dPZmZzZXQ9dGhpcy5zY3JvbGxQYXJlbnQub2Zmc2V0KCkpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0LHRoaXMuX3VpSGFzaCgpKSx0aGlzLl9wcmVzZXJ2ZUhlbHBlclByb3BvcnRpb25zfHx0aGlzLl9jYWNoZUhlbHBlclByb3BvcnRpb25zKCksIXIpZm9yKGY9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2Y+PTA7Zi0tKXRoaXMuY29udGFpbmVyc1tmXS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTtyZXR1cm4gbi51aS5kZG1hbmFnZXImJihuLnVpLmRkbWFuYWdlci5jdXJyZW50PXRoaXMpLG4udWkuZGRtYW5hZ2VyJiYhdS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuZHJhZ2dpbmc9ITAsdGhpcy5oZWxwZXIuYWRkQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpLHRoaXMuX21vdXNlRHJhZyh0KSwhMH0sX21vdXNlRHJhZzpmdW5jdGlvbih0KXt2YXIgZSx1LGYsbyxpPXRoaXMub3B0aW9ucyxyPSExO2Zvcih0aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCksdGhpcy5wb3NpdGlvbkFicz10aGlzLl9jb252ZXJ0UG9zaXRpb25UbygiYWJzb2x1dGUiKSx0aGlzLmxhc3RQb3NpdGlvbkFic3x8KHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMpLHRoaXMub3B0aW9ucy5zY3JvbGwmJih0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lIT09IkhUTUwiPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtpLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1pLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2kuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWkuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS1uKGRvY3VtZW50KS5zY3JvbGxUb3AoKTxpLnNjcm9sbFNlbnNpdGl2aXR5P3I9bihkb2N1bWVudCkuc2Nyb2xsVG9wKG4oZG9jdW1lbnQpLnNjcm9sbFRvcCgpLWkuc2Nyb2xsU3BlZWQpOm4od2luZG93KS5oZWlnaHQoKS0odC5wYWdlWS1uKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHI9bihkb2N1bWVudCkuc2Nyb2xsVG9wKG4oZG9jdW1lbnQpLnNjcm9sbFRvcCgpK2kuc2Nyb2xsU3BlZWQpKSx0LnBhZ2VYLW4oZG9jdW1lbnQpLnNjcm9sbExlZnQoKTxpLnNjcm9sbFNlbnNpdGl2aXR5P3I9bihkb2N1bWVudCkuc2Nyb2xsTGVmdChuKGRvY3VtZW50KS5zY3JvbGxMZWZ0KCktaS5zY3JvbGxTcGVlZCk6bih3aW5kb3cpLndpZHRoKCktKHQucGFnZVgtbihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj1uKGRvY3VtZW50KS5zY3JvbGxMZWZ0KG4oZG9jdW1lbnQpLnNjcm9sbExlZnQoKStpLnNjcm9sbFNwZWVkKSkpLHIhPT0hMSYmbi51aS5kZG1hbmFnZXImJiFpLmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHRoaXMsdCkpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5vcHRpb25zLmF4aXMmJnRoaXMub3B0aW9ucy5heGlzPT09InkifHwodGhpcy5oZWxwZXJbMF0uc3R5bGUubGVmdD10aGlzLnBvc2l0aW9uLmxlZnQrInB4IiksdGhpcy5vcHRpb25zLmF4aXMmJnRoaXMub3B0aW9ucy5heGlzPT09IngifHwodGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIpLGU9dGhpcy5pdGVtcy5sZW5ndGgtMTtlPj0wO2UtLSlpZigodT10aGlzLml0ZW1zW2VdLGY9dS5pdGVtWzBdLG89dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHUpLG8pJiZ1Lmluc3RhbmNlPT09dGhpcy5jdXJyZW50Q29udGFpbmVyJiZmIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5wbGFjZWhvbGRlcltvPT09MT8ibmV4dCI6InByZXYiXSgpWzBdIT09ZiYmIW4uY29udGFpbnModGhpcy5wbGFjZWhvbGRlclswXSxmKSYmKHRoaXMub3B0aW9ucy50eXBlPT09InNlbWktZHluYW1pYyI/IW4uY29udGFpbnModGhpcy5lbGVtZW50WzBdLGYpOiEwKSl7aWYodGhpcy5kaXJlY3Rpb249bz09PTE/ImRvd24iOiJ1cCIsdGhpcy5vcHRpb25zLnRvbGVyYW5jZT09PSJwb2ludGVyInx8dGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyh1KSl0aGlzLl9yZWFycmFuZ2UodCx1KTtlbHNlIGJyZWFrO3RoaXMuX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2goKSk7YnJlYWt9cmV0dXJuIHRoaXMuX2NvbnRhY3RDb250YWluZXJzKHQpLG4udWkuZGRtYW5hZ2VyJiZuLnVpLmRkbWFuYWdlci5kcmFnKHRoaXMsdCksdGhpcy5fdHJpZ2dlcigic29ydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5sYXN0UG9zaXRpb25BYnM9dGhpcy5wb3NpdGlvbkFicywhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0LGkpe2lmKHQpe2lmKG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJm4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSx0aGlzLm9wdGlvbnMucmV2ZXJ0KXt2YXIgZT10aGlzLGY9dGhpcy5wbGFjZWhvbGRlci5vZmZzZXQoKSxyPXRoaXMub3B0aW9ucy5heGlzLHU9e307ciYmciE9PSJ4Inx8KHUubGVmdD1mLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQtdGhpcy5tYXJnaW5zLmxlZnQrKHRoaXMub2Zmc2V0UGFyZW50WzBdPT09ZG9jdW1lbnQuYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKTtyJiZyIT09InkifHwodS50b3A9Zi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHk/MDp0aGlzLm9mZnNldFBhcmVudFswXS5zY3JvbGxUb3ApKTt0aGlzLnJldmVydGluZz0hMDtuKHRoaXMuaGVscGVyKS5hbmltYXRlKHUscGFyc2VJbnQodGhpcy5vcHRpb25zLnJldmVydCwxMCl8fDUwMCxmdW5jdGlvbigpe2UuX2NsZWFyKHQpfSl9ZWxzZSB0aGlzLl9jbGVhcih0LGkpO3JldHVybiExfX0sY2FuY2VsOmZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnZ2luZyl7dGhpcy5fbW91c2VVcCh7dGFyZ2V0Om51bGx9KTt0aGlzLm9wdGlvbnMuaGVscGVyPT09Im9yaWdpbmFsIj90aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKTp0aGlzLmN1cnJlbnRJdGVtLnNob3coKTtmb3IodmFyIHQ9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuY29udGFpbmVyc1t0XS5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyJiYodGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJvdXQiLG51bGwsdGhpcy5fdWlIYXNoKHRoaXMpKSx0aGlzLmNvbnRhaW5lcnNbdF0uY29udGFpbmVyQ2FjaGUub3Zlcj0wKX1yZXR1cm4gdGhpcy5wbGFjZWhvbGRlciYmKHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pLHRoaXMub3B0aW9ucy5oZWxwZXIhPT0ib3JpZ2luYWwiJiZ0aGlzLmhlbHBlciYmdGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSYmdGhpcy5oZWxwZXIucmVtb3ZlKCksbi5leHRlbmQodGhpcyx7aGVscGVyOm51bGwsZHJhZ2dpbmc6ITEscmV2ZXJ0aW5nOiExLF9ub0ZpbmFsU29ydDpudWxsfSksdGhpcy5kb21Qb3NpdGlvbi5wcmV2P24odGhpcy5kb21Qb3NpdGlvbi5wcmV2KS5hZnRlcih0aGlzLmN1cnJlbnRJdGVtKTpuKHRoaXMuZG9tUG9zaXRpb24ucGFyZW50KS5wcmVwZW5kKHRoaXMuY3VycmVudEl0ZW0pKSx0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxuKHIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj0obih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIikubWF0Y2godC5leHByZXNzaW9ufHwvKC4rKVtcLT1fXSguKykvKTtyJiZpLnB1c2goKHQua2V5fHxyWzFdKyJbXSIpKyI9IisodC5rZXkmJnQuZXhwcmVzc2lvbj9yWzFdOnJbMl0pKX0pLCFpLmxlbmd0aCYmdC5rZXkmJmkucHVzaCh0LmtleSsiPSIpLGkuam9pbigiJiIpfSx0b0FycmF5OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldEl0ZW1zQXNqUXVlcnkodCYmdC5jb25uZWN0ZWQpLGk9W107cmV0dXJuIHQ9dHx8e30sci5lYWNoKGZ1bmN0aW9uKCl7aS5wdXNoKG4odC5pdGVtfHx0aGlzKS5hdHRyKHQuYXR0cmlidXRlfHwiaWQiKXx8IiIpfSksaX0sX2ludGVyc2VjdHNXaXRoOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMucG9zaXRpb25BYnMubGVmdCxoPXQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aCxpPXRoaXMucG9zaXRpb25BYnMudG9wLGM9aSt0aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxyPW4ubGVmdCxmPXIrbi53aWR0aCx1PW4udG9wLGU9dStuLmhlaWdodCxvPXRoaXMub2Zmc2V0LmNsaWNrLnRvcCxzPXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbD10aGlzLm9wdGlvbnMuYXhpcz09PSJ4Inx8aStvPnUmJmkrbzxlLGE9dGhpcy5vcHRpb25zLmF4aXM9PT0ieSJ8fHQrcz5yJiZ0K3M8Zix2PWwmJmE7cmV0dXJuIHRoaXMub3B0aW9ucy50b2xlcmFuY2U9PT0icG9pbnRlciJ8fHRoaXMub3B0aW9ucy5mb3JjZVBvaW50ZXJGb3JDb250YWluZXJzfHx0aGlzLm9wdGlvbnMudG9sZXJhbmNlIT09InBvaW50ZXIiJiZ0aGlzLmhlbHBlclByb3BvcnRpb25zW3RoaXMuZmxvYXRpbmc/IndpZHRoIjoiaGVpZ2h0Il0+blt0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdP3Y6cjx0K3RoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMiYmaC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzI8ZiYmdTxpK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzImJmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMjxlfSxfaW50ZXJzZWN0c1dpdGhQb2ludGVyOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMub3B0aW9ucy5heGlzPT09IngifHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCxuLmhlaWdodCksdT10aGlzLm9wdGlvbnMuYXhpcz09PSJ5Inx8dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCxuLmxlZnQsbi53aWR0aCksZj1yJiZ1LHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO3JldHVybiBmP3RoaXMuZmxvYXRpbmc/aSYmaT09PSJyaWdodCJ8fHQ9PT0iZG93biI/MjoxOnQmJih0PT09ImRvd24iPzI6MSk6ITF9LF9pbnRlcnNlY3RzV2l0aFNpZGVzOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLG4udG9wK24uaGVpZ2h0LzIsbi5oZWlnaHQpLHU9dGhpcy5faXNPdmVyQXhpcyh0aGlzLnBvc2l0aW9uQWJzLmxlZnQrdGhpcy5vZmZzZXQuY2xpY2subGVmdCxuLmxlZnQrbi53aWR0aC8yLG4ud2lkdGgpLHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpO3JldHVybiB0aGlzLmZsb2F0aW5nJiZpP2k9PT0icmlnaHQiJiZ1fHxpPT09ImxlZnQiJiYhdTp0JiYodD09PSJkb3duIiYmcnx8dD09PSJ1cCImJiFyKX0sX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMucG9zaXRpb25BYnMudG9wLXRoaXMubGFzdFBvc2l0aW9uQWJzLnRvcDtyZXR1cm4gbiE9PTAmJihuPjA/ImRvd24iOiJ1cCIpfSxfZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLmxlZnQtdGhpcy5sYXN0UG9zaXRpb25BYnMubGVmdDtyZXR1cm4gbiE9PTAmJihuPjA/InJpZ2h0IjoibGVmdCIpfSxyZWZyZXNoOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9yZWZyZXNoSXRlbXMobiksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpc30sX2Nvbm5lY3RXaXRoOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zO3JldHVybiBuLmNvbm5lY3RXaXRoLmNvbnN0cnVjdG9yPT09U3RyaW5nP1tuLmNvbm5lY3RXaXRoXTpuLmNvbm5lY3RXaXRofSxfZ2V0SXRlbXNBc2pRdWVyeTpmdW5jdGlvbih0KXtmdW5jdGlvbiBoKCl7cy5wdXNoKHRoaXMpfXZhciByLHUsZSxpLHM9W10sZj1bXSxvPXRoaXMuX2Nvbm5lY3RXaXRoKCk7aWYobyYmdClmb3Iocj1vLmxlbmd0aC0xO3I+PTA7ci0tKWZvcihlPW4ob1tyXSksdT1lLmxlbmd0aC0xO3U+PTA7dS0tKWk9bi5kYXRhKGVbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSksaSYmaSE9PXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLHI9Zi5sZW5ndGgtMTtyPj0wO3ItLSlmW3JdWzBdLmVhY2goaCk7cmV0dXJuIG4ocyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9bi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXT09PW4uaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W107dGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgcix1LGUsaSxvLHMsaCxsLGE9dGhpcy5pdGVtcyxmPVtbbi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGM9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihjJiZ0aGlzLnJlYWR5KWZvcihyPWMubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihjW3JdKSx1PWUubGVuZ3RoLTE7dT49MDt1LS0paT1uLmRhdGEoZVt1XSx0aGlzLndpZGdldEZ1bGxOYW1lKSxpJiZpIT09dGhpcyYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKGYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4oaS5vcHRpb25zLml0ZW1zLGkuZWxlbWVudCksaV0pLHRoaXMuY29udGFpbmVycy5wdXNoKGkpKTtmb3Iocj1mLmxlbmd0aC0xO3I+PTA7ci0tKWZvcihvPWZbcl1bMV0scz1mW3JdWzBdLHU9MCxsPXMubGVuZ3RoO3U8bDt1KyspaD1uKHNbdV0pLGguZGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIixvKSxhLnB1c2goe2l0ZW06aCxpbnN0YW5jZTpvLHdpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHRvcDowfSl9LHJlZnJlc2hQb3NpdGlvbnM6ZnVuY3Rpb24odCl7dGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTtmb3IodmFyIHIsZix1LGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSkocj10aGlzLml0ZW1zW2ldLHIuaW5zdGFuY2UhPT10aGlzLmN1cnJlbnRDb250YWluZXImJnRoaXMuY3VycmVudENvbnRhaW5lciYmci5pdGVtWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSl8fChmPXRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50P24odGhpcy5vcHRpb25zLnRvbGVyYW5jZUVsZW1lbnQsci5pdGVtKTpyLml0ZW0sdHx8KHIud2lkdGg9Zi5vdXRlcldpZHRoKCksci5oZWlnaHQ9Zi5vdXRlckhlaWdodCgpKSx1PWYub2Zmc2V0KCksci5sZWZ0PXUubGVmdCxyLnRvcD11LnRvcCk7aWYodGhpcy5vcHRpb25zLmN1c3RvbSYmdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycyl0aGlzLm9wdGlvbnMuY3VzdG9tLnJlZnJlc2hDb250YWluZXJzLmNhbGwodGhpcyk7ZWxzZSBmb3IoaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pdT10aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudC5vZmZzZXQoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUubGVmdD11LmxlZnQsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLnRvcD11LnRvcCx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUud2lkdGg9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub3V0ZXJXaWR0aCgpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5oZWlnaHQ9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTtyZXR1cm4gdGhpc30sX2NyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQpe3Q9dHx8dGhpczt2YXIgcixpPXQub3B0aW9ucztpLnBsYWNlaG9sZGVyJiZpLnBsYWNlaG9sZGVyLmNvbnN0cnVjdG9yIT09U3RyaW5nfHwocj1pLnBsYWNlaG9sZGVyLGkucGxhY2Vob2xkZXI9e2VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdT10LmN1cnJlbnRJdGVtWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaT1uKCI8Iit1KyI+Iix0LmRvY3VtZW50WzBdKS5hZGRDbGFzcyhyfHx0LmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSsiIHVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIikucmVtb3ZlQ2xhc3MoInVpLXNvcnRhYmxlLWhlbHBlciIpO3JldHVybiB1PT09InRyIj90LmN1cnJlbnRJdGVtLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe24oIjx0ZD4mIzE2MDs8XC90ZD4iLHQuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhpKX0pOnU9PT0iaW1nIiYmaS5hdHRyKCJzcmMiLHQuY3VycmVudEl0ZW0uYXR0cigic3JjIikpLHJ8fGkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIiksaX0sdXBkYXRlOmZ1bmN0aW9uKG4sdSl7KCFyfHxpLmZvcmNlUGxhY2Vob2xkZXJTaXplKSYmKHUuaGVpZ2h0KCl8fHUuaGVpZ2h0KHQuY3VycmVudEl0ZW0uaW5uZXJIZWlnaHQoKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1RvcCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ0JvdHRvbSIpfHwwLDEwKSksdS53aWR0aCgpfHx1LndpZHRoKHQuY3VycmVudEl0ZW0uaW5uZXJXaWR0aCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nTGVmdCIpfHwwLDEwKS1wYXJzZUludCh0LmN1cnJlbnRJdGVtLmNzcygicGFkZGluZ1JpZ2h0Iil8fDAsMTApKSl9fSk7dC5wbGFjZWhvbGRlcj1uKGkucGxhY2Vob2xkZXIuZWxlbWVudC5jYWxsKHQuZWxlbWVudCx0LmN1cnJlbnRJdGVtKSk7dC5jdXJyZW50SXRlbS5hZnRlcih0LnBsYWNlaG9sZGVyKTtpLnBsYWNlaG9sZGVyLnVwZGF0ZSh0LHQucGxhY2Vob2xkZXIpfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7Zm9yKHZhciB1LGMsZixhLHYsbyxsLHMsaCxlPW51bGwsaT1udWxsLHI9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKCFuLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZSkpe2lmKGUmJm4uY29udGFpbnModGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0sZS5lbGVtZW50WzBdKSljb250aW51ZTtlPXRoaXMuY29udGFpbmVyc1tyXTtpPXJ9ZWxzZSB0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tyXS5fdHJpZ2dlcigib3V0Iix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZSlpZih0aGlzLmNvbnRhaW5lcnMubGVuZ3RoPT09MSl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGM9MWU0LGY9bnVsbCxzPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSksYT1zPyJsZWZ0IjoidG9wIix2PXM/IndpZHRoIjoiaGVpZ2h0IixoPXM/ImNsaWVudFgiOiJjbGllbnRZIix1PXRoaXMuaXRlbXMubGVuZ3RoLTE7dT49MDt1LS0pbi5jb250YWlucyh0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudFswXSx0aGlzLml0ZW1zW3VdLml0ZW1bMF0pJiZ0aGlzLml0ZW1zW3VdLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiYobz10aGlzLml0ZW1zW3VdLml0ZW0ub2Zmc2V0KClbYV0sbD0hMSx0W2hdLW8+dGhpcy5pdGVtc1t1XVt2XS8yJiYobD0hMCksTWF0aC5hYnModFtoXS1vKTxjJiYoYz1NYXRoLmFicyh0W2hdLW8pLGY9dGhpcy5pdGVtc1t1XSx0aGlzLmRpcmVjdGlvbj1sPyJ1cCI6ImRvd24iKSk7aWYoIWYmJiF0aGlzLm9wdGlvbnMuZHJvcE9uRW1wdHkpcmV0dXJuO2lmKHRoaXMuY3VycmVudENvbnRhaW5lcj09PXRoaXMuY29udGFpbmVyc1tpXSl7dGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXJ8fCh0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMuY3VycmVudENvbnRhaW5lci5jb250YWluZXJDYWNoZS5vdmVyPTEpO3JldHVybn1mP3RoaXMuX3JlYXJyYW5nZSh0LGYsbnVsbCwhMCk6dGhpcy5fcmVhcnJhbmdlKHQsbnVsbCx0aGlzLmNvbnRhaW5lcnNbaV0uZWxlbWVudCwhMCk7dGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCgpKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoImNoYW5nZSIsdCx0aGlzLl91aUhhc2godGhpcykpO3RoaXMuY3VycmVudENvbnRhaW5lcj10aGlzLmNvbnRhaW5lcnNbaV07dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLnVwZGF0ZSh0aGlzLmN1cnJlbnRDb250YWluZXIsdGhpcy5wbGFjZWhvbGRlcik7dGhpcy5jb250YWluZXJzW2ldLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXI9MX19LF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5vcHRpb25zLGk9bi5pc0Z1bmN0aW9uKHIuaGVscGVyKT9uKHIuaGVscGVyLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbdCx0aGlzLmN1cnJlbnRJdGVtXSkpOnIuaGVscGVyPT09ImNsb25lIj90aGlzLmN1cnJlbnRJdGVtLmNsb25lKCk6dGhpcy5jdXJyZW50SXRlbTtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxuKHIuYXBwZW5kVG8hPT0icGFyZW50Ij9yLmFwcGVuZFRvOnRoaXMuY3VycmVudEl0ZW1bMF0ucGFyZW50Tm9kZSlbMF0uYXBwZW5kQ2hpbGQoaVswXSksaVswXT09PXRoaXMuY3VycmVudEl0ZW1bMF0mJih0aGlzLl9zdG9yZWRDU1M9e3dpZHRoOnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUud2lkdGgsaGVpZ2h0OnRoaXMuY3VycmVudEl0ZW1bMF0uc3R5bGUuaGVpZ2h0LHBvc2l0aW9uOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJwb3NpdGlvbiIpLHRvcDp0aGlzLmN1cnJlbnRJdGVtLmNzcygidG9wIiksbGVmdDp0aGlzLmN1cnJlbnRJdGVtLmNzcygibGVmdCIpfSksKCFpWzBdLnN0eWxlLndpZHRofHxyLmZvcmNlSGVscGVyU2l6ZSkmJmkud2lkdGgodGhpcy5jdXJyZW50SXRlbS53aWR0aCgpKSwoIWlbMF0uc3R5bGUuaGVpZ2h0fHxyLmZvcmNlSGVscGVyU2l6ZSkmJmkuaGVpZ2h0KHRoaXMuY3VycmVudEl0ZW0uaGVpZ2h0KCkpLGl9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpe3R5cGVvZiB0PT0ic3RyaW5nIiYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3RoaXMub2Zmc2V0UGFyZW50PXRoaXMuaGVscGVyLm9mZnNldFBhcmVudCgpO3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpO3JldHVybiB0aGlzLmNzc1Bvc2l0aW9uPT09ImFic29sdXRlIiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1kb2N1bWVudCYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PWRvY3VtZW50LmJvZHl8fHRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUmJnRoaXMub2Zmc2V0UGFyZW50WzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PSJodG1sIiYmbi51aS5pZSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5jc3NQb3NpdGlvbj09PSJyZWxhdGl2ZSIpe3ZhciBuPXRoaXMuY3VycmVudEl0ZW0ucG9zaXRpb24oKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpfX1yZXR1cm57dG9wOjAsbGVmdDowfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luTGVmdCIpLDEwKXx8MCx0b3A6cGFyc2VJbnQodGhpcy5jdXJyZW50SXRlbS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIHQscix1LGk9dGhpcy5vcHRpb25zO2kuY29udGFpbm1lbnQ9PT0icGFyZW50IiYmKGkuY29udGFpbm1lbnQ9dGhpcy5oZWxwZXJbMF0ucGFyZW50Tm9kZSk7KGkuY29udGFpbm1lbnQ9PT0iZG9jdW1lbnQifHxpLmNvbnRhaW5tZW50PT09IndpbmRvdyIpJiYodGhpcy5jb250YWlubWVudD1bMC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LDAtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3AsbihpLmNvbnRhaW5tZW50PT09ImRvY3VtZW50Ij9kb2N1bWVudDp3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCwobihpLmNvbnRhaW5tZW50PT09ImRvY3VtZW50Ij9kb2N1bWVudDp3aW5kb3cpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSk7L14oZG9jdW1lbnR8d2luZG93fHBhcmVudCkkLy50ZXN0KGkuY29udGFpbm1lbnQpfHwodD1uKGkuY29udGFpbm1lbnQpWzBdLHI9bihpLmNvbnRhaW5tZW50KS5vZmZzZXQoKSx1PW4odCkuY3NzKCJvdmVyZmxvdyIpIT09ImhpZGRlbiIsdGhpcy5jb250YWlubWVudD1bci5sZWZ0KyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKS10aGlzLm1hcmdpbnMubGVmdCxyLnRvcCsocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLXRoaXMubWFyZ2lucy50b3Asci5sZWZ0Kyh1P01hdGgubWF4KHQuc2Nyb2xsV2lkdGgsdC5vZmZzZXRXaWR0aCk6dC5vZmZzZXRXaWR0aCktKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApLShwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1JpZ2h0IiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyh1P01hdGgubWF4KHQuc2Nyb2xsSGVpZ2h0LHQub2Zmc2V0SGVpZ2h0KTp0Lm9mZnNldEhlaWdodCktKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJUb3BXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nQm90dG9tIiksMTApfHwwKS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSl9LF9jb252ZXJ0UG9zaXRpb25UbzpmdW5jdGlvbih0LGkpe2l8fChpPXRoaXMucG9zaXRpb24pO3ZhciByPXQ9PT0iYWJzb2x1dGUiPzE6LTEsdT10aGlzLmNzc1Bvc2l0aW9uPT09ImFic29sdXRlIiYmISh0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSk/dGhpcy5vZmZzZXRQYXJlbnQ6dGhpcy5zY3JvbGxQYXJlbnQsZj0vKGh0bWx8Ym9keSkvaS50ZXN0KHVbMF0udGFnTmFtZSk7cmV0dXJue3RvcDppLnRvcCt0aGlzLm9mZnNldC5yZWxhdGl2ZS50b3Aqcit0aGlzLm9mZnNldC5wYXJlbnQudG9wKnItKHRoaXMuY3NzUG9zaXRpb249PT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKTpmPzA6dS5zY3JvbGxUb3AoKSkqcixsZWZ0OmkubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KnIrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqci0odGhpcy5jc3NQb3NpdGlvbj09PSJmaXhlZCI/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKTpmPzA6dS5zY3JvbGxMZWZ0KCkpKnJ9fSxfZ2VuZXJhdGVQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgcix1LGk9dGhpcy5vcHRpb25zLGY9dC5wYWdlWCxlPXQucGFnZVksbz10aGlzLmNzc1Bvc2l0aW9uPT09ImFic29sdXRlIiYmISh0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSk/dGhpcy5vZmZzZXRQYXJlbnQ6dGhpcy5zY3JvbGxQYXJlbnQscz0vKGh0bWx8Ym9keSkvaS50ZXN0KG9bMF0udGFnTmFtZSk7cmV0dXJuIHRoaXMuY3NzUG9zaXRpb24hPT0icmVsYXRpdmUifHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PWRvY3VtZW50JiZ0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMub2Zmc2V0UGFyZW50WzBdfHwodGhpcy5vZmZzZXQucmVsYXRpdmU9dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKSksdGhpcy5vcmlnaW5hbFBvc2l0aW9uJiYodGhpcy5jb250YWlubWVudCYmKHQucGFnZVgtdGhpcy5vZmZzZXQuY2xpY2subGVmdDx0aGlzLmNvbnRhaW5tZW50WzBdJiYoZj10aGlzLmNvbnRhaW5tZW50WzBdK3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQpLHQucGFnZVktdGhpcy5vZmZzZXQuY2xpY2sudG9wPHRoaXMuY29udGFpbm1lbnRbMV0mJihlPXRoaXMuY29udGFpbm1lbnRbMV0rdGhpcy5vZmZzZXQuY2xpY2sudG9wKSx0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+dGhpcy5jb250YWlubWVudFsyXSYmKGY9dGhpcy5jb250YWlubWVudFsyXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcD50aGlzLmNvbnRhaW5tZW50WzNdJiYoZT10aGlzLmNvbnRhaW5tZW50WzNdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCkpLGkuZ3JpZCYmKHI9dGhpcy5vcmlnaW5hbFBhZ2VZK01hdGgucm91bmQoKGUtdGhpcy5vcmlnaW5hbFBhZ2VZKS9pLmdyaWRbMV0pKmkuZ3JpZFsxXSxlPXRoaXMuY29udGFpbm1lbnQ/ci10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0mJnItdGhpcy5vZmZzZXQuY2xpY2sudG9wPD10aGlzLmNvbnRhaW5tZW50WzNdP3I6ci10aGlzLm9mZnNldC5jbGljay50b3A+PXRoaXMuY29udGFpbm1lbnRbMV0/ci1pLmdyaWRbMV06citpLmdyaWRbMV06cix1PXRoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChmLXRoaXMub3JpZ2luYWxQYWdlWCkvaS5ncmlkWzBdKSppLmdyaWRbMF0sZj10aGlzLmNvbnRhaW5tZW50P3UtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXSYmdS10aGlzLm9mZnNldC5jbGljay5sZWZ0PD10aGlzLmNvbnRhaW5tZW50WzJdP3U6dS10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj10aGlzLmNvbnRhaW5tZW50WzBdP3UtaS5ncmlkWzBdOnUraS5ncmlkWzBdOnUpKSx7dG9wOmUtdGhpcy5vZmZzZXQuY2xpY2sudG9wLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wKyh0aGlzLmNzc1Bvc2l0aW9uPT09ImZpeGVkIj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6cz8wOm8uc2Nyb2xsVG9wKCkpLGxlZnQ6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0LXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQrKHRoaXMuY3NzUG9zaXRpb249PT0iZml4ZWQiPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6cz8wOm8uc2Nyb2xsTGVmdCgpKX19LF9yZWFycmFuZ2U6ZnVuY3Rpb24obix0LGkscil7aT9pWzBdLmFwcGVuZENoaWxkKHRoaXMucGxhY2Vob2xkZXJbMF0pOnQuaXRlbVswXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnBsYWNlaG9sZGVyWzBdLHRoaXMuZGlyZWN0aW9uPT09ImRvd24iP3QuaXRlbVswXTp0Lml0ZW1bMF0ubmV4dFNpYmxpbmcpO3RoaXMuY291bnRlcj10aGlzLmNvdW50ZXI/Kyt0aGlzLmNvdW50ZXI6MTt2YXIgdT10aGlzLmNvdW50ZXI7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt1PT09dGhpcy5jb3VudGVyJiZ0aGlzLnJlZnJlc2hQb3NpdGlvbnMoIXIpfSl9LF9jbGVhcjpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHUobix0LGkpe3JldHVybiBmdW5jdGlvbihyKXtpLl90cmlnZ2VyKG4scix0Ll91aUhhc2godCkpfX10aGlzLnJldmVydGluZz0hMTt2YXIgaSxyPVtdO2lmKCF0aGlzLl9ub0ZpbmFsU29ydCYmdGhpcy5jdXJyZW50SXRlbS5wYXJlbnQoKS5sZW5ndGgmJnRoaXMucGxhY2Vob2xkZXIuYmVmb3JlKHRoaXMuY3VycmVudEl0ZW0pLHRoaXMuX25vRmluYWxTb3J0PW51bGwsdGhpcy5oZWxwZXJbMF09PT10aGlzLmN1cnJlbnRJdGVtWzBdKXtmb3IoaSBpbiB0aGlzLl9zdG9yZWRDU1MpKHRoaXMuX3N0b3JlZENTU1tpXT09PSJhdXRvInx8dGhpcy5fc3RvcmVkQ1NTW2ldPT09InN0YXRpYyIpJiYodGhpcy5fc3RvcmVkQ1NTW2ldPSIiKTt0aGlzLmN1cnJlbnRJdGVtLmNzcyh0aGlzLl9zdG9yZWRDU1MpLnJlbW92ZUNsYXNzKCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhdCYmci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLG4sdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCh0aGlzLmZyb21PdXRzaWRlfHx0aGlzLmRvbVBvc2l0aW9uLnByZXYhPT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXXx8dGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQhPT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdKSYmIXQmJnIucHVzaChmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKCJ1cGRhdGUiLG4sdGhpcy5fdWlIYXNoKCkpfSksdGhpcyE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmKHR8fChyLnB1c2goZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcigicmVtb3ZlIixuLHRoaXMuX3VpSGFzaCgpKX0pLHIucHVzaChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7bi5fdHJpZ2dlcigicmVjZWl2ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpLHIucHVzaChmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7bi5fdHJpZ2dlcigidXBkYXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSl9fS5jYWxsKHRoaXMsdGhpcy5jdXJyZW50Q29udGFpbmVyKSkpKSxpPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl0fHxyLnB1c2godSgiZGVhY3RpdmF0ZSIsdGhpcyx0aGlzLmNvbnRhaW5lcnNbaV0pKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHIucHVzaCh1KCJvdXQiLHRoaXMsdGhpcy5jb250YWluZXJzW2ldKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYodGhpcy5zdG9yZWRDdXJzb3ImJih0aGlzLmRvY3VtZW50LmZpbmQoImJvZHkiKS5jc3MoImN1cnNvciIsdGhpcy5zdG9yZWRDdXJzb3IpLHRoaXMuc3RvcmVkU3R5bGVzaGVldC5yZW1vdmUoKSksdGhpcy5fc3RvcmVkT3BhY2l0eSYmdGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5Iix0aGlzLl9zdG9yZWRPcGFjaXR5KSx0aGlzLl9zdG9yZWRaSW5kZXgmJnRoaXMuaGVscGVyLmNzcygiekluZGV4Iix0aGlzLl9zdG9yZWRaSW5kZXg9PT0iYXV0byI/IiI6dGhpcy5fc3RvcmVkWkluZGV4KSx0aGlzLmRyYWdnaW5nPSExLHR8fHRoaXMuX3RyaWdnZXIoImJlZm9yZVN0b3AiLG4sdGhpcy5fdWlIYXNoKCkpLHRoaXMucGxhY2Vob2xkZXJbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKSx0aGlzLmNhbmNlbEhlbHBlclJlbW92YWx8fCh0aGlzLmhlbHBlclswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJnRoaXMuaGVscGVyLnJlbW92ZSgpLHRoaXMuaGVscGVyPW51bGwpLCF0KXtmb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXJbaV0uY2FsbCh0aGlzLG4pO3RoaXMuX3RyaWdnZXIoInN0b3AiLG4sdGhpcy5fdWlIYXNoKCkpfXJldHVybiB0aGlzLmZyb21PdXRzaWRlPSExLCF0aGlzLmNhbmNlbEhlbHBlclJlbW92YWx9LF90cmlnZ2VyOmZ1bmN0aW9uKCl7bi5XaWRnZXQucHJvdG90eXBlLl90cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKT09PSExJiZ0aGlzLmNhbmNlbCgpfSxfdWlIYXNoOmZ1bmN0aW9uKHQpe3ZhciBpPXR8fHRoaXM7cmV0dXJue2hlbHBlcjppLmhlbHBlcixwbGFjZWhvbGRlcjppLnBsYWNlaG9sZGVyfHxuKFtdKSxwb3NpdGlvbjppLnBvc2l0aW9uLG9yaWdpbmFsUG9zaXRpb246aS5vcmlnaW5hbFBvc2l0aW9uLG9mZnNldDppLnBvc2l0aW9uQWJzLGl0ZW06aS5jdXJyZW50SXRlbSxzZW5kZXI6dD90LmVsZW1lbnQ6bnVsbH19fSk7Ci8qIQogKiBqUXVlcnkgVUkgU3Bpbm5lciAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS9zcGlubmVyLwogKi8KbGk9bi53aWRnZXQoInVpLnNwaW5uZXIiLHt2ZXJzaW9uOiIxLjExLjIiLGRlZmF1bHRFbGVtZW50OiI8aW5wdXQ+Iix3aWRnZXRFdmVudFByZWZpeDoic3BpbiIsb3B0aW9uczp7Y3VsdHVyZTpudWxsLGljb25zOntkb3duOiJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIsdXA6InVpLWljb24tdHJpYW5nbGUtMS1uIn0saW5jcmVtZW50YWw6ITAsbWF4Om51bGwsbWluOm51bGwsbnVtYmVyRm9ybWF0Om51bGwscGFnZToxMCxzdGVwOjEsY2hhbmdlOm51bGwsc3BpbjpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc2V0T3B0aW9uKCJtYXgiLHRoaXMub3B0aW9ucy5tYXgpO3RoaXMuX3NldE9wdGlvbigibWluIix0aGlzLm9wdGlvbnMubWluKTt0aGlzLl9zZXRPcHRpb24oInN0ZXAiLHRoaXMub3B0aW9ucy5zdGVwKTt0aGlzLnZhbHVlKCkhPT0iIiYmdGhpcy5fdmFsdWUodGhpcy5lbGVtZW50LnZhbCgpLCEwKTt0aGlzLl9kcmF3KCk7dGhpcy5fb24odGhpcy5fZXZlbnRzKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgdD17fSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gbi5lYWNoKFsibWluIiwibWF4Iiwic3RlcCJdLGZ1bmN0aW9uKG4scil7dmFyIHU9aS5hdHRyKHIpO3UhPT11bmRlZmluZWQmJnUubGVuZ3RoJiYodFtyXT11KX0pLHR9LF9ldmVudHM6e2tleWRvd246ZnVuY3Rpb24obil7dGhpcy5fc3RhcnQobikmJnRoaXMuX2tleWRvd24obikmJm4ucHJldmVudERlZmF1bHQoKX0sa2V5dXA6Il9zdG9wIixmb2N1czpmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dGhpcy5lbGVtZW50LnZhbCgpfSxibHVyOmZ1bmN0aW9uKG4pe2lmKHRoaXMuY2FuY2VsQmx1cil7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyZXR1cm59dGhpcy5fc3RvcCgpO3RoaXMuX3JlZnJlc2goKTt0aGlzLnByZXZpb3VzIT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4pfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKG4sdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChuKSlyZXR1cm4hMTt0aGlzLl9zcGluKCh0PjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsbik7Y2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKTt0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3Aobil9LDEwMCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0sIm1vdXNlZG93biAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgbj10aGlzLmVsZW1lbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ7bnx8KHRoaXMuZWxlbWVudC5mb2N1cygpLHRoaXMucHJldmlvdXM9aSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9aX0pKX12YXIgaTsoaT10aGlzLmVsZW1lbnRbMF09PT10aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQ/dGhpcy5wcmV2aW91czp0aGlzLmVsZW1lbnQudmFsKCksdC5wcmV2ZW50RGVmYXVsdCgpLHIuY2FsbCh0aGlzKSx0aGlzLmNhbmNlbEJsdXI9ITAsdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3IuY2FsbCh0aGlzKX0pLHRoaXMuX3N0YXJ0KHQpIT09ITEpJiZ0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtpZihuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKXtpZih0aGlzLl9zdGFydCh0KT09PSExKXJldHVybiExO3RoaXMuX3JlcGVhdChudWxsLG4odC5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygidWktc3Bpbm5lci11cCIpPzE6LTEsdCl9fSwibW91c2VsZWF2ZSAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCJ9LF9kcmF3OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy51aVNwaW5uZXI9dGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1zcGlubmVyLWlucHV0IikuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwic3BpbmJ1dHRvbiIpO3RoaXMuYnV0dG9ucz1uLmZpbmQoIi51aS1zcGlubmVyLWJ1dHRvbiIpLmF0dHIoInRhYkluZGV4IiwtMSkuYnV0dG9uKCkucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1hbGwiKTt0aGlzLmJ1dHRvbnMuaGVpZ2h0KCk+TWF0aC5jZWlsKG4uaGVpZ2h0KCkqLjUpJiZuLmhlaWdodCgpPjAmJm4uaGVpZ2h0KG4uaGVpZ2h0KCkpO3RoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5kaXNhYmxlKCl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyxpPW4udWkua2V5Q29kZTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsdCksITA7Y2FzZSBpLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLHQpLCEwO2Nhc2UgaS5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxyLnBhZ2UsdCksITA7Y2FzZSBpLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLXIucGFnZSx0KSwhMH1yZXR1cm4hMX0sX3VpU3Bpbm5lckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPHNwYW4gY2xhc3M9J3VpLXNwaW5uZXIgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwnPjxcL3NwYW4+In0sX2J1dHRvbkh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4iPGEgY2xhc3M9J3VpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItdXAgdWktY29ybmVyLXRyJz48c3BhbiBjbGFzcz0ndWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy51cCsiJz4mIzk2NTA7PFwvc3Bhbj48XC9hPjxhIGNsYXNzPSd1aS1zcGlubmVyLWJ1dHRvbiB1aS1zcGlubmVyLWRvd24gdWktY29ybmVyLWJyJz48c3BhbiBjbGFzcz0ndWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5kb3duKyInPiYjOTY2MDs8XC9zcGFuPjxcL2E+In0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiF0aGlzLnNwaW5uaW5nJiZ0aGlzLl90cmlnZ2VyKCJzdGFydCIsbik9PT0hMT8hMToodGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApfSxfcmVwZWF0OmZ1bmN0aW9uKG4sdCxpKXtuPW58fDUwMDtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxuKTt0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKTtpPXRoaXMuX2FkanVzdFZhbHVlKGkrbip0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSk7dGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP24uaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNWU0LXQqdC81MDArMTcqdC8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gdGhpcy5vcHRpb25zLm1pbiE9PW51bGwmJihuPU1hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSxufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9bi50b1N0cmluZygpLGk9dC5pbmRleE9mKCIuIik7cmV0dXJuIGk9PT0tMT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciByLGksdD10aGlzLm9wdGlvbnM7cmV0dXJuKHI9dC5taW4hPT1udWxsP3QubWluOjAsaT1uLXIsaT1NYXRoLnJvdW5kKGkvdC5zdGVwKSp0LnN0ZXAsbj1yK2ksbj1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLHQubWF4IT09bnVsbCYmbj50Lm1heCk/dC5tYXg6dC5taW4hPT1udWxsJiZuPHQubWluP3QubWluOm59LF9zdG9wOmZ1bmN0aW9uKG4pe3RoaXMuc3Bpbm5pbmcmJihjbGVhclRpbWVvdXQodGhpcy50aW1lciksY2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKSx0aGlzLmNvdW50ZXI9MCx0aGlzLnNwaW5uaW5nPSExLHRoaXMuX3RyaWdnZXIoInN0b3AiLG4pKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKG49PT0iY3VsdHVyZSJ8fG49PT0ibnVtYmVyRm9ybWF0Iil7dmFyIGk9dGhpcy5fcGFyc2UodGhpcy5lbGVtZW50LnZhbCgpKTt0aGlzLm9wdGlvbnNbbl09dDt0aGlzLmVsZW1lbnQudmFsKHRoaXMuX2Zvcm1hdChpKSk7cmV0dXJufShuPT09Im1heCJ8fG49PT0ibWluInx8bj09PSJzdGVwIikmJnR5cGVvZiB0PT0ic3RyaW5nIiYmKHQ9dGhpcy5fcGFyc2UodCkpO249PT0iaWNvbnMiJiYodGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMudXApLmFkZENsYXNzKHQudXApLHRoaXMuYnV0dG9ucy5sYXN0KCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuaWNvbnMuZG93bikuYWRkQ2xhc3ModC5kb3duKSk7dGhpcy5fc3VwZXIobix0KTtuPT09ImRpc2FibGVkIiYmKHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIiwhIXQpLHRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsISF0KSx0aGlzLmJ1dHRvbnMuYnV0dG9uKHQ/ImRpc2FibGUiOiJlbmFibGUiKSl9LF9zZXRPcHRpb25zOnQoZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobil9KSxfcGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIiYmbiE9PSIiJiYobj13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituKSxuPT09IiJ8fGlzTmFOKG4pP251bGw6bn0sX2Zvcm1hdDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PSIiPyIiOndpbmRvdy5HbG9iYWxpemUmJnRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQ/R2xvYmFsaXplLmZvcm1hdChuLHRoaXMub3B0aW9ucy5udW1iZXJGb3JtYXQsdGhpcy5vcHRpb25zLmN1bHR1cmUpOm59LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoeyJhcmlhLXZhbHVlbWluIjp0aGlzLm9wdGlvbnMubWluLCJhcmlhLXZhbHVlbWF4Ijp0aGlzLm9wdGlvbnMubWF4LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnZhbHVlKCk7cmV0dXJuIG49PT1udWxsPyExOm49PT10aGlzLl9hZGp1c3RWYWx1ZShuKX0sX3ZhbHVlOmZ1bmN0aW9uKG4sdCl7dmFyIGk7biE9PSIiJiYoaT10aGlzLl9wYXJzZShuKSxpIT09bnVsbCYmKHR8fChpPXRoaXMuX2FkanVzdFZhbHVlKGkpKSxuPXRoaXMuX2Zvcm1hdChpKSkpO3RoaXMuZWxlbWVudC52YWwobik7dGhpcy5fcmVmcmVzaCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktc3Bpbm5lci1pbnB1dCIpLnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIikucmVtb3ZlQXR0cigicm9sZSIpLnJlbW92ZUF0dHIoImFyaWEtdmFsdWVtaW4iKS5yZW1vdmVBdHRyKCJhcmlhLXZhbHVlbWF4IikucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpO3RoaXMudWlTcGlubmVyLnJlcGxhY2VXaXRoKHRoaXMuZWxlbWVudCl9LHN0ZXBVcDp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N0ZXBVcChuKX0pLF9zdGVwVXA6ZnVuY3Rpb24obil7dGhpcy5fc3RhcnQoKSYmKHRoaXMuX3NwaW4oKG58fDEpKnRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxzdGVwRG93bjp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N0ZXBEb3duKG4pfSksX3N0ZXBEb3duOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSotdGhpcy5vcHRpb25zLnN0ZXApLHRoaXMuX3N0b3AoKSl9LHBhZ2VVcDp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N0ZXBVcCgobnx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSkscGFnZURvd246dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bigobnx8MSkqdGhpcy5vcHRpb25zLnBhZ2UpfSksdmFsdWU6ZnVuY3Rpb24obil7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSk7dCh0aGlzLl92YWx1ZSkuY2FsbCh0aGlzLG4pfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSk7Ci8qIQogKiBqUXVlcnkgVUkgVGFicyAxLjExLjIKICogaHR0cDovL2pxdWVyeXVpLmNvbQogKgogKiBDb3B5cmlnaHQgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90YWJzLwogKi8KYWk9bi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjExLjIiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjb2xsYXBzaWJsZTohMSxldmVudDoiY2xpY2siLGhlaWdodFN0eWxlOiJjb250ZW50IixoaWRlOm51bGwsc2hvdzpudWxsLGFjdGl2YXRlOm51bGwsYmVmb3JlQWN0aXZhdGU6bnVsbCxiZWZvcmVMb2FkOm51bGwsbG9hZDpudWxsfSxfaXNMb2NhbDpmdW5jdGlvbigpe3ZhciBuPS8jLiokLztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGkscjt0PXQuY2xvbmVOb2RlKCExKTtpPXQuaHJlZi5yZXBsYWNlKG4sIiIpO3I9bG9jYXRpb24uaHJlZi5yZXBsYWNlKG4sIiIpO3RyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpKX1jYXRjaCh1KXt9dHJ5e3I9ZGVjb2RlVVJJQ29tcG9uZW50KHIpfWNhdGNoKHUpe31yZXR1cm4gdC5oYXNoLmxlbmd0aD4xJiZpPT09cn19KCksX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD10aGlzLm9wdGlvbnM7dGhpcy5ydW5uaW5nPSExO3RoaXMuZWxlbWVudC5hZGRDbGFzcygidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCIpLnRvZ2dsZUNsYXNzKCJ1aS10YWJzLWNvbGxhcHNpYmxlIix0LmNvbGxhcHNpYmxlKTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKTtuLmlzQXJyYXkodC5kaXNhYmxlZCkmJih0LmRpc2FibGVkPW4udW5pcXVlKHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gdD09PW51bGwmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4gdD1pLCExfSksdD09PW51bGwmJih0PXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKCIudWktdGFicy1hY3RpdmUiKSkpLCh0PT09bnVsbHx8dD09PS0xKSYmKHQ9dGhpcy50YWJzLmxlbmd0aD8wOiExKSksdCE9PSExJiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmVxKHQpKSx0PT09LTEmJih0PWk/ITE6MCkpLCFpJiZ0PT09ITEmJnRoaXMuYW5jaG9ycy5sZW5ndGgmJih0PTApLHR9LF9nZXRDcmVhdGVFdmVudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57dGFiOnRoaXMuYWN0aXZlLHBhbmVsOnRoaXMuYWN0aXZlLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSk6bigpfX0sX3RhYktleWRvd246ZnVuY3Rpb24odCl7dmFyIHI9bih0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoImxpIiksaT10aGlzLnRhYnMuaW5kZXgociksdT0hMDtpZighdGhpcy5faGFuZGxlUGFnZU5hdih0KSl7c3dpdGNoKHQua2V5Q29kZSl7Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6Y2FzZSBuLnVpLmtleUNvZGUuRE9XTjppKys7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDp1PSExO2ktLTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLmFuY2hvcnMubGVuZ3RoLTE7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuSE9NRTppPTA7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dC5wcmV2ZW50RGVmYXVsdCgpO2NsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpO3RoaXMuX2FjdGl2YXRlKGkpO3JldHVybjtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjp0LnByZXZlbnREZWZhdWx0KCk7Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyk7dGhpcy5fYWN0aXZhdGUoaT09PXRoaXMub3B0aW9ucy5hY3RpdmU/ITE6aSk7cmV0dXJuO2RlZmF1bHQ6cmV0dXJufXQucHJldmVudERlZmF1bHQoKTtjbGVhclRpbWVvdXQodGhpcy5hY3RpdmF0aW5nKTtpPXRoaXMuX2ZvY3VzTmV4dFRhYihpLHUpO3QuY3RybEtleXx8KHIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsaSl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24odCl7dGhpcy5faGFuZGxlUGFnZU5hdih0KXx8dC5jdHJsS2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUuZm9jdXMoKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6dC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHQ+ciYmKHQ9MCksdDwwJiYodD1yKSx0fWZvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7bi5pbkFycmF5KHUoKSx0aGlzLm9wdGlvbnMuZGlzYWJsZWQpIT09LTE7KXQ9aT90KzE6dC0xO3JldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49dGhpcy5fZmluZE5leHRUYWIobix0KSx0aGlzLnRhYnMuZXEobikuZm9jdXMoKSxufSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYobj09PSJhY3RpdmUiKXt0aGlzLl9hY3RpdmF0ZSh0KTtyZXR1cm59aWYobj09PSJkaXNhYmxlZCIpe3RoaXMuX3NldHVwRGlzYWJsZWQodCk7cmV0dXJufXRoaXMuX3N1cGVyKG4sdCk7bj09PSJjb2xsYXBzaWJsZSImJih0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLHQpLHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpO249PT0iZXZlbnQiJiZ0aGlzLl9zZXR1cEV2ZW50cyh0KTtuPT09ImhlaWdodFN0eWxlIiYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0KX0sX3Nhbml0aXplU2VsZWN0b3I6ZnVuY3Rpb24obil7cmV0dXJuIG4/bi5yZXBsYWNlKC9bISIkJSYnKCkqKywuXC86Ozw9Pj9AXFtcXVxeYHt8fX5dL2csIlxcJCYiKToiIn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucyxpPXRoaXMudGFibGlzdC5jaGlsZHJlbigiOmhhcyhhW2hyZWZdKSIpO3QuZGlzYWJsZWQ9bi5tYXAoaS5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLmluZGV4KG4pfSk7dGhpcy5fcHJvY2Vzc1RhYnMoKTt0LmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuYWN0aXZlLmxlbmd0aCYmIW4uY29udGFpbnModGhpcy50YWJsaXN0WzBdLHRoaXMuYWN0aXZlWzBdKT90aGlzLnRhYnMubGVuZ3RoPT09dC5kaXNhYmxlZC5sZW5ndGg/KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPW4oKSk6dGhpcy5fYWN0aXZhdGUodGhpcy5fZmluZE5leHRUYWIoTWF0aC5tYXgoMCx0LmFjdGl2ZS0xKSwhMSkpOnQuYWN0aXZlPXRoaXMudGFicy5pbmRleCh0aGlzLmFjdGl2ZSk6KHQuYWN0aXZlPSExLHRoaXMuYWN0aXZlPW4oKSk7dGhpcy5fcmVmcmVzaCgpfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3NldHVwRGlzYWJsZWQodGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9zZXR1cEV2ZW50cyh0aGlzLm9wdGlvbnMuZXZlbnQpO3RoaXMuX3NldHVwSGVpZ2h0U3R5bGUodGhpcy5vcHRpb25zLmhlaWdodFN0eWxlKTt0aGlzLnRhYnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pO3RoaXMucGFuZWxzLm5vdCh0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkpLmhpZGUoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pO3RoaXMuYWN0aXZlLmxlbmd0aD8odGhpcy5hY3RpdmUuYWRkQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSksdGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpLnNob3coKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKX0sX3Byb2Nlc3NUYWJzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXRoaXMudGFicyxyPXRoaXMuYW5jaG9ycyx1PXRoaXMucGFuZWxzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsIikuYXR0cigicm9sZSIsInRhYmxpc3QiKS5kZWxlZ2F0ZSgiPiBsaSIsIm1vdXNlZG93biIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoIi51aS10YWJzLWFuY2hvciIsImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYWRkQ2xhc3MoInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcCIpLmF0dHIoe3JvbGU6InRhYiIsdGFiSW5kZXg6LTF9KTt0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBuKCJhIix0aGlzKVswXX0pLmFkZENsYXNzKCJ1aS10YWJzLWFuY2hvciIpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsdGFiSW5kZXg6LTF9KTt0aGlzLnBhbmVscz1uKCk7dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oaSxyKXt2YXIgZix1LGUscz1uKHIpLnVuaXF1ZUlkKCkuYXR0cigiaWQiKSxvPW4ocikuY2xvc2VzdCgibGkiKSxoPW8uYXR0cigiYXJpYS1jb250cm9scyIpO3QuX2lzTG9jYWwocik/KGY9ci5oYXNoLGU9Zi5zdWJzdHJpbmcoMSksdT10LmVsZW1lbnQuZmluZCh0Ll9zYW5pdGl6ZVNlbGVjdG9yKGYpKSk6KGU9by5hdHRyKCJhcmlhLWNvbnRyb2xzIil8fG4oe30pLnVuaXF1ZUlkKClbMF0uaWQsZj0iIyIrZSx1PXQuZWxlbWVudC5maW5kKGYpLHUubGVuZ3RofHwodT10Ll9jcmVhdGVQYW5lbChlKSx1Lmluc2VydEFmdGVyKHQucGFuZWxzW2ktMV18fHQudGFibGlzdCkpLHUuYXR0cigiYXJpYS1saXZlIiwicG9saXRlIikpO3UubGVuZ3RoJiYodC5wYW5lbHM9dC5wYW5lbHMuYWRkKHUpKTtoJiZvLmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIsaCk7by5hdHRyKHsiYXJpYS1jb250cm9scyI6ZSwiYXJpYS1sYWJlbGxlZGJ5IjpzfSk7dS5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLHMpfSk7dGhpcy5wYW5lbHMuYWRkQ2xhc3MoInVpLXRhYnMtcGFuZWwgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWJvdHRvbSIpLmF0dHIoInJvbGUiLCJ0YWJwYW5lbCIpO2kmJih0aGlzLl9vZmYoaS5ub3QodGhpcy50YWJzKSksdGhpcy5fb2ZmKHIubm90KHRoaXMuYW5jaG9ycykpLHRoaXMuX29mZih1Lm5vdCh0aGlzLnBhbmVscykpKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YWJsaXN0fHx0aGlzLmVsZW1lbnQuZmluZCgib2wsdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5hZGRDbGFzcygidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tIikuZGF0YSgidWktdGFicy1kZXN0cm95IiwhMCl9LF9zZXR1cERpc2FibGVkOmZ1bmN0aW9uKHQpe24uaXNBcnJheSh0KSYmKHQubGVuZ3RoP3QubGVuZ3RoPT09dGhpcy5hbmNob3JzLmxlbmd0aCYmKHQ9ITApOnQ9ITEpO2Zvcih2YXIgaT0wLHI7cj10aGlzLnRhYnNbaV07aSsrKXQ9PT0hMHx8bi5pbkFycmF5KGksdCkhPT0tMT9uKHIpLmFkZENsYXNzKCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik6bihyKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPXR9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17fTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5hbmNob3JzLmFkZCh0aGlzLnRhYnMpLmFkZCh0aGlzLnBhbmVscykpO3RoaXMuX29uKCEwLHRoaXMuYW5jaG9ycyx7Y2xpY2s6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuX29uKHRoaXMuYW5jaG9ycyxpKTt0aGlzLl9vbih0aGlzLnRhYnMse2tleWRvd246Il90YWJLZXlkb3duIn0pO3RoaXMuX29uKHRoaXMucGFuZWxzLHtrZXlkb3duOiJfcGFuZWxLZXlkb3duIn0pO3RoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpO3RoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMuZWxlbWVudC5wYXJlbnQoKTt0PT09ImZpbGwiPyhpPXIuaGVpZ2h0KCksaS09dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCktdGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuZWxlbWVudC5zaWJsaW5ncygiOnZpc2libGUiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQuY3NzKCJwb3NpdGlvbiIpO3IhPT0iYWJzb2x1dGUiJiZyIT09ImZpeGVkIiYmKGktPXQub3V0ZXJIZWlnaHQoITApKX0pLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLm5vdCh0aGlzLnBhbmVscykuZWFjaChmdW5jdGlvbigpe2ktPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe24odGhpcykuaGVpZ2h0KE1hdGgubWF4KDAsaS1uKHRoaXMpLmlubmVySGVpZ2h0KCkrbih0aGlzKS5oZWlnaHQoKSkpfSkuY3NzKCJvdmVyZmxvdyIsImF1dG8iKSk6dD09PSJhdXRvIiYmKGk9MCx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7aT1NYXRoLm1heChpLG4odGhpcykuaGVpZ2h0KCIiKS5oZWlnaHQoKSl9KS5oZWlnaHQoaSkpfSxfZXZlbnRIYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciB1PXRoaXMub3B0aW9ucyxyPXRoaXMuYWN0aXZlLGM9bih0LmN1cnJlbnRUYXJnZXQpLGk9Yy5jbG9zZXN0KCJsaSIpLGY9aVswXT09PXJbMF0sZT1mJiZ1LmNvbGxhcHNpYmxlLG89ZT9uKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoaSkscz1yLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihyKTpuKCksaD17b2xkVGFiOnIsb2xkUGFuZWw6cyxuZXdUYWI6ZT9uKCk6aSxuZXdQYW5lbDpvfTsodC5wcmV2ZW50RGVmYXVsdCgpLGkuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGkuaGFzQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpfHx0aGlzLnJ1bm5pbmd8fGYmJiF1LmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxoKT09PSExKXx8KHUuYWN0aXZlPWU/ITE6dGhpcy50YWJzLmluZGV4KGkpLHRoaXMuYWN0aXZlPWY/bigpOmksdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCkscy5sZW5ndGh8fG8ubGVuZ3RofHxuLmVycm9yKCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci4iKSxvLmxlbmd0aCYmdGhpcy5sb2FkKHRoaXMudGFicy5pbmRleChpKSx0KSx0aGlzLl90b2dnbGUodCxoKSl9LF90b2dnbGU6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBlKCl7dS5ydW5uaW5nPSExO3UuX3RyaWdnZXIoImFjdGl2YXRlIix0LGkpfWZ1bmN0aW9uIG8oKXtpLm5ld1RhYi5jbG9zZXN0KCJsaSIpLmFkZENsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKTtyLmxlbmd0aCYmdS5vcHRpb25zLnNob3c/dS5fc2hvdyhyLHUub3B0aW9ucy5zaG93LGUpOihyLnNob3coKSxlKCkpfXZhciB1PXRoaXMscj1pLm5ld1BhbmVsLGY9aS5vbGRQYW5lbDt0aGlzLnJ1bm5pbmc9ITA7Zi5sZW5ndGgmJnRoaXMub3B0aW9ucy5oaWRlP3RoaXMuX2hpZGUoZix0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kub2xkVGFiLmNsb3Nlc3QoImxpIikucmVtb3ZlQ2xhc3MoInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOihpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmUiKSxmLmhpZGUoKSxvKCkpO2YuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIik7aS5vbGRUYWIuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTtyLmxlbmd0aCYmZi5sZW5ndGg/aS5vbGRUYWIuYXR0cigidGFiSW5kZXgiLC0xKTpyLmxlbmd0aCYmdGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLmF0dHIoInRhYkluZGV4Iik9PT0wfSkuYXR0cigidGFiSW5kZXgiLC0xKTtyLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTtpLm5ld1RhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIHIsaT10aGlzLl9maW5kQWN0aXZlKHQpO2lbMF0hPT10aGlzLmFjdGl2ZVswXSYmKGkubGVuZ3RofHwoaT10aGlzLmFjdGl2ZSkscj1pLmZpbmQoIi51aS10YWJzLWFuY2hvciIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OnIsY3VycmVudFRhcmdldDpyLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMT9uKCk6dGhpcy50YWJzLmVxKHQpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIiYmKG49dGhpcy5hbmNob3JzLmluZGV4KHRoaXMuYW5jaG9ycy5maWx0ZXIoIltocmVmJD0nIituKyInXSIpKSksbn0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgdWktdGFicy1jb2xsYXBzaWJsZSIpO3RoaXMudGFibGlzdC5yZW1vdmVDbGFzcygidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGwiKS5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5hbmNob3JzLnJlbW92ZUNsYXNzKCJ1aS10YWJzLWFuY2hvciIpLnJlbW92ZUF0dHIoInJvbGUiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZVVuaXF1ZUlkKCk7dGhpcy50YWJsaXN0LnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKTt0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7bi5kYXRhKHRoaXMsInVpLXRhYnMtZGVzdHJveSIpP24odGhpcykucmVtb3ZlKCk6bih0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWwiKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCIpLnJlbW92ZUF0dHIoImFyaWEtbGl2ZSIpLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpLnJlbW92ZUF0dHIoImFyaWEtc2VsZWN0ZWQiKS5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkYnkiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtZXhwYW5kZWQiKS5yZW1vdmVBdHRyKCJyb2xlIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTt0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUhPT0iY29udGVudCImJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodD09PXVuZGVmaW5lZD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9bi5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0dXBEaXNhYmxlZChpKSl9LGRpc2FibGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmRpc2FibGVkO2lmKGkhPT0hMCl7aWYodD09PXVuZGVmaW5lZClpPSEwO2Vsc2V7aWYodD10aGlzLl9nZXRJbmRleCh0KSxuLmluQXJyYXkodCxpKSE9PS0xKXJldHVybjtpPW4uaXNBcnJheShpKT9uLm1lcmdlKFt0XSxpKS5zb3J0KCk6W3RdfXRoaXMuX3NldHVwRGlzYWJsZWQoaSl9fSxsb2FkOmZ1bmN0aW9uKHQsaSl7dD10aGlzLl9nZXRJbmRleCh0KTt2YXIgdT10aGlzLHI9dGhpcy50YWJzLmVxKHQpLGU9ci5maW5kKCIudWktdGFicy1hbmNob3IiKSxmPXRoaXMuX2dldFBhbmVsRm9yVGFiKHIpLG89e3RhYjpyLHBhbmVsOmZ9O3RoaXMuX2lzTG9jYWwoZVswXSl8fCh0aGlzLnhocj1uLmFqYXgodGhpcy5fYWpheFNldHRpbmdzKGUsaSxvKSksdGhpcy54aHImJnRoaXMueGhyLnN0YXR1c1RleHQhPT0iY2FuY2VsZWQiJiYoci5hZGRDbGFzcygidWktdGFicy1sb2FkaW5nIiksZi5hdHRyKCJhcmlhLWJ1c3kiLCJ0cnVlIiksdGhpcy54aHIuc3VjY2VzcyhmdW5jdGlvbihuKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5odG1sKG4pO3UuX3RyaWdnZXIoImxvYWQiLGksbyl9LDEpfSkuY29tcGxldGUoZnVuY3Rpb24obix0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dD09PSJhYm9ydCImJnUucGFuZWxzLnN0b3AoITEsITApO3IucmVtb3ZlQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpO2YucmVtb3ZlQXR0cigiYXJpYS1idXN5Iik7bj09PXUueGhyJiZkZWxldGUgdS54aHJ9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLGJlZm9yZVNlbmQ6ZnVuY3Rpb24odCxmKXtyZXR1cm4gdS5fdHJpZ2dlcigiYmVmb3JlTG9hZCIsaSxuLmV4dGVuZCh7anFYSFI6dCxhamF4U2V0dGluZ3M6Zn0scikpfX19LF9nZXRQYW5lbEZvclRhYjpmdW5jdGlvbih0KXt2YXIgaT1uKHQpLmF0dHIoImFyaWEtY29udHJvbHMiKTtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5fc2FuaXRpemVTZWxlY3RvcigiIyIraSkpfX0pOwovKiEKICogalF1ZXJ5IFVJIFRvb2x0aXAgMS4xMS4yCiAqIGh0dHA6Ly9qcXVlcnl1aS5jb20KICoKICogQ29weXJpZ2h0IDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vdG9vbHRpcC8KICovCnZpPW4ud2lkZ2V0KCJ1aS50b29sdGlwIix7dmVyc2lvbjoiMS4xMS4yIixvcHRpb25zOntjb250ZW50OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5hdHRyKCJ0aXRsZSIpfHwiIjtyZXR1cm4gbigiPGE+IikudGV4dCh0KS5odG1sKCl9LGhpZGU6ITAsaXRlbXM6Ilt0aXRsZV06bm90KFtkaXNhYmxlZF0pIixwb3NpdGlvbjp7bXk6ImxlZnQgdG9wKzE1IixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoiZmxpcGZpdCBmbGlwIn0sc2hvdzohMCx0b29sdGlwQ2xhc3M6bnVsbCx0cmFjazohMSxjbG9zZTpudWxsLG9wZW46bnVsbH0sX2FkZERlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQsaSl7dmFyIHI9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pO3IucHVzaChpKTt0LmRhdGEoInVpLXRvb2x0aXAtaWQiLGkpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLG4udHJpbShyLmpvaW4oIiAiKSkpfSxfcmVtb3ZlRGVzY3JpYmVkQnk6ZnVuY3Rpb24odCl7dmFyIHU9dC5kYXRhKCJ1aS10b29sdGlwLWlkIiksaT0odC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil8fCIiKS5zcGxpdCgvXHMrLykscj1uLmluQXJyYXkodSxpKTtyIT09LTEmJmkuc3BsaWNlKHIsMSk7dC5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLWlkIik7aT1uLnRyaW0oaS5qb2luKCIgIikpO2k/dC5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixpKTp0LnJlbW92ZUF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX29uKHttb3VzZW92ZXI6Im9wZW4iLGZvY3VzaW46Im9wZW4ifSk7dGhpcy50b29sdGlwcz17fTt0aGlzLnBhcmVudHM9e307dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9kaXNhYmxlKCk7dGhpcy5saXZlUmVnaW9uPW4oIjxkaXY+IikuYXR0cih7cm9sZToibG9nIiwiYXJpYS1saXZlIjoiYXNzZXJ0aXZlIiwiYXJpYS1yZWxldmFudCI6ImFkZGl0aW9ucyJ9KS5hZGRDbGFzcygidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIikuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7aWYodD09PSJkaXNhYmxlZCIpe3RoaXNbaT8iX2Rpc2FibGUiOiJfZW5hYmxlIl0oKTt0aGlzLm9wdGlvbnNbdF09aTtyZXR1cm59dGhpcy5fc3VwZXIodCxpKTt0PT09ImNvbnRlbnQiJiZuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihuLHQpe3IuX3VwZGF0ZUNvbnRlbnQodC5lbGVtZW50KX0pfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIik7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXIuZWxlbWVudFswXTt0LmNsb3NlKHUsITApfSk7dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5pcygiW3RpdGxlXSIpJiZ0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiLHQuYXR0cigidGl0bGUiKSkucmVtb3ZlQXR0cigidGl0bGUiKX0pfSxfZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJnQuYXR0cigidGl0bGUiLHQuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKX0pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1uKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7aS5sZW5ndGgmJiFpLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGkuYXR0cigidGl0bGUiKSYmaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixpLmF0dHIoInRpdGxlIikpLGkuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmdC50eXBlPT09Im1vdXNlb3ZlciImJmkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKGk9bi5FdmVudCgiYmx1ciIpLGkudGFyZ2V0PWkuY3VycmVudFRhcmdldD10aGlzLHIuY2xvc2UoaSwhMCkpO3QuYXR0cigidGl0bGUiKSYmKHQudW5pcXVlSWQoKSxyLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTp0LmF0dHIoInRpdGxlIil9LHQuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl91cGRhdGVDb250ZW50KGksdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihuLHQpe3ZhciBpLHI9dGhpcy5vcHRpb25zLmNvbnRlbnQsdT10aGlzLGY9dD90LnR5cGU6bnVsbDtpZih0eXBlb2Ygcj09InN0cmluZyIpcmV0dXJuIHRoaXMuX29wZW4odCxuLHIpO2k9ci5jYWxsKG5bMF0sZnVuY3Rpb24oaSl7bi5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmdS5fZGVsYXkoZnVuY3Rpb24oKXt0JiYodC50eXBlPWYpO3RoaXMuX29wZW4odCxuLGkpfSl9KTtpJiZ0aGlzLl9vcGVuKHQsbixpKX0sX29wZW46ZnVuY3Rpb24odCxpLHIpe2Z1bmN0aW9uIGgobil7KHMub2Y9bix1LmlzKCI6aGlkZGVuIikpfHx1LnBvc2l0aW9uKHMpfXZhciBmLHUsZSxjLG8scz1uLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMucG9zaXRpb24pO2lmKHIpe2lmKGY9dGhpcy5fZmluZChpKSxmKXtmLnRvb2x0aXAuZmluZCgiLnVpLXRvb2x0aXAtY29udGVudCIpLmh0bWwocik7cmV0dXJufWkuaXMoIlt0aXRsZV0iKSYmKHQmJnQudHlwZT09PSJtb3VzZW92ZXIiP2kuYXR0cigidGl0bGUiLCIiKTppLnJlbW92ZUF0dHIoInRpdGxlIikpO2Y9dGhpcy5fdG9vbHRpcChpKTt1PWYudG9vbHRpcDt0aGlzLl9hZGREZXNjcmliZWRCeShpLHUuYXR0cigiaWQiKSk7dS5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKTt0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCk7ci5jbG9uZT8obz1yLmNsb25lKCksby5yZW1vdmVBdHRyKCJpZCIpLmZpbmQoIltpZF0iKS5yZW1vdmVBdHRyKCJpZCIpKTpvPXI7bigiPGRpdj4iKS5odG1sKG8pLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbik7dGhpcy5vcHRpb25zLnRyYWNrJiZ0JiYvXm1vdXNlLy50ZXN0KHQudHlwZSk/KHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse21vdXNlbW92ZTpofSksaCh0KSk6dS5wb3NpdGlvbihuLmV4dGVuZCh7b2Y6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSk7dS5oaWRlKCk7dGhpcy5fc2hvdyh1LHRoaXMub3B0aW9ucy5zaG93KTt0aGlzLm9wdGlvbnMuc2hvdyYmdGhpcy5vcHRpb25zLnNob3cuZGVsYXkmJihjPXRoaXMuZGVsYXllZFNob3c9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt1LmlzKCI6dmlzaWJsZSIpJiYoaChzLm9mKSxjbGVhckludGVydmFsKGMpKX0sbi5meC5pbnRlcnZhbCkpO3RoaXMuX3RyaWdnZXIoIm9wZW4iLHQse3Rvb2x0aXA6dX0pO2U9e2tleXVwOmZ1bmN0aW9uKHQpe2lmKHQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpe3ZhciByPW4uRXZlbnQodCk7ci5jdXJyZW50VGFyZ2V0PWlbMF07dGhpcy5jbG9zZShyLCEwKX19fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUb29sdGlwKHUpfSk7dCYmdC50eXBlIT09Im1vdXNlb3ZlciJ8fChlLm1vdXNlbGVhdmU9ImNsb3NlIik7dCYmdC50eXBlIT09ImZvY3VzaW4ifHwoZS5mb2N1c291dD0iY2xvc2UiKTt0aGlzLl9vbighMCxpLGUpfX0sY2xvc2U6ZnVuY3Rpb24odCl7dmFyIHUsZj10aGlzLGk9bih0P3QuY3VycmVudFRhcmdldDp0aGlzLmVsZW1lbnQpLHI9dGhpcy5fZmluZChpKTtyJiYoKHU9ci50b29sdGlwLHIuY2xvc2luZyl8fChjbGVhckludGVydmFsKHRoaXMuZGVsYXllZFNob3cpLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYhaS5hdHRyKCJ0aXRsZSIpJiZpLmF0dHIoInRpdGxlIixpLmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdGhpcy5fcmVtb3ZlRGVzY3JpYmVkQnkoaSksci5oaWRpbmc9ITAsdS5zdG9wKCEwKSx0aGlzLl9oaWRlKHUsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtmLl9yZW1vdmVUb29sdGlwKG4odGhpcykpfSksaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx0aGlzLl9vZmYoaSwibW91c2VsZWF2ZSBmb2N1c291dCBrZXl1cCIpLGlbMF0hPT10aGlzLmVsZW1lbnRbMF0mJnRoaXMuX29mZihpLCJyZW1vdmUiKSx0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwibW91c2Vtb3ZlIiksdCYmdC50eXBlPT09Im1vdXNlbGVhdmUiJiZuLmVhY2godGhpcy5wYXJlbnRzLGZ1bmN0aW9uKHQsaSl7bihpLmVsZW1lbnQpLmF0dHIoInRpdGxlIixpLnRpdGxlKTtkZWxldGUgZi5wYXJlbnRzW3RdfSksci5jbG9zaW5nPSEwLHRoaXMuX3RyaWdnZXIoImNsb3NlIix0LHt0b29sdGlwOnV9KSxyLmhpZGluZ3x8KHIuY2xvc2luZz0hMSkpKX0sX3Rvb2x0aXA6ZnVuY3Rpb24odCl7dmFyIGk9bigiPGRpdj4iKS5hdHRyKCJyb2xlIiwidG9vbHRpcCIpLmFkZENsYXNzKCJ1aS10b29sdGlwIHVpLXdpZGdldCB1aS1jb3JuZXItYWxsIHVpLXdpZGdldC1jb250ZW50ICIrKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3N8fCIiKSkscj1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTtyZXR1cm4gbigiPGRpdj4iKS5hZGRDbGFzcygidWktdG9vbHRpcC1jb250ZW50IikuYXBwZW5kVG8oaSksaS5hcHBlbmRUbyh0aGlzLmRvY3VtZW50WzBdLmJvZHkpLHRoaXMudG9vbHRpcHNbcl09e2VsZW1lbnQ6dCx0b29sdGlwOml9fSxfZmluZDpmdW5jdGlvbihuKXt2YXIgdD1uLmRhdGEoInVpLXRvb2x0aXAtaWQiKTtyZXR1cm4gdD90aGlzLnRvb2x0aXBzW3RdOm51bGx9LF9yZW1vdmVUb29sdGlwOmZ1bmN0aW9uKG4pe24ucmVtb3ZlKCk7ZGVsZXRlIHRoaXMudG9vbHRpcHNbbi5hdHRyKCJpZCIpXX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO24uZWFjaCh0aGlzLnRvb2x0aXBzLGZ1bmN0aW9uKGkscil7dmFyIGY9bi5FdmVudCgiYmx1ciIpLHU9ci5lbGVtZW50O2YudGFyZ2V0PWYuY3VycmVudFRhcmdldD11WzBdO3QuY2xvc2UoZiwhMCk7bigiIyIraSkucmVtb3ZlKCk7dS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJih1LmF0dHIoInRpdGxlIil8fHUuYXR0cigidGl0bGUiLHUuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx1LnJlbW92ZURhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9fSl9KTtqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtuKCIjcHJlbG9hZGVyIikuYW5pbWF0ZSh7b3BhY2l0eToiMCJ9LDYwMCxmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuKCIjcHJlbG9hZGVyIikuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIikuZmFkZU91dCgpfSwzMDApfSk7bih3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe3ZhciB0PW4od2luZG93KS5zY3JvbGxUb3AoKSxpPW4oIi5oZWFkZXItdGV4dCIpLmhlaWdodCgpLHI9bigiaGVhZGVyIikuaGVpZ2h0KCk7dD49aS1yP24oImhlYWRlciIpLmFkZENsYXNzKCJiYWNrZ3JvdW5kLWhlYWRlciIpOm4oImhlYWRlciIpLnJlbW92ZUNsYXNzKCJiYWNrZ3JvdW5kLWhlYWRlciIpfSk7bigiLm93bC1jbGllbnRzIikubGVuZ3RoJiZuKCIub3dsLWNsaWVudHMiKS5vd2xDYXJvdXNlbCh7bG9vcDohMCxuYXY6ITEsZG90czohMCxpdGVtczoxLG1hcmdpbjozMCxhdXRvcGxheTohMSxzbWFydFNwZWVkOjcwMCxhdXRvcGxheVRpbWVvdXQ6NmUzLHJlc3BvbnNpdmU6ezA6e2l0ZW1zOjEsbWFyZ2luOjB9LDQ2MDp7aXRlbXM6MSxtYXJnaW46MH0sNTc2OntpdGVtczozLG1hcmdpbjoyMH0sOTkyOntpdGVtczo1LG1hcmdpbjozMH19fSk7bigiLm93bC1iYW5uZXIiKS5sZW5ndGgmJm4oIi5vd2wtYmFubmVyIikub3dsQ2Fyb3VzZWwoe2xvb3A6ITAsbmF2OiEwLGRvdHM6ITAsaXRlbXM6MyxtYXJnaW46MTAsYXV0b3BsYXk6ITEsc21hcnRTcGVlZDo3MDAsYXV0b3BsYXlUaW1lb3V0OjZlMyxyZXNwb25zaXZlOnswOntpdGVtczoxLG1hcmdpbjowfSw0NjA6e2l0ZW1zOjEsbWFyZ2luOjB9LDU3Njp7aXRlbXM6MSxtYXJnaW46MTB9LDk5Mjp7aXRlbXM6MyxtYXJnaW46MTB9fX0pfSk7Ci8qIQogKiBJc290b3BlIFBBQ0tBR0VEIHYzLjAuNAogKgogKiBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlCiAqIG9yIElzb3RvcGUgQ29tbWVyY2lhbCBMaWNlbnNlIGZvciBjb21tZXJjaWFsIHVzZQogKgogKiBodHRwOi8vaXNvdG9wZS5tZXRhZml6enkuY28KICogQ29weXJpZ2h0IDIwMTcgTWV0YWZpenp5CiAqLwohZnVuY3Rpb24obix0KXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LWJyaWRnZXQvanF1ZXJ5LWJyaWRnZXQiLFsianF1ZXJ5Il0sZnVuY3Rpb24oaSl7cmV0dXJuIHQobixpKX0pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KG4scmVxdWlyZSgianF1ZXJ5IikpOm4ualF1ZXJ5QnJpZGdldD10KG4sbi5qUXVlcnkpfSh3aW5kb3csZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShpLHUsbyl7ZnVuY3Rpb24gcyhuLHQscil7dmFyIHUsZT0iJCgpLiIraSsnKCInK3QrJyIpJztyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKG4scyl7dmFyIGg9by5kYXRhKHMsaSksYyxsO2lmKCFoKXJldHVybiB2b2lkIGYoaSsiIG5vdCBpbml0aWFsaXplZC4gQ2Fubm90IGNhbGwgbWV0aG9kcywgaS5lLiAiK2UpO2lmKGM9aFt0XSwhY3x8Il8iPT10LmNoYXJBdCgwKSlyZXR1cm4gdm9pZCBmKGUrIiBpcyBub3QgYSB2YWxpZCBtZXRob2QiKTtsPWMuYXBwbHkoaCxyKTt1PXZvaWQgMD09PXU/bDp1fSksdm9pZCAwIT09dT91Om59ZnVuY3Rpb24gaChuLHQpe24uZWFjaChmdW5jdGlvbihuLHIpe3ZhciBmPW8uZGF0YShyLGkpO2Y/KGYub3B0aW9uKHQpLGYuX2luaXQoKSk6KGY9bmV3IHUocix0KSxvLmRhdGEocixpLGYpKX0pfW89b3x8dHx8bi5qUXVlcnk7byYmKHUucHJvdG90eXBlLm9wdGlvbnx8KHUucHJvdG90eXBlLm9wdGlvbj1mdW5jdGlvbihuKXtvLmlzUGxhaW5PYmplY3QobikmJih0aGlzLm9wdGlvbnM9by5leHRlbmQoITAsdGhpcy5vcHRpb25zLG4pKX0pLG8uZm5baV09ZnVuY3Rpb24obil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXt2YXIgdD1lLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBzKHRoaXMsbix0KX1yZXR1cm4gaCh0aGlzLG4pLHRoaXN9LHIobykpfWZ1bmN0aW9uIHIobil7IW58fG4mJm4uYnJpZGdldHx8KG4uYnJpZGdldD1pKX12YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UsdT1uLmNvbnNvbGUsZj0idW5kZWZpbmVkIj09dHlwZW9mIHU/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKG4pe3UuZXJyb3Iobil9O3JldHVybiByKHR8fG4ualF1ZXJ5KSxpfSksZnVuY3Rpb24obix0KXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiZXYtZW1pdHRlci9ldi1lbWl0dGVyIix0KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOm4uRXZFbWl0dGVyPXQoKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXZhciBuPXQucHJvdG90eXBlO3JldHVybiBuLm9uPWZ1bmN0aW9uKG4sdCl7aWYobiYmdCl7dmFyIGk9dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30scj1pW25dPWlbbl18fFtdO3JldHVybiByLmluZGV4T2YodCk9PS0xJiZyLnB1c2godCksdGhpc319LG4ub25jZT1mdW5jdGlvbihuLHQpe2lmKG4mJnQpe3RoaXMub24obix0KTt2YXIgaT10aGlzLl9vbmNlRXZlbnRzPXRoaXMuX29uY2VFdmVudHN8fHt9LHI9aVtuXT1pW25dfHx7fTtyZXR1cm4gclt0XT0hMCx0aGlzfX0sbi5vZmY9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tuXSxyO2lmKGkmJmkubGVuZ3RoKXJldHVybiByPWkuaW5kZXhPZih0KSxyIT0tMSYmaS5zcGxpY2UociwxKSx0aGlzfSxuLmVtaXRFdmVudD1mdW5jdGlvbihuLHQpe3ZhciByPXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzW25dLHUsaSxmLGU7aWYociYmci5sZW5ndGgpe2Zvcih1PTAsaT1yW3VdLHQ9dHx8W10sZj10aGlzLl9vbmNlRXZlbnRzJiZ0aGlzLl9vbmNlRXZlbnRzW25dO2k7KWU9ZiYmZltpXSxlJiYodGhpcy5vZmYobixpKSxkZWxldGUgZltpXSksaS5hcHBseSh0aGlzLHQpLHUrPWU/MDoxLGk9clt1XTtyZXR1cm4gdGhpc319LHR9KSxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiZ2V0LXNpemUvZ2V0LXNpemUiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHQoKX0pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KCk6bi5nZXRTaXplPXQoKX0od2luZG93LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4obil7dmFyIHQ9cGFyc2VGbG9hdChuKSxpPW4uaW5kZXhPZigiJSIpPT0tMSYmIWlzTmFOKHQpO3JldHVybiBpJiZ0fWZ1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gcygpe2Zvcih2YXIgcixpPXt3aWR0aDowLGhlaWdodDowLGlubmVyV2lkdGg6MCxpbm5lckhlaWdodDowLG91dGVyV2lkdGg6MCxvdXRlckhlaWdodDowfSxuPTA7bjxmO24rKylyPXRbbl0saVtyXT0wO3JldHVybiBpfWZ1bmN0aW9uIGkobil7dmFyIHQ9Z2V0Q29tcHV0ZWRTdHlsZShuKTtyZXR1cm4gdHx8YygiU3R5bGUgcmV0dXJuZWQgIit0KyIuIEFyZSB5b3UgcnVubmluZyB0aGlzIGNvZGUgaW4gYSBoaWRkZW4gaWZyYW1lIG9uIEZpcmVmb3g/IFNlZSBodHRwOi8vYml0Lmx5L2dldHNpemVidWcxIiksdH1mdW5jdGlvbiBoKCl7dmFyIHQsZixvO2V8fChlPSEwLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5zdHlsZS53aWR0aD0iMjAwcHgiLHQuc3R5bGUucGFkZGluZz0iMXB4IDJweCAzcHggNHB4Iix0LnN0eWxlLmJvcmRlclN0eWxlPSJzb2xpZCIsdC5zdHlsZS5ib3JkZXJXaWR0aD0iMXB4IDJweCAzcHggNHB4Iix0LnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCIsZj1kb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZi5hcHBlbmRDaGlsZCh0KSxvPWkodCksci5pc0JveFNpemVPdXRlcj11PTIwMD09bihvLndpZHRoKSxmLnJlbW92ZUNoaWxkKHQpKX1mdW5jdGlvbiByKHIpe3ZhciBvLGUsYSxjLGw7aWYoaCgpLCJzdHJpbmciPT10eXBlb2YgciYmKHI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKSksciYmIm9iamVjdCI9PXR5cGVvZiByJiZyLm5vZGVUeXBlKXtpZihvPWkociksIm5vbmUiPT1vLmRpc3BsYXkpcmV0dXJuIHMoKTtmb3IoZT17fSxlLndpZHRoPXIub2Zmc2V0V2lkdGgsZS5oZWlnaHQ9ci5vZmZzZXRIZWlnaHQsYT1lLmlzQm9yZGVyQm94PSJib3JkZXItYm94Ij09by5ib3hTaXppbmcsYz0wO2M8ZjtjKyspe3ZhciB2PXRbY10sbnQ9b1t2XSx5PXBhcnNlRmxvYXQobnQpO2Vbdl09aXNOYU4oeSk/MDp5fXZhciBwPWUucGFkZGluZ0xlZnQrZS5wYWRkaW5nUmlnaHQsdz1lLnBhZGRpbmdUb3ArZS5wYWRkaW5nQm90dG9tLHR0PWUubWFyZ2luTGVmdCtlLm1hcmdpblJpZ2h0LGl0PWUubWFyZ2luVG9wK2UubWFyZ2luQm90dG9tLGI9ZS5ib3JkZXJMZWZ0V2lkdGgrZS5ib3JkZXJSaWdodFdpZHRoLGs9ZS5ib3JkZXJUb3BXaWR0aCtlLmJvcmRlckJvdHRvbVdpZHRoLGQ9YSYmdSxnPW4oby53aWR0aCk7cmV0dXJuIGchPT0hMSYmKGUud2lkdGg9ZysoZD8wOnArYikpLGw9bihvLmhlaWdodCksbCE9PSExJiYoZS5oZWlnaHQ9bCsoZD8wOncraykpLGUuaW5uZXJXaWR0aD1lLndpZHRoLShwK2IpLGUuaW5uZXJIZWlnaHQ9ZS5oZWlnaHQtKHcrayksZS5vdXRlcldpZHRoPWUud2lkdGgrdHQsZS5vdXRlckhlaWdodD1lLmhlaWdodCtpdCxlfX12YXIgdSxjPSJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZT9vOmZ1bmN0aW9uKG4pe2NvbnNvbGUuZXJyb3Iobil9LHQ9WyJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwiYm9yZGVyTGVmdFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiXSxmPXQubGVuZ3RoLGU9ITE7cmV0dXJuIHJ9KSxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yIix0KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dCgpOm4ubWF0Y2hlc1NlbGVjdG9yPXQoKX0od2luZG93LGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93LkVsZW1lbnQucHJvdG90eXBlLGksbix1LHI7aWYodC5tYXRjaGVzKXJldHVybiJtYXRjaGVzIjtpZih0Lm1hdGNoZXNTZWxlY3RvcilyZXR1cm4ibWF0Y2hlc1NlbGVjdG9yIjtmb3IoaT1bIndlYmtpdCIsIm1veiIsIm1zIiwibyJdLG49MDtuPGkubGVuZ3RoO24rKylpZih1PWlbbl0scj11KyJNYXRjaGVzU2VsZWN0b3IiLHRbcl0pcmV0dXJuIHJ9KCk7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbbl0oaSl9fSksZnVuY3Rpb24obix0KXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiZml6enktdWktdXRpbHMvdXRpbHMiLFsiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yIl0sZnVuY3Rpb24oaSl7cmV0dXJuIHQobixpKX0pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KG4scmVxdWlyZSgiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3RvciIpKTpuLmZpenp5VUlVdGlscz10KG4sbi5tYXRjaGVzU2VsZWN0b3IpfSh3aW5kb3csZnVuY3Rpb24obix0KXt2YXIgaT17fSxyO3JldHVybiBpLmV4dGVuZD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaSBpbiB0KW5baV09dFtpXTtyZXR1cm4gbn0saS5tb2R1bG89ZnVuY3Rpb24obix0KXtyZXR1cm4obiV0K3QpJXR9LGkubWFrZUFycmF5PWZ1bmN0aW9uKG4pe3ZhciB0PVtdLGk7aWYoQXJyYXkuaXNBcnJheShuKSl0PW47ZWxzZSBpZihuJiYib2JqZWN0Ij09dHlwZW9mIG4mJiJudW1iZXIiPT10eXBlb2Ygbi5sZW5ndGgpZm9yKGk9MDtpPG4ubGVuZ3RoO2krKyl0LnB1c2gobltpXSk7ZWxzZSB0LnB1c2gobik7cmV0dXJuIHR9LGkucmVtb3ZlRnJvbT1mdW5jdGlvbihuLHQpe3ZhciBpPW4uaW5kZXhPZih0KTtpIT0tMSYmbi5zcGxpY2UoaSwxKX0saS5nZXRQYXJlbnQ9ZnVuY3Rpb24obixpKXtmb3IoO24ucGFyZW50Tm9kZSYmbiE9ZG9jdW1lbnQuYm9keTspaWYobj1uLnBhcmVudE5vZGUsdChuLGkpKXJldHVybiBufSxpLmdldFF1ZXJ5RWxlbWVudD1mdW5jdGlvbihuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKTpufSxpLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKG4pe3ZhciB0PSJvbiIrbi50eXBlO3RoaXNbdF0mJnRoaXNbdF0obil9LGkuZmlsdGVyRmluZEVsZW1lbnRzPWZ1bmN0aW9uKG4scil7bj1pLm1ha2VBcnJheShuKTt2YXIgdT1bXTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7aWYoIXIpcmV0dXJuIHZvaWQgdS5wdXNoKG4pO3QobixyKSYmdS5wdXNoKG4pO2Zvcih2YXIgZj1uLnF1ZXJ5U2VsZWN0b3JBbGwociksaT0wO2k8Zi5sZW5ndGg7aSsrKXUucHVzaChmW2ldKX19KSx1fSxpLmRlYm91bmNlTWV0aG9kPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1uLnByb3RvdHlwZVt0XSxyPXQrIlRpbWVvdXQiO24ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tyXSxmLG47dCYmY2xlYXJUaW1lb3V0KHQpO2Y9YXJndW1lbnRzO249dGhpczt0aGlzW3JdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LmFwcGx5KG4sZik7ZGVsZXRlIG5bcl19LGl8fDEwMCl9fSxpLmRvY1JlYWR5PWZ1bmN0aW9uKG4pe3ZhciB0PWRvY3VtZW50LnJlYWR5U3RhdGU7ImNvbXBsZXRlIj09dHx8ImludGVyYWN0aXZlIj09dD9zZXRUaW1lb3V0KG4pOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG4pfSxpLnRvRGFzaGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoLyguKShbQS1aXSkvZyxmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHQrIi0iK2l9KS50b0xvd2VyQ2FzZSgpfSxyPW4uY29uc29sZSxpLmh0bWxJbml0PWZ1bmN0aW9uKHQsdSl7aS5kb2NSZWFkeShmdW5jdGlvbigpe3ZhciBlPWkudG9EYXNoZWQodSksZj0iZGF0YS0iK2Uscz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJbIitmKyJdIiksaD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuanMtIitlKSxjPWkubWFrZUFycmF5KHMpLmNvbmNhdChpLm1ha2VBcnJheShoKSksbD1mKyItb3B0aW9ucyIsbz1uLmpRdWVyeTtjLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGksZT1uLmdldEF0dHJpYnV0ZShmKXx8bi5nZXRBdHRyaWJ1dGUobCksczt0cnl7aT1lJiZKU09OLnBhcnNlKGUpfWNhdGNoKGgpe3JldHVybiB2b2lkKHImJnIuZXJyb3IoIkVycm9yIHBhcnNpbmcgIitmKyIgb24gIituLmNsYXNzTmFtZSsiOiAiK2gpKX1zPW5ldyB0KG4saSk7byYmby5kYXRhKG4sdSxzKX0pfSl9LGl9KSxmdW5jdGlvbihuLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJvdXRsYXllci9pdGVtIixbImV2LWVtaXR0ZXIvZXYtZW1pdHRlciIsImdldC1zaXplL2dldC1zaXplIl0sdCk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZSgiZXYtZW1pdHRlciIpLHJlcXVpcmUoImdldC1zaXplIikpOihuLk91dGxheWVyPXt9LG4uT3V0bGF5ZXIuSXRlbT10KG4uRXZFbWl0dGVyLG4uZ2V0U2l6ZSkpfSh3aW5kb3csZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbChuKXtmb3IodmFyIHQgaW4gbilyZXR1cm4hMTtyZXR1cm4gdD1udWxsLCEwfWZ1bmN0aW9uIHUobix0KXtuJiYodGhpcy5lbGVtZW50PW4sdGhpcy5sYXlvdXQ9dCx0aGlzLnBvc2l0aW9uPXt4OjAseTowfSx0aGlzLl9jcmVhdGUoKSl9ZnVuY3Rpb24gYShuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24obil7cmV0dXJuIi0iK24udG9Mb3dlckNhc2UoKX0pfXZhciBmPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxyPSJzdHJpbmciPT10eXBlb2YgZi50cmFuc2l0aW9uPyJ0cmFuc2l0aW9uIjoiV2Via2l0VHJhbnNpdGlvbiIsZT0ic3RyaW5nIj09dHlwZW9mIGYudHJhbnNmb3JtPyJ0cmFuc2Zvcm0iOiJXZWJraXRUcmFuc2Zvcm0iLG89e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifVtyXSx2PXt0cmFuc2Zvcm06ZSx0cmFuc2l0aW9uOnIsdHJhbnNpdGlvbkR1cmF0aW9uOnIrIkR1cmF0aW9uIix0cmFuc2l0aW9uUHJvcGVydHk6cisiUHJvcGVydHkiLHRyYW5zaXRpb25EZWxheTpyKyJEZWxheSJ9LGk9dS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkscyxoLGM7cmV0dXJuIGkuY29uc3RydWN0b3I9dSxpLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLl90cmFuc249e2luZ1Byb3BlcnRpZXM6e30sY2xlYW46e30sb25FbmQ6e319O3RoaXMuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUifSl9LGkuaGFuZGxlRXZlbnQ9ZnVuY3Rpb24obil7dmFyIHQ9Im9uIituLnR5cGU7dGhpc1t0XSYmdGhpc1t0XShuKX0saS5nZXRTaXplPWZ1bmN0aW9uKCl7dGhpcy5zaXplPXQodGhpcy5lbGVtZW50KX0saS5jc3M9ZnVuY3Rpb24obil7dmFyIHI9dGhpcy5lbGVtZW50LnN0eWxlLHQsaTtmb3IodCBpbiBuKWk9dlt0XXx8dCxyW2ldPW5bdF19LGkuZ2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgZj1nZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudCksZT10aGlzLmxheW91dC5fZ2V0T3B0aW9uKCJvcmlnaW5MZWZ0Iiksbz10aGlzLmxheW91dC5fZ2V0T3B0aW9uKCJvcmlnaW5Ub3AiKSxyPWZbZT8ibGVmdCI6InJpZ2h0Il0sdT1mW28/InRvcCI6ImJvdHRvbSJdLG49dGhpcy5sYXlvdXQuc2l6ZSx0PXIuaW5kZXhPZigiJSIpIT0tMT9wYXJzZUZsb2F0KHIpLzEwMCpuLndpZHRoOnBhcnNlSW50KHIsMTApLGk9dS5pbmRleE9mKCIlIikhPS0xP3BhcnNlRmxvYXQodSkvMTAwKm4uaGVpZ2h0OnBhcnNlSW50KHUsMTApO3Q9aXNOYU4odCk/MDp0O2k9aXNOYU4oaSk/MDppO3QtPWU/bi5wYWRkaW5nTGVmdDpuLnBhZGRpbmdSaWdodDtpLT1vP24ucGFkZGluZ1RvcDpuLnBhZGRpbmdCb3R0b207dGhpcy5wb3NpdGlvbi54PXQ7dGhpcy5wb3NpdGlvbi55PWl9LGkubGF5b3V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgcj10aGlzLmxheW91dC5zaXplLG49e30sdD10aGlzLmxheW91dC5fZ2V0T3B0aW9uKCJvcmlnaW5MZWZ0IiksaT10aGlzLmxheW91dC5fZ2V0T3B0aW9uKCJvcmlnaW5Ub3AiKSx1PXQ/InBhZGRpbmdMZWZ0IjoicGFkZGluZ1JpZ2h0IixmPXQ/ImxlZnQiOiJyaWdodCIsZT10PyJyaWdodCI6ImxlZnQiLG89dGhpcy5wb3NpdGlvbi54K3JbdV07bltmXT10aGlzLmdldFhWYWx1ZShvKTtuW2VdPSIiO3ZhciBzPWk/InBhZGRpbmdUb3AiOiJwYWRkaW5nQm90dG9tIixoPWk/InRvcCI6ImJvdHRvbSIsYz1pPyJib3R0b20iOiJ0b3AiLGw9dGhpcy5wb3NpdGlvbi55K3Jbc107bltoXT10aGlzLmdldFlWYWx1ZShsKTtuW2NdPSIiO3RoaXMuY3NzKG4pO3RoaXMuZW1pdEV2ZW50KCJsYXlvdXQiLFt0aGlzXSl9LGkuZ2V0WFZhbHVlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubGF5b3V0Ll9nZXRPcHRpb24oImhvcml6b250YWwiKTtyZXR1cm4gdGhpcy5sYXlvdXQub3B0aW9ucy5wZXJjZW50UG9zaXRpb24mJiF0P24vdGhpcy5sYXlvdXQuc2l6ZS53aWR0aCoxMDArIiUiOm4rInB4In0saS5nZXRZVmFsdWU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5sYXlvdXQuX2dldE9wdGlvbigiaG9yaXpvbnRhbCIpO3JldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiYmdD9uL3RoaXMubGF5b3V0LnNpemUuaGVpZ2h0KjEwMCsiJSI6bisicHgifSxpLl90cmFuc2l0aW9uVG89ZnVuY3Rpb24obix0KXt0aGlzLmdldFBvc2l0aW9uKCk7dmFyIHI9dGhpcy5wb3NpdGlvbi54LHU9dGhpcy5wb3NpdGlvbi55LGY9cGFyc2VJbnQobiwxMCksZT1wYXJzZUludCh0LDEwKSxvPWY9PT10aGlzLnBvc2l0aW9uLngmJmU9PT10aGlzLnBvc2l0aW9uLnk7aWYodGhpcy5zZXRQb3NpdGlvbihuLHQpLG8mJiF0aGlzLmlzVHJhbnNpdGlvbmluZylyZXR1cm4gdm9pZCB0aGlzLmxheW91dFBvc2l0aW9uKCk7dmFyIHM9bi1yLGg9dC11LGk9e307aS50cmFuc2Zvcm09dGhpcy5nZXRUcmFuc2xhdGUocyxoKTt0aGlzLnRyYW5zaXRpb24oe3RvOmksb25UcmFuc2l0aW9uRW5kOnt0cmFuc2Zvcm06dGhpcy5sYXlvdXRQb3NpdGlvbn0saXNDbGVhbmluZzohMH0pfSxpLmdldFRyYW5zbGF0ZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMubGF5b3V0Ll9nZXRPcHRpb24oIm9yaWdpbkxlZnQiKSxyPXRoaXMubGF5b3V0Ll9nZXRPcHRpb24oIm9yaWdpblRvcCIpO3JldHVybiBuPWk/bjotbix0PXI/dDotdCwidHJhbnNsYXRlM2QoIituKyJweCwgIit0KyJweCwgMCkifSxpLmdvVG89ZnVuY3Rpb24obix0KXt0aGlzLnNldFBvc2l0aW9uKG4sdCk7dGhpcy5sYXlvdXRQb3NpdGlvbigpfSxpLm1vdmVUbz1pLl90cmFuc2l0aW9uVG8saS5zZXRQb3NpdGlvbj1mdW5jdGlvbihuLHQpe3RoaXMucG9zaXRpb24ueD1wYXJzZUludChuLDEwKTt0aGlzLnBvc2l0aW9uLnk9cGFyc2VJbnQodCwxMCl9LGkuX25vblRyYW5zaXRpb249ZnVuY3Rpb24obil7dGhpcy5jc3Mobi50byk7bi5pc0NsZWFuaW5nJiZ0aGlzLl9yZW1vdmVTdHlsZXMobi50byk7Zm9yKHZhciB0IGluIG4ub25UcmFuc2l0aW9uRW5kKW4ub25UcmFuc2l0aW9uRW5kW3RdLmNhbGwodGhpcyl9LGkudHJhbnNpdGlvbj1mdW5jdGlvbihuKXt2YXIgaSx0LHI7aWYoIXBhcnNlRmxvYXQodGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24pKXJldHVybiB2b2lkIHRoaXMuX25vblRyYW5zaXRpb24obik7aT10aGlzLl90cmFuc247Zm9yKHQgaW4gbi5vblRyYW5zaXRpb25FbmQpaS5vbkVuZFt0XT1uLm9uVHJhbnNpdGlvbkVuZFt0XTtmb3IodCBpbiBuLnRvKWkuaW5nUHJvcGVydGllc1t0XT0hMCxuLmlzQ2xlYW5pbmcmJihpLmNsZWFuW3RdPSEwKTtuLmZyb20mJih0aGlzLmNzcyhuLmZyb20pLHI9dGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCxyPW51bGwpO3RoaXMuZW5hYmxlVHJhbnNpdGlvbihuLnRvKTt0aGlzLmNzcyhuLnRvKTt0aGlzLmlzVHJhbnNpdGlvbmluZz0hMH0scz0ib3BhY2l0eSwiK2EoZSksaS5lbmFibGVUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNUcmFuc2l0aW9uaW5nKXt2YXIgbj10aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbjtuPSJudW1iZXIiPT10eXBlb2Ygbj9uKyJtcyI6bjt0aGlzLmNzcyh7dHJhbnNpdGlvblByb3BlcnR5OnMsdHJhbnNpdGlvbkR1cmF0aW9uOm4sdHJhbnNpdGlvbkRlbGF5OnRoaXMuc3RhZ2dlckRlbGF5fHwwfSk7dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIobyx0aGlzLCExKX19LGkub253ZWJraXRUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKG4pe3RoaXMub250cmFuc2l0aW9uZW5kKG4pfSxpLm9ub3RyYW5zaXRpb25lbmQ9ZnVuY3Rpb24obil7dGhpcy5vbnRyYW5zaXRpb25lbmQobil9LGg9eyItd2Via2l0LXRyYW5zZm9ybSI6InRyYW5zZm9ybSJ9LGkub250cmFuc2l0aW9uZW5kPWZ1bmN0aW9uKG4pe3ZhciB0LGkscjtuLnRhcmdldD09PXRoaXMuZWxlbWVudCYmKHQ9dGhpcy5fdHJhbnNuLGk9aFtuLnByb3BlcnR5TmFtZV18fG4ucHJvcGVydHlOYW1lLChkZWxldGUgdC5pbmdQcm9wZXJ0aWVzW2ldLGwodC5pbmdQcm9wZXJ0aWVzKSYmdGhpcy5kaXNhYmxlVHJhbnNpdGlvbigpLGkgaW4gdC5jbGVhbiYmKHRoaXMuZWxlbWVudC5zdHlsZVtuLnByb3BlcnR5TmFtZV09IiIsZGVsZXRlIHQuY2xlYW5baV0pLGkgaW4gdC5vbkVuZCkmJihyPXQub25FbmRbaV0sci5jYWxsKHRoaXMpLGRlbGV0ZSB0Lm9uRW5kW2ldKSx0aGlzLmVtaXRFdmVudCgidHJhbnNpdGlvbkVuZCIsW3RoaXNdKSl9LGkuZGlzYWJsZVRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVRyYW5zaXRpb25TdHlsZXMoKTt0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLHRoaXMsITEpO3RoaXMuaXNUcmFuc2l0aW9uaW5nPSExfSxpLl9yZW1vdmVTdHlsZXM9ZnVuY3Rpb24obil7dmFyIHQ9e307Zm9yKHZhciBpIGluIG4pdFtpXT0iIjt0aGlzLmNzcyh0KX0sYz17dHJhbnNpdGlvblByb3BlcnR5OiIiLHRyYW5zaXRpb25EdXJhdGlvbjoiIix0cmFuc2l0aW9uRGVsYXk6IiJ9LGkucmVtb3ZlVHJhbnNpdGlvblN0eWxlcz1mdW5jdGlvbigpe3RoaXMuY3NzKGMpfSxpLnN0YWdnZXI9ZnVuY3Rpb24obil7bj1pc05hTihuKT8wOm47dGhpcy5zdGFnZ2VyRGVsYXk9bisibXMifSxpLnJlbW92ZUVsZW09ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO3RoaXMuY3NzKHtkaXNwbGF5OiIifSk7dGhpcy5lbWl0RXZlbnQoInJlbW92ZSIsW3RoaXNdKX0saS5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gciYmcGFyc2VGbG9hdCh0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbik/KHRoaXMub25jZSgidHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUVsZW0oKX0pLHZvaWQgdGhpcy5oaWRlKCkpOnZvaWQgdGhpcy5yZW1vdmVFbGVtKCl9LGkucmV2ZWFsPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuaXNIaWRkZW47dGhpcy5jc3Moe2Rpc3BsYXk6IiJ9KTt2YXIgbj10aGlzLmxheW91dC5vcHRpb25zLHQ9e30saT10aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoInZpc2libGVTdHlsZSIpO3RbaV09dGhpcy5vblJldmVhbFRyYW5zaXRpb25FbmQ7dGhpcy50cmFuc2l0aW9uKHtmcm9tOm4uaGlkZGVuU3R5bGUsdG86bi52aXNpYmxlU3R5bGUsaXNDbGVhbmluZzohMCxvblRyYW5zaXRpb25FbmQ6dH0pfSxpLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZD1mdW5jdGlvbigpe3RoaXMuaXNIaWRkZW58fHRoaXMuZW1pdEV2ZW50KCJyZXZlYWwiKX0saS5nZXRIaWRlUmV2ZWFsVHJhbnNpdGlvbkVuZFByb3BlcnR5PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubGF5b3V0Lm9wdGlvbnNbbl0saTtpZih0Lm9wYWNpdHkpcmV0dXJuIm9wYWNpdHkiO2ZvcihpIGluIHQpcmV0dXJuIGl9LGkuaGlkZT1mdW5jdGlvbigpe3RoaXMuaXNIaWRkZW49ITA7dGhpcy5jc3Moe2Rpc3BsYXk6IiJ9KTt2YXIgbj10aGlzLmxheW91dC5vcHRpb25zLHQ9e30saT10aGlzLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkoImhpZGRlblN0eWxlIik7dFtpXT10aGlzLm9uSGlkZVRyYW5zaXRpb25FbmQ7dGhpcy50cmFuc2l0aW9uKHtmcm9tOm4udmlzaWJsZVN0eWxlLHRvOm4uaGlkZGVuU3R5bGUsaXNDbGVhbmluZzohMCxvblRyYW5zaXRpb25FbmQ6dH0pfSxpLm9uSGlkZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24oKXt0aGlzLmlzSGlkZGVuJiYodGhpcy5jc3Moe2Rpc3BsYXk6Im5vbmUifSksdGhpcy5lbWl0RXZlbnQoImhpZGUiKSl9LGkuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY3NzKHtwb3NpdGlvbjoiIixsZWZ0OiIiLHJpZ2h0OiIiLHRvcDoiIixib3R0b206IiIsdHJhbnNpdGlvbjoiIix0cmFuc2Zvcm06IiJ9KX0sdX0pLGZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJvdXRsYXllci9vdXRsYXllciIsWyJldi1lbWl0dGVyL2V2LWVtaXR0ZXIiLCJnZXQtc2l6ZS9nZXQtc2l6ZSIsImZpenp5LXVpLXV0aWxzL3V0aWxzIiwiLi9pdGVtIl0sZnVuY3Rpb24oaSxyLHUsZil7cmV0dXJuIHQobixpLHIsdSxmKX0pOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KG4scmVxdWlyZSgiZXYtZW1pdHRlciIpLHJlcXVpcmUoImdldC1zaXplIikscmVxdWlyZSgiZml6enktdWktdXRpbHMiKSxyZXF1aXJlKCIuL2l0ZW0iKSk6bi5PdXRsYXllcj10KG4sbi5FdkVtaXR0ZXIsbi5nZXRTaXplLG4uZml6enlVSVV0aWxzLG4uT3V0bGF5ZXIuSXRlbSl9KHdpbmRvdyxmdW5jdGlvbihuLHQsaSxyLHUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKG4sdCl7dmFyIGk9ci5nZXRRdWVyeUVsZW1lbnQobiksdSxmO2lmKCFpKXJldHVybiB2b2lkKGMmJmMuZXJyb3IoIkJhZCBlbGVtZW50IGZvciAiK3RoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlKyI6ICIrKGl8fG4pKSk7dGhpcy5lbGVtZW50PWk7byYmKHRoaXMuJGVsZW1lbnQ9byh0aGlzLmVsZW1lbnQpKTt0aGlzLm9wdGlvbnM9ci5leHRlbmQoe30sdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyk7dGhpcy5vcHRpb24odCk7dT0rK3k7dGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRD11O3NbdV09dGhpczt0aGlzLl9jcmVhdGUoKTtmPXRoaXMuX2dldE9wdGlvbigiaW5pdExheW91dCIpO2YmJnRoaXMubGF5b3V0KCl9ZnVuY3Rpb24gaChuKXtmdW5jdGlvbiB0KCl7bi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdH1mdW5jdGlvbiB2KG4pe3ZhciByO2lmKCJudW1iZXIiPT10eXBlb2YgbilyZXR1cm4gbjt2YXIgdD1uLm1hdGNoKC8oXlxkKlwuP1xkKikoXHcqKS8pLGk9dCYmdFsxXSx1PXQmJnRbMl07cmV0dXJuIGkubGVuZ3RoPyhpPXBhcnNlRmxvYXQoaSkscj1hW3VdfHwxLGkqcik6MH12YXIgYz1uLmNvbnNvbGUsbz1uLmpRdWVyeSxsPWZ1bmN0aW9uKCl7fSx5PTAscz17fSxmLGE7cmV0dXJuIGUubmFtZXNwYWNlPSJvdXRsYXllciIsZS5JdGVtPXUsZS5kZWZhdWx0cz17Y29udGFpbmVyU3R5bGU6e3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9LGluaXRMYXlvdXQ6ITAsb3JpZ2luTGVmdDohMCxvcmlnaW5Ub3A6ITAscmVzaXplOiEwLHJlc2l6ZUNvbnRhaW5lcjohMCx0cmFuc2l0aW9uRHVyYXRpb246IjAuNHMiLGhpZGRlblN0eWxlOntvcGFjaXR5OjAsdHJhbnNmb3JtOiJzY2FsZSgwLjAwMSkifSx2aXNpYmxlU3R5bGU6e29wYWNpdHk6MSx0cmFuc2Zvcm06InNjYWxlKDEpIn19LGY9ZS5wcm90b3R5cGUsci5leHRlbmQoZix0LnByb3RvdHlwZSksZi5vcHRpb249ZnVuY3Rpb24obil7ci5leHRlbmQodGhpcy5vcHRpb25zLG4pfSxmLl9nZXRPcHRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5jb25zdHJ1Y3Rvci5jb21wYXRPcHRpb25zW25dO3JldHVybiB0JiZ2b2lkIDAhPT10aGlzLm9wdGlvbnNbdF0/dGhpcy5vcHRpb25zW3RdOnRoaXMub3B0aW9uc1tuXX0sZS5jb21wYXRPcHRpb25zPXtpbml0TGF5b3V0OiJpc0luaXRMYXlvdXQiLGhvcml6b250YWw6ImlzSG9yaXpvbnRhbCIsbGF5b3V0SW5zdGFudDoiaXNMYXlvdXRJbnN0YW50IixvcmlnaW5MZWZ0OiJpc09yaWdpbkxlZnQiLG9yaWdpblRvcDoiaXNPcmlnaW5Ub3AiLHJlc2l6ZToiaXNSZXNpemVCb3VuZCIscmVzaXplQ29udGFpbmVyOiJpc1Jlc2l6aW5nQ29udGFpbmVyIn0sZi5fY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5yZWxvYWRJdGVtcygpO3RoaXMuc3RhbXBzPVtdO3RoaXMuc3RhbXAodGhpcy5vcHRpb25zLnN0YW1wKTtyLmV4dGVuZCh0aGlzLmVsZW1lbnQuc3R5bGUsdGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlKTt2YXIgbj10aGlzLl9nZXRPcHRpb24oInJlc2l6ZSIpO24mJnRoaXMuYmluZFJlc2l6ZSgpfSxmLnJlbG9hZEl0ZW1zPWZ1bmN0aW9uKCl7dGhpcy5pdGVtcz10aGlzLl9pdGVtaXplKHRoaXMuZWxlbWVudC5jaGlsZHJlbil9LGYuX2l0ZW1pemU9ZnVuY3Rpb24obil7Zm9yKHZhciB1LGYsaT10aGlzLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzKG4pLGU9dGhpcy5jb25zdHJ1Y3Rvci5JdGVtLHI9W10sdD0wO3Q8aS5sZW5ndGg7dCsrKXU9aVt0XSxmPW5ldyBlKHUsdGhpcyksci5wdXNoKGYpO3JldHVybiByfSxmLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzPWZ1bmN0aW9uKG4pe3JldHVybiByLmZpbHRlckZpbmRFbGVtZW50cyhuLHRoaXMub3B0aW9ucy5pdGVtU2VsZWN0b3IpfSxmLmdldEl0ZW1FbGVtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbi5lbGVtZW50fSl9LGYubGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5fcmVzZXRMYXlvdXQoKTt0aGlzLl9tYW5hZ2VTdGFtcHMoKTt2YXIgbj10aGlzLl9nZXRPcHRpb24oImxheW91dEluc3RhbnQiKSx0PXZvaWQgMCE9PW4/bjohdGhpcy5faXNMYXlvdXRJbml0ZWQ7dGhpcy5sYXlvdXRJdGVtcyh0aGlzLml0ZW1zLHQpO3RoaXMuX2lzTGF5b3V0SW5pdGVkPSEwfSxmLl9pbml0PWYubGF5b3V0LGYuX3Jlc2V0TGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5nZXRTaXplKCl9LGYuZ2V0U2l6ZT1mdW5jdGlvbigpe3RoaXMuc2l6ZT1pKHRoaXMuZWxlbWVudCl9LGYuX2dldE1lYXN1cmVtZW50PWZ1bmN0aW9uKG4sdCl7dmFyIHUscj10aGlzLm9wdGlvbnNbbl07cj8oInN0cmluZyI9PXR5cGVvZiByP3U9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3Iocik6ciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYodT1yKSx0aGlzW25dPXU/aSh1KVt0XTpyKTp0aGlzW25dPTB9LGYubGF5b3V0SXRlbXM9ZnVuY3Rpb24obix0KXtuPXRoaXMuX2dldEl0ZW1zRm9yTGF5b3V0KG4pO3RoaXMuX2xheW91dEl0ZW1zKG4sdCk7dGhpcy5fcG9zdExheW91dCgpfSxmLl9nZXRJdGVtc0ZvckxheW91dD1mdW5jdGlvbihuKXtyZXR1cm4gbi5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIW4uaXNJZ25vcmVkfSl9LGYuX2xheW91dEl0ZW1zPWZ1bmN0aW9uKG4sdCl7aWYodGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcygibGF5b3V0IixuKSxuJiZuLmxlbmd0aCl7dmFyIGk9W107bi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbihuKTtyLml0ZW09bjtyLmlzSW5zdGFudD10fHxuLmlzTGF5b3V0SW5zdGFudDtpLnB1c2gocil9LHRoaXMpO3RoaXMuX3Byb2Nlc3NMYXlvdXRRdWV1ZShpKX19LGYuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybnt4OjAseTowfX0sZi5fcHJvY2Vzc0xheW91dFF1ZXVlPWZ1bmN0aW9uKG4pe3RoaXMudXBkYXRlU3RhZ2dlcigpO24uZm9yRWFjaChmdW5jdGlvbihuLHQpe3RoaXMuX3Bvc2l0aW9uSXRlbShuLml0ZW0sbi54LG4ueSxuLmlzSW5zdGFudCx0KX0sdGhpcyl9LGYudXBkYXRlU3RhZ2dlcj1mdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy5zdGFnZ2VyO3JldHVybiBudWxsPT09bnx8dm9pZCAwPT09bj92b2lkKHRoaXMuc3RhZ2dlcj0wKToodGhpcy5zdGFnZ2VyPXYobiksdGhpcy5zdGFnZ2VyKX0sZi5fcG9zaXRpb25JdGVtPWZ1bmN0aW9uKG4sdCxpLHIsdSl7cj9uLmdvVG8odCxpKToobi5zdGFnZ2VyKHUqdGhpcy5zdGFnZ2VyKSxuLm1vdmVUbyh0LGkpKX0sZi5fcG9zdExheW91dD1mdW5jdGlvbigpe3RoaXMucmVzaXplQ29udGFpbmVyKCl9LGYucmVzaXplQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0T3B0aW9uKCJyZXNpemVDb250YWluZXIiKSxuO3QmJihuPXRoaXMuX2dldENvbnRhaW5lclNpemUoKSxuJiYodGhpcy5fc2V0Q29udGFpbmVyTWVhc3VyZShuLndpZHRoLCEwKSx0aGlzLl9zZXRDb250YWluZXJNZWFzdXJlKG4uaGVpZ2h0LCExKSkpfSxmLl9nZXRDb250YWluZXJTaXplPWwsZi5fc2V0Q29udGFpbmVyTWVhc3VyZT1mdW5jdGlvbihuLHQpe2lmKHZvaWQgMCE9PW4pe3ZhciBpPXRoaXMuc2l6ZTtpLmlzQm9yZGVyQm94JiYobis9dD9pLnBhZGRpbmdMZWZ0K2kucGFkZGluZ1JpZ2h0K2kuYm9yZGVyTGVmdFdpZHRoK2kuYm9yZGVyUmlnaHRXaWR0aDppLnBhZGRpbmdCb3R0b20raS5wYWRkaW5nVG9wK2kuYm9yZGVyVG9wV2lkdGgraS5ib3JkZXJCb3R0b21XaWR0aCk7bj1NYXRoLm1heChuLDApO3RoaXMuZWxlbWVudC5zdHlsZVt0PyJ3aWR0aCI6ImhlaWdodCJdPW4rInB4In19LGYuX2VtaXRDb21wbGV0ZU9uSXRlbXM9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKCl7ZS5kaXNwYXRjaEV2ZW50KG4rIkNvbXBsZXRlIixudWxsLFt0XSl9ZnVuY3Rpb24gZigpe2krKztpPT11JiZyKCl9dmFyIGU9dGhpcyx1PXQubGVuZ3RoLGk7aWYoIXR8fCF1KXJldHVybiB2b2lkIHIoKTtpPTA7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Qub25jZShuLGYpfSl9LGYuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuLHQsaSl7dmFyIHU9dD9bdF0uY29uY2F0KGkpOmkscjsodGhpcy5lbWl0RXZlbnQobix1KSxvKSYmKCh0aGlzLiRlbGVtZW50PXRoaXMuJGVsZW1lbnR8fG8odGhpcy5lbGVtZW50KSx0KT8ocj1vLkV2ZW50KHQpLHIudHlwZT1uLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihyLGkpKTp0aGlzLiRlbGVtZW50LnRyaWdnZXIobixpKSl9LGYuaWdub3JlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0SXRlbShuKTt0JiYodC5pc0lnbm9yZWQ9ITApfSxmLnVuaWdub3JlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0SXRlbShuKTt0JiZkZWxldGUgdC5pc0lnbm9yZWR9LGYuc3RhbXA9ZnVuY3Rpb24obil7bj10aGlzLl9maW5kKG4pO24mJih0aGlzLnN0YW1wcz10aGlzLnN0YW1wcy5jb25jYXQobiksbi5mb3JFYWNoKHRoaXMuaWdub3JlLHRoaXMpKX0sZi51bnN0YW1wPWZ1bmN0aW9uKG4pe249dGhpcy5fZmluZChuKTtuJiZuLmZvckVhY2goZnVuY3Rpb24obil7ci5yZW1vdmVGcm9tKHRoaXMuc3RhbXBzLG4pO3RoaXMudW5pZ25vcmUobil9LHRoaXMpfSxmLl9maW5kPWZ1bmN0aW9uKG4pe2lmKG4pcmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYobj10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChuKSksbj1yLm1ha2VBcnJheShuKX0sZi5fbWFuYWdlU3RhbXBzPWZ1bmN0aW9uKCl7dGhpcy5zdGFtcHMmJnRoaXMuc3RhbXBzLmxlbmd0aCYmKHRoaXMuX2dldEJvdW5kaW5nUmVjdCgpLHRoaXMuc3RhbXBzLmZvckVhY2godGhpcy5fbWFuYWdlU3RhbXAsdGhpcykpfSxmLl9nZXRCb3VuZGluZ1JlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj10aGlzLnNpemU7dGhpcy5fYm91bmRpbmdSZWN0PXtsZWZ0OnQubGVmdCtuLnBhZGRpbmdMZWZ0K24uYm9yZGVyTGVmdFdpZHRoLHRvcDp0LnRvcCtuLnBhZGRpbmdUb3Arbi5ib3JkZXJUb3BXaWR0aCxyaWdodDp0LnJpZ2h0LShuLnBhZGRpbmdSaWdodCtuLmJvcmRlclJpZ2h0V2lkdGgpLGJvdHRvbTp0LmJvdHRvbS0obi5wYWRkaW5nQm90dG9tK24uYm9yZGVyQm90dG9tV2lkdGgpfX0sZi5fbWFuYWdlU3RhbXA9bCxmLl9nZXRFbGVtZW50T2Zmc2V0PWZ1bmN0aW9uKG4pe3ZhciB0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj10aGlzLl9ib3VuZGluZ1JlY3QsdT1pKG4pO3JldHVybntsZWZ0OnQubGVmdC1yLmxlZnQtdS5tYXJnaW5MZWZ0LHRvcDp0LnRvcC1yLnRvcC11Lm1hcmdpblRvcCxyaWdodDpyLnJpZ2h0LXQucmlnaHQtdS5tYXJnaW5SaWdodCxib3R0b206ci5ib3R0b20tdC5ib3R0b20tdS5tYXJnaW5Cb3R0b219fSxmLmhhbmRsZUV2ZW50PXIuaGFuZGxlRXZlbnQsZi5iaW5kUmVzaXplPWZ1bmN0aW9uKCl7bi5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMpO3RoaXMuaXNSZXNpemVCb3VuZD0hMH0sZi51bmJpbmRSZXNpemU9ZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsdGhpcyk7dGhpcy5pc1Jlc2l6ZUJvdW5kPSExfSxmLm9ucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5yZXNpemUoKX0sci5kZWJvdW5jZU1ldGhvZChlLCJvbnJlc2l6ZSIsMTAwKSxmLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMuaXNSZXNpemVCb3VuZCYmdGhpcy5uZWVkc1Jlc2l6ZUxheW91dCgpJiZ0aGlzLmxheW91dCgpfSxmLm5lZWRzUmVzaXplTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIG49aSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5zaXplJiZuO3JldHVybiB0JiZuLmlubmVyV2lkdGghPT10aGlzLnNpemUuaW5uZXJXaWR0aH0sZi5hZGRJdGVtcz1mdW5jdGlvbihuKXt2YXIgdD10aGlzLl9pdGVtaXplKG4pO3JldHVybiB0Lmxlbmd0aCYmKHRoaXMuaXRlbXM9dGhpcy5pdGVtcy5jb25jYXQodCkpLHR9LGYuYXBwZW5kZWQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hZGRJdGVtcyhuKTt0Lmxlbmd0aCYmKHRoaXMubGF5b3V0SXRlbXModCwhMCksdGhpcy5yZXZlYWwodCkpfSxmLnByZXBlbmRlZD1mdW5jdGlvbihuKXt2YXIgdD10aGlzLl9pdGVtaXplKG4pLGk7dC5sZW5ndGgmJihpPXRoaXMuaXRlbXMuc2xpY2UoMCksdGhpcy5pdGVtcz10LmNvbmNhdChpKSx0aGlzLl9yZXNldExheW91dCgpLHRoaXMuX21hbmFnZVN0YW1wcygpLHRoaXMubGF5b3V0SXRlbXModCwhMCksdGhpcy5yZXZlYWwodCksdGhpcy5sYXlvdXRJdGVtcyhpKSl9LGYucmV2ZWFsPWZ1bmN0aW9uKG4pe2lmKHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoInJldmVhbCIsbiksbiYmbi5sZW5ndGgpe3ZhciB0PXRoaXMudXBkYXRlU3RhZ2dlcigpO24uZm9yRWFjaChmdW5jdGlvbihuLGkpe24uc3RhZ2dlcihpKnQpO24ucmV2ZWFsKCl9KX19LGYuaGlkZT1mdW5jdGlvbihuKXtpZih0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCJoaWRlIixuKSxuJiZuLmxlbmd0aCl7dmFyIHQ9dGhpcy51cGRhdGVTdGFnZ2VyKCk7bi5mb3JFYWNoKGZ1bmN0aW9uKG4saSl7bi5zdGFnZ2VyKGkqdCk7bi5oaWRlKCl9KX19LGYucmV2ZWFsSXRlbUVsZW1lbnRzPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0SXRlbXMobik7dGhpcy5yZXZlYWwodCl9LGYuaGlkZUl0ZW1FbGVtZW50cz1mdW5jdGlvbihuKXt2YXIgdD10aGlzLmdldEl0ZW1zKG4pO3RoaXMuaGlkZSh0KX0sZi5nZXRJdGVtPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaSx0PTA7dDx0aGlzLml0ZW1zLmxlbmd0aDt0KyspaWYoaT10aGlzLml0ZW1zW3RdLGkuZWxlbWVudD09bilyZXR1cm4gaX0sZi5nZXRJdGVtcz1mdW5jdGlvbihuKXtuPXIubWFrZUFycmF5KG4pO3ZhciB0PVtdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk9dGhpcy5nZXRJdGVtKG4pO2kmJnQucHVzaChpKX0sdGhpcyksdH0sZi5yZW1vdmU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5nZXRJdGVtcyhuKTt0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCJyZW1vdmUiLHQpO3QmJnQubGVuZ3RoJiZ0LmZvckVhY2goZnVuY3Rpb24obil7bi5yZW1vdmUoKTtyLnJlbW92ZUZyb20odGhpcy5pdGVtcyxuKX0sdGhpcyl9LGYuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudC5zdHlsZSx0O24uaGVpZ2h0PSIiO24ucG9zaXRpb249IiI7bi53aWR0aD0iIjt0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24obil7bi5kZXN0cm95KCl9KTt0aGlzLnVuYmluZFJlc2l6ZSgpO3Q9dGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtkZWxldGUgc1t0XTtkZWxldGUgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtvJiZvLnJlbW92ZURhdGEodGhpcy5lbGVtZW50LHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlKX0sZS5kYXRhPWZ1bmN0aW9uKG4pe249ci5nZXRRdWVyeUVsZW1lbnQobik7dmFyIHQ9biYmbi5vdXRsYXllckdVSUQ7cmV0dXJuIHQmJnNbdF19LGUuY3JlYXRlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9aChlKTtyZXR1cm4gaS5kZWZhdWx0cz1yLmV4dGVuZCh7fSxlLmRlZmF1bHRzKSxyLmV4dGVuZChpLmRlZmF1bHRzLHQpLGkuY29tcGF0T3B0aW9ucz1yLmV4dGVuZCh7fSxlLmNvbXBhdE9wdGlvbnMpLGkubmFtZXNwYWNlPW4saS5kYXRhPWUuZGF0YSxpLkl0ZW09aCh1KSxyLmh0bWxJbml0KGksbiksbyYmby5icmlkZ2V0JiZvLmJyaWRnZXQobixpKSxpfSxhPXttczoxLHM6MWUzfSxlLkl0ZW09dSxlfSksZnVuY3Rpb24obix0KXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiaXNvdG9wZS9qcy9pdGVtIixbIm91dGxheWVyL291dGxheWVyIl0sdCk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZSgib3V0bGF5ZXIiKSk6KG4uSXNvdG9wZT1uLklzb3RvcGV8fHt9LG4uSXNvdG9wZS5JdGVtPXQobi5PdXRsYXllcikpfSh3aW5kb3csZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoKXtuLkl0ZW0uYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB0PWkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5JdGVtLnByb3RvdHlwZSksdT10Ll9jcmVhdGUscjtyZXR1cm4gdC5fY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5pZD10aGlzLmxheW91dC5pdGVtR1VJRCsrO3UuY2FsbCh0aGlzKTt0aGlzLnNvcnREYXRhPXt9fSx0LnVwZGF0ZVNvcnREYXRhPWZ1bmN0aW9uKCl7dmFyIHQsaSxuLHI7aWYoIXRoaXMuaXNJZ25vcmVkKXt0aGlzLnNvcnREYXRhLmlkPXRoaXMuaWQ7dGhpcy5zb3J0RGF0YVsib3JpZ2luYWwtb3JkZXIiXT10aGlzLmlkO3RoaXMuc29ydERhdGEucmFuZG9tPU1hdGgucmFuZG9tKCk7dD10aGlzLmxheW91dC5vcHRpb25zLmdldFNvcnREYXRhO2k9dGhpcy5sYXlvdXQuX3NvcnRlcnM7Zm9yKG4gaW4gdClyPWlbbl0sdGhpcy5zb3J0RGF0YVtuXT1yKHRoaXMuZWxlbWVudCx0aGlzKX19LHI9dC5kZXN0cm95LHQuZGVzdHJveT1mdW5jdGlvbigpe3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY3NzKHtkaXNwbGF5OiIifSl9LGl9KSxmdW5jdGlvbihuLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJpc290b3BlL2pzL2xheW91dC1tb2RlIixbImdldC1zaXplL2dldC1zaXplIiwib3V0bGF5ZXIvb3V0bGF5ZXIiXSx0KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKCJnZXQtc2l6ZSIpLHJlcXVpcmUoIm91dGxheWVyIikpOihuLklzb3RvcGU9bi5Jc290b3BlfHx7fSxuLklzb3RvcGUuTGF5b3V0TW9kZT10KG4uZ2V0U2l6ZSxuLk91dGxheWVyKSl9KHdpbmRvdyxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3RoaXMuaXNvdG9wZT1uO24mJih0aGlzLm9wdGlvbnM9bi5vcHRpb25zW3RoaXMubmFtZXNwYWNlXSx0aGlzLmVsZW1lbnQ9bi5lbGVtZW50LHRoaXMuaXRlbXM9bi5maWx0ZXJlZEl0ZW1zLHRoaXMuc2l6ZT1uLnNpemUpfXZhciBpPXIucHJvdG90eXBlO3JldHVyblsiX3Jlc2V0TGF5b3V0IiwiX2dldEl0ZW1MYXlvdXRQb3NpdGlvbiIsIl9tYW5hZ2VTdGFtcCIsIl9nZXRDb250YWluZXJTaXplIiwiX2dldEVsZW1lbnRPZmZzZXQiLCJuZWVkc1Jlc2l6ZUxheW91dCIsIl9nZXRPcHRpb24iXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lbbl09ZnVuY3Rpb24oKXtyZXR1cm4gdC5wcm90b3R5cGVbbl0uYXBwbHkodGhpcy5pc290b3BlLGFyZ3VtZW50cyl9fSksaS5uZWVkc1ZlcnRpY2FsUmVzaXplTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzLmlzb3RvcGUuZWxlbWVudCksaT10aGlzLmlzb3RvcGUuc2l6ZSYmdDtyZXR1cm4gaSYmdC5pbm5lckhlaWdodCE9dGhpcy5pc290b3BlLnNpemUuaW5uZXJIZWlnaHR9LGkuX2dldE1lYXN1cmVtZW50PWZ1bmN0aW9uKCl7dGhpcy5pc290b3BlLl9nZXRNZWFzdXJlbWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ2V0Q29sdW1uV2lkdGg9ZnVuY3Rpb24oKXt0aGlzLmdldFNlZ21lbnRTaXplKCJjb2x1bW4iLCJXaWR0aCIpfSxpLmdldFJvd0hlaWdodD1mdW5jdGlvbigpe3RoaXMuZ2V0U2VnbWVudFNpemUoInJvdyIsIkhlaWdodCIpfSxpLmdldFNlZ21lbnRTaXplPWZ1bmN0aW9uKG4sdCl7dmFyIGk9bit0LHU9Im91dGVyIit0LHI7KHRoaXMuX2dldE1lYXN1cmVtZW50KGksdSksdGhpc1tpXSl8fChyPXRoaXMuZ2V0Rmlyc3RJdGVtU2l6ZSgpLHRoaXNbaV09ciYmclt1XXx8dGhpcy5pc290b3BlLnNpemVbImlubmVyIit0XSl9LGkuZ2V0Rmlyc3RJdGVtU2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaXNvdG9wZS5maWx0ZXJlZEl0ZW1zWzBdO3JldHVybiB0JiZ0LmVsZW1lbnQmJm4odC5lbGVtZW50KX0saS5sYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLmlzb3RvcGUubGF5b3V0LmFwcGx5KHRoaXMuaXNvdG9wZSxhcmd1bWVudHMpfSxpLmdldFNpemU9ZnVuY3Rpb24oKXt0aGlzLmlzb3RvcGUuZ2V0U2l6ZSgpO3RoaXMuc2l6ZT10aGlzLmlzb3RvcGUuc2l6ZX0sci5tb2Rlcz17fSxyLmNyZWF0ZT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHUoKXtyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpKSx1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj11LHQmJih1Lm9wdGlvbnM9dCksdS5wcm90b3R5cGUubmFtZXNwYWNlPW4sci5tb2Rlc1tuXT11LHV9LHJ9KSxmdW5jdGlvbihuLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJtYXNvbnJ5L21hc29ucnkiLFsib3V0bGF5ZXIvb3V0bGF5ZXIiLCJnZXQtc2l6ZS9nZXQtc2l6ZSJdLHQpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoIm91dGxheWVyIikscmVxdWlyZSgiZ2V0LXNpemUiKSk6bi5NYXNvbnJ5PXQobi5PdXRsYXllcixuLmdldFNpemUpfSh3aW5kb3csZnVuY3Rpb24obix0KXt2YXIgcj1uLmNyZWF0ZSgibWFzb25yeSIpLGk7cmV0dXJuIHIuY29tcGF0T3B0aW9ucy5maXRXaWR0aD0iaXNGaXRXaWR0aCIsaT1yLnByb3RvdHlwZSxpLl9yZXNldExheW91dD1mdW5jdGlvbigpe3RoaXMuZ2V0U2l6ZSgpO3RoaXMuX2dldE1lYXN1cmVtZW50KCJjb2x1bW5XaWR0aCIsIm91dGVyV2lkdGgiKTt0aGlzLl9nZXRNZWFzdXJlbWVudCgiZ3V0dGVyIiwib3V0ZXJXaWR0aCIpO3RoaXMubWVhc3VyZUNvbHVtbnMoKTt0aGlzLmNvbFlzPVtdO2Zvcih2YXIgbj0wO248dGhpcy5jb2xzO24rKyl0aGlzLmNvbFlzLnB1c2goMCk7dGhpcy5tYXhZPTA7dGhpcy5ob3Jpem9udGFsQ29sSW5kZXg9MH0saS5tZWFzdXJlQ29sdW1ucz1mdW5jdGlvbigpe3ZhciBuLGk7KHRoaXMuZ2V0Q29udGFpbmVyV2lkdGgoKSx0aGlzLmNvbHVtbldpZHRoKXx8KG49dGhpcy5pdGVtc1swXSxpPW4mJm4uZWxlbWVudCx0aGlzLmNvbHVtbldpZHRoPWkmJnQoaSkub3V0ZXJXaWR0aHx8dGhpcy5jb250YWluZXJXaWR0aCk7dmFyIHI9dGhpcy5jb2x1bW5XaWR0aCs9dGhpcy5ndXR0ZXIsZj10aGlzLmNvbnRhaW5lcldpZHRoK3RoaXMuZ3V0dGVyLHU9Zi9yLGU9ci1mJXIsbz1lJiZlPDE/InJvdW5kIjoiZmxvb3IiO3U9TWF0aFtvXSh1KTt0aGlzLmNvbHM9TWF0aC5tYXgodSwxKX0saS5nZXRDb250YWluZXJXaWR0aD1mdW5jdGlvbigpe3ZhciBpPXRoaXMuX2dldE9wdGlvbigiZml0V2lkdGgiKSxyPWk/dGhpcy5lbGVtZW50LnBhcmVudE5vZGU6dGhpcy5lbGVtZW50LG49dChyKTt0aGlzLmNvbnRhaW5lcldpZHRoPW4mJm4uaW5uZXJXaWR0aH0saS5fZ2V0SXRlbUxheW91dFBvc2l0aW9uPWZ1bmN0aW9uKG4pe24uZ2V0U2l6ZSgpO3ZhciB1PW4uc2l6ZS5vdXRlcldpZHRoJXRoaXMuY29sdW1uV2lkdGgsZj11JiZ1PDE/InJvdW5kIjoiY2VpbCIsaT1NYXRoW2ZdKG4uc2l6ZS5vdXRlcldpZHRoL3RoaXMuY29sdW1uV2lkdGgpO2k9TWF0aC5taW4oaSx0aGlzLmNvbHMpO2Zvcih2YXIgZT10aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9yZGVyPyJfZ2V0SG9yaXpvbnRhbENvbFBvc2l0aW9uIjoiX2dldFRvcENvbFBvc2l0aW9uIix0PXRoaXNbZV0oaSxuKSxvPXt4OnRoaXMuY29sdW1uV2lkdGgqdC5jb2wseTp0Lnl9LHM9dC55K24uc2l6ZS5vdXRlckhlaWdodCxoPWkrdC5jb2wscj10LmNvbDtyPGg7cisrKXRoaXMuY29sWXNbcl09cztyZXR1cm4gb30saS5fZ2V0VG9wQ29sUG9zaXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0VG9wQ29sR3JvdXAobiksaT1NYXRoLm1pbi5hcHBseShNYXRoLHQpO3JldHVybntjb2w6dC5pbmRleE9mKGkpLHk6aX19LGkuX2dldFRvcENvbEdyb3VwPWZ1bmN0aW9uKG4pe2lmKG48MilyZXR1cm4gdGhpcy5jb2xZcztmb3IodmFyIGk9W10scj10aGlzLmNvbHMrMS1uLHQ9MDt0PHI7dCsrKWlbdF09dGhpcy5fZ2V0Q29sR3JvdXBZKHQsbik7cmV0dXJuIGl9LGkuX2dldENvbEdyb3VwWT1mdW5jdGlvbihuLHQpe2lmKHQ8MilyZXR1cm4gdGhpcy5jb2xZc1tuXTt2YXIgaT10aGlzLmNvbFlzLnNsaWNlKG4sbit0KTtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxpKX0saS5fZ2V0SG9yaXpvbnRhbENvbFBvc2l0aW9uPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5ob3Jpem9udGFsQ29sSW5kZXgldGhpcy5jb2xzLHU9bj4xJiZpK24+dGhpcy5jb2xzLHI7cmV0dXJuIGk9dT8wOmkscj10LnNpemUub3V0ZXJXaWR0aCYmdC5zaXplLm91dGVySGVpZ2h0LHRoaXMuaG9yaXpvbnRhbENvbEluZGV4PXI/aStuOnRoaXMuaG9yaXpvbnRhbENvbEluZGV4LHtjb2w6aSx5OnRoaXMuX2dldENvbEdyb3VwWShpLG4pfX0saS5fbWFuYWdlU3RhbXA9ZnVuY3Rpb24obil7dmFyIGU9dChuKSxyPXRoaXMuX2dldEVsZW1lbnRPZmZzZXQobiksaD10aGlzLl9nZXRPcHRpb24oIm9yaWdpbkxlZnQiKSxvPWg/ci5sZWZ0OnIucmlnaHQscz1vK2Uub3V0ZXJXaWR0aCxmPU1hdGguZmxvb3Ioby90aGlzLmNvbHVtbldpZHRoKSxpO2Y9TWF0aC5tYXgoMCxmKTtpPU1hdGguZmxvb3Iocy90aGlzLmNvbHVtbldpZHRoKTtpLT1zJXRoaXMuY29sdW1uV2lkdGg/MDoxO2k9TWF0aC5taW4odGhpcy5jb2xzLTEsaSk7Zm9yKHZhciBjPXRoaXMuX2dldE9wdGlvbigib3JpZ2luVG9wIiksbD0oYz9yLnRvcDpyLmJvdHRvbSkrZS5vdXRlckhlaWdodCx1PWY7dTw9aTt1KyspdGhpcy5jb2xZc1t1XT1NYXRoLm1heChsLHRoaXMuY29sWXNbdV0pfSxpLl9nZXRDb250YWluZXJTaXplPWZ1bmN0aW9uKCl7dGhpcy5tYXhZPU1hdGgubWF4LmFwcGx5KE1hdGgsdGhpcy5jb2xZcyk7dmFyIG49e2hlaWdodDp0aGlzLm1heFl9O3JldHVybiB0aGlzLl9nZXRPcHRpb24oImZpdFdpZHRoIikmJihuLndpZHRoPXRoaXMuX2dldENvbnRhaW5lckZpdFdpZHRoKCkpLG59LGkuX2dldENvbnRhaW5lckZpdFdpZHRoPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsdD10aGlzLmNvbHM7LS10JiYwPT09dGhpcy5jb2xZc1t0XTspbisrO3JldHVybih0aGlzLmNvbHMtbikqdGhpcy5jb2x1bW5XaWR0aC10aGlzLmd1dHRlcn0saS5uZWVkc1Jlc2l6ZUxheW91dD1mdW5jdGlvbigpe3ZhciBuPXRoaXMuY29udGFpbmVyV2lkdGg7cmV0dXJuIHRoaXMuZ2V0Q29udGFpbmVyV2lkdGgoKSxuIT10aGlzLmNvbnRhaW5lcldpZHRofSxyfSksZnVuY3Rpb24obix0KXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgiaXNvdG9wZS9qcy9sYXlvdXQtbW9kZXMvbWFzb25yeSIsWyIuLi9sYXlvdXQtbW9kZSIsIm1hc29ucnkvbWFzb25yeSJdLHQpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoIi4uL2xheW91dC1tb2RlIikscmVxdWlyZSgibWFzb25yeS1sYXlvdXQiKSk6dChuLklzb3RvcGUuTGF5b3V0TW9kZSxuLk1hc29ucnkpfSh3aW5kb3csZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7dmFyIHU9bi5jcmVhdGUoIm1hc29ucnkiKSxpPXUucHJvdG90eXBlLG89e19nZXRFbGVtZW50T2Zmc2V0OiEwLGxheW91dDohMCxfZ2V0TWVhc3VyZW1lbnQ6ITB9LHIsZixlO2ZvcihyIGluIHQucHJvdG90eXBlKW9bcl18fChpW3JdPXQucHJvdG90eXBlW3JdKTtyZXR1cm4gZj1pLm1lYXN1cmVDb2x1bW5zLGkubWVhc3VyZUNvbHVtbnM9ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPXRoaXMuaXNvdG9wZS5maWx0ZXJlZEl0ZW1zO2YuY2FsbCh0aGlzKX0sZT1pLl9nZXRPcHRpb24saS5fZ2V0T3B0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiJmaXRXaWR0aCI9PW4/dm9pZCAwIT09dGhpcy5vcHRpb25zLmlzRml0V2lkdGg/dGhpcy5vcHRpb25zLmlzRml0V2lkdGg6dGhpcy5vcHRpb25zLmZpdFdpZHRoOmUuYXBwbHkodGhpcy5pc290b3BlLGFyZ3VtZW50cyl9LHV9KSxmdW5jdGlvbihuLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJpc290b3BlL2pzL2xheW91dC1tb2Rlcy9maXQtcm93cyIsWyIuLi9sYXlvdXQtbW9kZSJdLHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoIi4uL2xheW91dC1tb2RlIikpOnQobi5Jc290b3BlLkxheW91dE1vZGUpfSh3aW5kb3csZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBpPW4uY3JlYXRlKCJmaXRSb3dzIiksdD1pLnByb3RvdHlwZTtyZXR1cm4gdC5fcmVzZXRMYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLng9MDt0aGlzLnk9MDt0aGlzLm1heFk9MDt0aGlzLl9nZXRNZWFzdXJlbWVudCgiZ3V0dGVyIiwib3V0ZXJXaWR0aCIpfSx0Ll9nZXRJdGVtTGF5b3V0UG9zaXRpb249ZnVuY3Rpb24obil7dmFyIHQsaSxyO3JldHVybiBuLmdldFNpemUoKSx0PW4uc2l6ZS5vdXRlcldpZHRoK3RoaXMuZ3V0dGVyLGk9dGhpcy5pc290b3BlLnNpemUuaW5uZXJXaWR0aCt0aGlzLmd1dHRlciwwIT09dGhpcy54JiZ0K3RoaXMueD5pJiYodGhpcy54PTAsdGhpcy55PXRoaXMubWF4WSkscj17eDp0aGlzLngseTp0aGlzLnl9LHRoaXMubWF4WT1NYXRoLm1heCh0aGlzLm1heFksdGhpcy55K24uc2l6ZS5vdXRlckhlaWdodCksdGhpcy54Kz10LHJ9LHQuX2dldENvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXtyZXR1cm57aGVpZ2h0OnRoaXMubWF4WX19LGl9KSxmdW5jdGlvbihuLHQpeyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKCJpc290b3BlL2pzL2xheW91dC1tb2Rlcy92ZXJ0aWNhbCIsWyIuLi9sYXlvdXQtbW9kZSJdLHQpOiJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoIi4uL2xheW91dC1tb2RlIikpOnQobi5Jc290b3BlLkxheW91dE1vZGUpfSh3aW5kb3csZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBpPW4uY3JlYXRlKCJ2ZXJ0aWNhbCIse2hvcml6b250YWxBbGlnbm1lbnQ6MH0pLHQ9aS5wcm90b3R5cGU7cmV0dXJuIHQuX3Jlc2V0TGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy55PTB9LHQuX2dldEl0ZW1MYXlvdXRQb3NpdGlvbj1mdW5jdGlvbihuKXtuLmdldFNpemUoKTt2YXIgdD0odGhpcy5pc290b3BlLnNpemUuaW5uZXJXaWR0aC1uLnNpemUub3V0ZXJXaWR0aCkqdGhpcy5vcHRpb25zLmhvcml6b250YWxBbGlnbm1lbnQsaT10aGlzLnk7cmV0dXJuIHRoaXMueSs9bi5zaXplLm91dGVySGVpZ2h0LHt4OnQseTppfX0sdC5fZ2V0Q29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3JldHVybntoZWlnaHQ6dGhpcy55fX0saX0pLGZ1bmN0aW9uKG4sdCl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJvdXRsYXllci9vdXRsYXllciIsImdldC1zaXplL2dldC1zaXplIiwiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yIiwiZml6enktdWktdXRpbHMvdXRpbHMiLCJpc290b3BlL2pzL2l0ZW0iLCJpc290b3BlL2pzL2xheW91dC1tb2RlIiwiaXNvdG9wZS9qcy9sYXlvdXQtbW9kZXMvbWFzb25yeSIsImlzb3RvcGUvanMvbGF5b3V0LW1vZGVzL2ZpdC1yb3dzIiwiaXNvdG9wZS9qcy9sYXlvdXQtbW9kZXMvdmVydGljYWwiXSxmdW5jdGlvbihpLHIsdSxmLGUsbyl7cmV0dXJuIHQobixpLHIsdSxmLGUsbyl9KToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dChuLHJlcXVpcmUoIm91dGxheWVyIikscmVxdWlyZSgiZ2V0LXNpemUiKSxyZXF1aXJlKCJkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yIikscmVxdWlyZSgiZml6enktdWktdXRpbHMiKSxyZXF1aXJlKCJpc290b3BlL2pzL2l0ZW0iKSxyZXF1aXJlKCJpc290b3BlL2pzL2xheW91dC1tb2RlIikscmVxdWlyZSgiaXNvdG9wZS9qcy9sYXlvdXQtbW9kZXMvbWFzb25yeSIpLHJlcXVpcmUoImlzb3RvcGUvanMvbGF5b3V0LW1vZGVzL2ZpdC1yb3dzIikscmVxdWlyZSgiaXNvdG9wZS9qcy9sYXlvdXQtbW9kZXMvdmVydGljYWwiKSk6bi5Jc290b3BlPXQobixuLk91dGxheWVyLG4uZ2V0U2l6ZSxuLm1hdGNoZXNTZWxlY3RvcixuLmZpenp5VUlVdGlscyxuLklzb3RvcGUuSXRlbSxuLklzb3RvcGUuTGF5b3V0TW9kZSl9KHdpbmRvdyxmdW5jdGlvbihuLHQsaSxyLHUsZixlKXtmdW5jdGlvbiBhKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkscil7Zm9yKHZhciBzLGgsdT0wO3U8bi5sZW5ndGg7dSsrKXt2YXIgZj1uW3VdLGU9aS5zb3J0RGF0YVtmXSxvPXIuc29ydERhdGFbZl07aWYoZT5vfHxlPG8pcmV0dXJuIHM9dm9pZCAwIT09dFtmXT90W2ZdOnQsaD1zPzE6LTEsKGU+bz8xOi0xKSpofXJldHVybiAwfX12YXIgaD1uLmpRdWVyeSx2PVN0cmluZy5wcm90b3R5cGUudHJpbT9mdW5jdGlvbihuKXtyZXR1cm4gbi50cmltKCl9OmZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0scz10LmNyZWF0ZSgiaXNvdG9wZSIse2xheW91dE1vZGU6Im1hc29ucnkiLGlzSlF1ZXJ5RmlsdGVyaW5nOiEwLHNvcnRBc2NlbmRpbmc6ITB9KSxvLGMsbDtyZXR1cm4gcy5JdGVtPWYscy5MYXlvdXRNb2RlPWUsbz1zLnByb3RvdHlwZSxvLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLml0ZW1HVUlEPTA7dGhpcy5fc29ydGVycz17fTt0aGlzLl9nZXRTb3J0ZXJzKCk7dC5wcm90b3R5cGUuX2NyZWF0ZS5jYWxsKHRoaXMpO3RoaXMubW9kZXM9e307dGhpcy5maWx0ZXJlZEl0ZW1zPXRoaXMuaXRlbXM7dGhpcy5zb3J0SGlzdG9yeT1bIm9yaWdpbmFsLW9yZGVyIl07Zm9yKHZhciBuIGluIGUubW9kZXMpdGhpcy5faW5pdExheW91dE1vZGUobil9LG8ucmVsb2FkSXRlbXM9ZnVuY3Rpb24oKXt0aGlzLml0ZW1HVUlEPTA7dC5wcm90b3R5cGUucmVsb2FkSXRlbXMuY2FsbCh0aGlzKX0sby5faXRlbWl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgcixuPXQucHJvdG90eXBlLl9pdGVtaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPTA7aTxuLmxlbmd0aDtpKyspcj1uW2ldLHIuaWQ9dGhpcy5pdGVtR1VJRCsrO3JldHVybiB0aGlzLl91cGRhdGVJdGVtc1NvcnREYXRhKG4pLG59LG8uX2luaXRMYXlvdXRNb2RlPWZ1bmN0aW9uKG4pe3ZhciB0PWUubW9kZXNbbl0saT10aGlzLm9wdGlvbnNbbl18fHt9O3RoaXMub3B0aW9uc1tuXT10Lm9wdGlvbnM/dS5leHRlbmQodC5vcHRpb25zLGkpOmk7dGhpcy5tb2Rlc1tuXT1uZXcgdCh0aGlzKX0sby5sYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5faXNMYXlvdXRJbml0ZWQmJnRoaXMuX2dldE9wdGlvbigiaW5pdExheW91dCIpP3ZvaWQgdGhpcy5hcnJhbmdlKCk6dm9pZCB0aGlzLl9sYXlvdXQoKX0sby5fbGF5b3V0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZ2V0SXNJbnN0YW50KCk7dGhpcy5fcmVzZXRMYXlvdXQoKTt0aGlzLl9tYW5hZ2VTdGFtcHMoKTt0aGlzLmxheW91dEl0ZW1zKHRoaXMuZmlsdGVyZWRJdGVtcyxuKTt0aGlzLl9pc0xheW91dEluaXRlZD0hMH0sby5hcnJhbmdlPWZ1bmN0aW9uKG4pe3RoaXMub3B0aW9uKG4pO3RoaXMuX2dldElzSW5zdGFudCgpO3ZhciB0PXRoaXMuX2ZpbHRlcih0aGlzLml0ZW1zKTt0aGlzLmZpbHRlcmVkSXRlbXM9dC5tYXRjaGVzO3RoaXMuX2JpbmRBcnJhbmdlQ29tcGxldGUoKTt0aGlzLl9pc0luc3RhbnQ/dGhpcy5fbm9UcmFuc2l0aW9uKHRoaXMuX2hpZGVSZXZlYWwsW3RdKTp0aGlzLl9oaWRlUmV2ZWFsKHQpO3RoaXMuX3NvcnQoKTt0aGlzLl9sYXlvdXQoKX0sby5faW5pdD1vLmFycmFuZ2Usby5faGlkZVJldmVhbD1mdW5jdGlvbihuKXt0aGlzLnJldmVhbChuLm5lZWRSZXZlYWwpO3RoaXMuaGlkZShuLm5lZWRIaWRlKX0sby5fZ2V0SXNJbnN0YW50PWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZ2V0T3B0aW9uKCJsYXlvdXRJbnN0YW50IiksdD12b2lkIDAhPT1uP246IXRoaXMuX2lzTGF5b3V0SW5pdGVkO3JldHVybiB0aGlzLl9pc0luc3RhbnQ9dCx0fSxvLl9iaW5kQXJyYW5nZUNvbXBsZXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3QmJmkmJnImJnUuZGlzcGF0Y2hFdmVudCgiYXJyYW5nZUNvbXBsZXRlIixudWxsLFt1LmZpbHRlcmVkSXRlbXNdKX12YXIgdCxpLHIsdT10aGlzO3RoaXMub25jZSgibGF5b3V0Q29tcGxldGUiLGZ1bmN0aW9uKCl7dD0hMDtuKCl9KTt0aGlzLm9uY2UoImhpZGVDb21wbGV0ZSIsZnVuY3Rpb24oKXtpPSEwO24oKX0pO3RoaXMub25jZSgicmV2ZWFsQ29tcGxldGUiLGZ1bmN0aW9uKCl7cj0hMDtuKCl9KX0sby5fZmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMub3B0aW9ucy5maWx0ZXIsdCxpO3I9cnx8IioiO2Zvcih2YXIgZj1bXSxlPVtdLG89W10scz10aGlzLl9nZXRGaWx0ZXJUZXN0KHIpLHU9MDt1PG4ubGVuZ3RoO3UrKyl0PW5bdV0sdC5pc0lnbm9yZWR8fChpPXModCksaSYmZi5wdXNoKHQpLGkmJnQuaXNIaWRkZW4/ZS5wdXNoKHQpOml8fHQuaXNIaWRkZW58fG8ucHVzaCh0KSk7cmV0dXJue21hdGNoZXM6ZixuZWVkUmV2ZWFsOmUsbmVlZEhpZGU6b319LG8uX2dldEZpbHRlclRlc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGgmJnRoaXMub3B0aW9ucy5pc0pRdWVyeUZpbHRlcmluZz9mdW5jdGlvbih0KXtyZXR1cm4gaCh0LmVsZW1lbnQpLmlzKG4pfToiZnVuY3Rpb24iPT10eXBlb2Ygbj9mdW5jdGlvbih0KXtyZXR1cm4gbih0LmVsZW1lbnQpfTpmdW5jdGlvbih0KXtyZXR1cm4gcih0LmVsZW1lbnQsbil9fSxvLnVwZGF0ZVNvcnREYXRhPWZ1bmN0aW9uKG4pe3ZhciB0O24/KG49dS5tYWtlQXJyYXkobiksdD10aGlzLmdldEl0ZW1zKG4pKTp0PXRoaXMuaXRlbXM7dGhpcy5fZ2V0U29ydGVycygpO3RoaXMuX3VwZGF0ZUl0ZW1zU29ydERhdGEodCl9LG8uX2dldFNvcnRlcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuZ2V0U29ydERhdGEsbixpO2ZvcihuIGluIHQpaT10W25dLHRoaXMuX3NvcnRlcnNbbl09YyhpKX0sby5fdXBkYXRlSXRlbXNTb3J0RGF0YT1mdW5jdGlvbihuKXtmb3IodmFyIHIsaT1uJiZuLmxlbmd0aCx0PTA7aSYmdDxpO3QrKylyPW5bdF0sci51cGRhdGVTb3J0RGF0YSgpfSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIG47dmFyIGk9dihuKS5zcGxpdCgiICIpLHI9aVswXSx1PXIubWF0Y2goL15cWyguKylcXSQvKSxvPXUmJnVbMV0sZj10KG8sciksZT1zLnNvcnREYXRhUGFyc2Vyc1tpWzFdXTtyZXR1cm4gZT9mdW5jdGlvbihuKXtyZXR1cm4gbiYmZShmKG4pKX06ZnVuY3Rpb24obil7cmV0dXJuIG4mJmYobil9fWZ1bmN0aW9uIHQobix0KXtyZXR1cm4gbj9mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRBdHRyaWJ1dGUobil9OmZ1bmN0aW9uKG4pe3ZhciBpPW4ucXVlcnlTZWxlY3Rvcih0KTtyZXR1cm4gaSYmaS50ZXh0Q29udGVudH19cmV0dXJuIG59KCkscy5zb3J0RGF0YVBhcnNlcnM9e3BhcnNlSW50OmZ1bmN0aW9uKG4pe3JldHVybiBwYXJzZUludChuLDEwKX0scGFyc2VGbG9hdDpmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKX19LG8uX3NvcnQ9ZnVuY3Rpb24oKXt2YXIgbix0O3RoaXMub3B0aW9ucy5zb3J0QnkmJihuPXUubWFrZUFycmF5KHRoaXMub3B0aW9ucy5zb3J0QnkpLHRoaXMuX2dldElzU2FtZVNvcnRCeShuKXx8KHRoaXMuc29ydEhpc3Rvcnk9bi5jb25jYXQodGhpcy5zb3J0SGlzdG9yeSkpLHQ9YSh0aGlzLnNvcnRIaXN0b3J5LHRoaXMub3B0aW9ucy5zb3J0QXNjZW5kaW5nKSx0aGlzLmZpbHRlcmVkSXRlbXMuc29ydCh0KSl9LG8uX2dldElzU2FtZVNvcnRCeT1mdW5jdGlvbihuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdIT10aGlzLnNvcnRIaXN0b3J5W3RdKXJldHVybiExO3JldHVybiEwfSxvLl9tb2RlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLmxheW91dE1vZGUsdD10aGlzLm1vZGVzW25dO2lmKCF0KXRocm93IG5ldyBFcnJvcigiTm8gbGF5b3V0IG1vZGU6ICIrbik7cmV0dXJuIHQub3B0aW9ucz10aGlzLm9wdGlvbnNbbl0sdH0sby5fcmVzZXRMYXlvdXQ9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5fcmVzZXRMYXlvdXQuY2FsbCh0aGlzKTt0aGlzLl9tb2RlKCkuX3Jlc2V0TGF5b3V0KCl9LG8uX2dldEl0ZW1MYXlvdXRQb3NpdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fbW9kZSgpLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24obil9LG8uX21hbmFnZVN0YW1wPWZ1bmN0aW9uKG4pe3RoaXMuX21vZGUoKS5fbWFuYWdlU3RhbXAobil9LG8uX2dldENvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZSgpLl9nZXRDb250YWluZXJTaXplKCl9LG8ubmVlZHNSZXNpemVMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZSgpLm5lZWRzUmVzaXplTGF5b3V0KCl9LG8uYXBwZW5kZWQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hZGRJdGVtcyhuKSxpO3QubGVuZ3RoJiYoaT10aGlzLl9maWx0ZXJSZXZlYWxBZGRlZCh0KSx0aGlzLmZpbHRlcmVkSXRlbXM9dGhpcy5maWx0ZXJlZEl0ZW1zLmNvbmNhdChpKSl9LG8ucHJlcGVuZGVkPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2l0ZW1pemUobiksaTt0Lmxlbmd0aCYmKHRoaXMuX3Jlc2V0TGF5b3V0KCksdGhpcy5fbWFuYWdlU3RhbXBzKCksaT10aGlzLl9maWx0ZXJSZXZlYWxBZGRlZCh0KSx0aGlzLmxheW91dEl0ZW1zKHRoaXMuZmlsdGVyZWRJdGVtcyksdGhpcy5maWx0ZXJlZEl0ZW1zPWkuY29uY2F0KHRoaXMuZmlsdGVyZWRJdGVtcyksdGhpcy5pdGVtcz10LmNvbmNhdCh0aGlzLml0ZW1zKSl9LG8uX2ZpbHRlclJldmVhbEFkZGVkPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2ZpbHRlcihuKTtyZXR1cm4gdGhpcy5oaWRlKHQubmVlZEhpZGUpLHRoaXMucmV2ZWFsKHQubWF0Y2hlcyksdGhpcy5sYXlvdXRJdGVtcyh0Lm1hdGNoZXMsITApLHQubWF0Y2hlc30sby5pbnNlcnQ9ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5hZGRJdGVtcyhuKSx0LHUscixmO2lmKGkubGVuZ3RoKXtmb3Iocj1pLmxlbmd0aCx0PTA7dDxyO3QrKyl1PWlbdF0sdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHUuZWxlbWVudCk7Zm9yKGY9dGhpcy5fZmlsdGVyKGkpLm1hdGNoZXMsdD0wO3Q8cjt0KyspaVt0XS5pc0xheW91dEluc3RhbnQ9ITA7Zm9yKHRoaXMuYXJyYW5nZSgpLHQ9MDt0PHI7dCsrKWRlbGV0ZSBpW3RdLmlzTGF5b3V0SW5zdGFudDt0aGlzLnJldmVhbChmKX19LGw9by5yZW1vdmUsby5yZW1vdmU9ZnVuY3Rpb24obil7dmFyIHQscixpLGY7Zm9yKG49dS5tYWtlQXJyYXkobiksdD10aGlzLmdldEl0ZW1zKG4pLGwuY2FsbCh0aGlzLG4pLHI9dCYmdC5sZW5ndGgsaT0wO3ImJmk8cjtpKyspZj10W2ldLHUucmVtb3ZlRnJvbSh0aGlzLmZpbHRlcmVkSXRlbXMsZil9LG8uc2h1ZmZsZT1mdW5jdGlvbigpe2Zvcih2YXIgdCxuPTA7bjx0aGlzLml0ZW1zLmxlbmd0aDtuKyspdD10aGlzLml0ZW1zW25dLHQuc29ydERhdGEucmFuZG9tPU1hdGgucmFuZG9tKCk7dGhpcy5vcHRpb25zLnNvcnRCeT0icmFuZG9tIjt0aGlzLl9zb3J0KCk7dGhpcy5fbGF5b3V0KCl9LG8uX25vVHJhbnNpdGlvbj1mdW5jdGlvbihuLHQpe3ZhciByPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb24saTtyZXR1cm4gdGhpcy5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbj0wLGk9bi5hcHBseSh0aGlzLHQpLHRoaXMub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb249cixpfSxvLmdldEZpbHRlcmVkSXRlbUVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyZWRJdGVtcy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudH0pfSxzfSk7Ci8qKgogKiBPd2wgY2Fyb3VzZWwKICogQHZlcnNpb24gMi4zLjQKICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2kKICogQGF1dGhvciBEYXZpZCBEZXV0c2NoCiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKiBAdG9kbyBMYXp5IExvYWQgSWNvbgogKiBAdG9kbyBwcmV2ZW50IGFuaW1hdGlvbmVuZCBidWJsaW5nCiAqIEB0b2RvIGl0ZW1zU2NhbGVVcAogKiBAdG9kbyBUZXN0IFplcHRvCiAqIEB0b2RvIHN0YWdlUGFkZGluZyBjYWxjdWxhdGUgd3JvbmcgYWN0aXZlIGNsYXNzZXMKICovCihmdW5jdGlvbihuLHQsaSxyKXtmdW5jdGlvbiB1KHQsaSl7dGhpcy5zZXR0aW5ncz1udWxsO3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSx1LkRlZmF1bHRzLGkpO3RoaXMuJGVsZW1lbnQ9bih0KTt0aGlzLl9oYW5kbGVycz17fTt0aGlzLl9wbHVnaW5zPXt9O3RoaXMuX3N1cHJlc3M9e307dGhpcy5fY3VycmVudD1udWxsO3RoaXMuX3NwZWVkPW51bGw7dGhpcy5fY29vcmRpbmF0ZXM9W107dGhpcy5fYnJlYWtwb2ludD1udWxsO3RoaXMuX3dpZHRoPW51bGw7dGhpcy5faXRlbXM9W107dGhpcy5fY2xvbmVzPVtdO3RoaXMuX21lcmdlcnM9W107dGhpcy5fd2lkdGhzPVtdO3RoaXMuX2ludmFsaWRhdGVkPXt9O3RoaXMuX3BpcGU9W107dGhpcy5fZHJhZz17dGltZTpudWxsLHRhcmdldDpudWxsLHBvaW50ZXI6bnVsbCxzdGFnZTp7c3RhcnQ6bnVsbCxjdXJyZW50Om51bGx9LGRpcmVjdGlvbjpudWxsfTt0aGlzLl9zdGF0ZXM9e2N1cnJlbnQ6e30sdGFnczp7aW5pdGlhbGl6aW5nOlsiYnVzeSJdLGFuaW1hdGluZzpbImJ1c3kiXSxkcmFnZ2luZzpbImludGVyYWN0aW5nIl19fTtuLmVhY2goWyJvblJlc2l6ZSIsIm9uVGhyb3R0bGVkUmVzaXplIl0sbi5wcm94eShmdW5jdGlvbih0LGkpe3RoaXMuX2hhbmRsZXJzW2ldPW4ucHJveHkodGhpc1tpXSx0aGlzKX0sdGhpcykpO24uZWFjaCh1LlBsdWdpbnMsbi5wcm94eShmdW5jdGlvbihuLHQpe3RoaXMuX3BsdWdpbnNbbi5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStuLnNsaWNlKDEpXT1uZXcgdCh0aGlzKX0sdGhpcykpO24uZWFjaCh1LldvcmtlcnMsbi5wcm94eShmdW5jdGlvbih0LGkpe3RoaXMuX3BpcGUucHVzaCh7ZmlsdGVyOmkuZmlsdGVyLHJ1bjpuLnByb3h5KGkucnVuLHRoaXMpfSl9LHRoaXMpKTt0aGlzLnNldHVwKCk7dGhpcy5pbml0aWFsaXplKCl9dS5EZWZhdWx0cz17aXRlbXM6Myxsb29wOiExLGNlbnRlcjohMSxyZXdpbmQ6ITEsY2hlY2tWaXNpYmlsaXR5OiEwLG1vdXNlRHJhZzohMCx0b3VjaERyYWc6ITAscHVsbERyYWc6ITAsZnJlZURyYWc6ITEsbWFyZ2luOjAsc3RhZ2VQYWRkaW5nOjAsbWVyZ2U6ITEsbWVyZ2VGaXQ6ITAsYXV0b1dpZHRoOiExLHN0YXJ0UG9zaXRpb246MCxydGw6ITEsc21hcnRTcGVlZDoyNTAsZmx1aWRTcGVlZDohMSxkcmFnRW5kU3BlZWQ6ITEscmVzcG9uc2l2ZTp7fSxyZXNwb25zaXZlUmVmcmVzaFJhdGU6MjAwLHJlc3BvbnNpdmVCYXNlRWxlbWVudDp0LGZhbGxiYWNrRWFzaW5nOiJzd2luZyIsc2xpZGVUcmFuc2l0aW9uOiIiLGluZm86ITEsbmVzdGVkSXRlbVNlbGVjdG9yOiExLGl0ZW1FbGVtZW50OiJkaXYiLHN0YWdlRWxlbWVudDoiZGl2IixyZWZyZXNoQ2xhc3M6Im93bC1yZWZyZXNoIixsb2FkZWRDbGFzczoib3dsLWxvYWRlZCIsbG9hZGluZ0NsYXNzOiJvd2wtbG9hZGluZyIscnRsQ2xhc3M6Im93bC1ydGwiLHJlc3BvbnNpdmVDbGFzczoib3dsLXJlc3BvbnNpdmUiLGRyYWdDbGFzczoib3dsLWRyYWciLGl0ZW1DbGFzczoib3dsLWl0ZW0iLHN0YWdlQ2xhc3M6Im93bC1zdGFnZSIsc3RhZ2VPdXRlckNsYXNzOiJvd2wtc3RhZ2Utb3V0ZXIiLGdyYWJDbGFzczoib3dsLWdyYWIifTt1LldpZHRoPXtEZWZhdWx0OiJkZWZhdWx0IixJbm5lcjoiaW5uZXIiLE91dGVyOiJvdXRlciJ9O3UuVHlwZT17RXZlbnQ6ImV2ZW50IixTdGF0ZToic3RhdGUifTt1LlBsdWdpbnM9e307dS5Xb3JrZXJzPVt7ZmlsdGVyOlsid2lkdGgiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbigpe3RoaXMuX3dpZHRoPXRoaXMuJGVsZW1lbnQud2lkdGgoKX19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24obil7bi5jdXJyZW50PXRoaXMuX2l0ZW1zJiZ0aGlzLl9pdGVtc1t0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpXX19LHtmaWx0ZXI6WyJpdGVtcyIsInNldHRpbmdzIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy4kc3RhZ2UuY2hpbGRyZW4oIi5jbG9uZWQiKS5yZW1vdmUoKX19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5zZXR0aW5ncy5tYXJnaW58fCIiLHU9IXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLGk9dGhpcy5zZXR0aW5ncy5ydGwscj17d2lkdGg6ImF1dG8iLCJtYXJnaW4tbGVmdCI6aT90OiIiLCJtYXJnaW4tcmlnaHQiOmk/IiI6dH07dXx8dGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5jc3Mocik7bi5jc3M9cn19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24obil7dmFyIHI9KHRoaXMud2lkdGgoKS90aGlzLnNldHRpbmdzLml0ZW1zKS50b0ZpeGVkKDMpLXRoaXMuc2V0dGluZ3MubWFyZ2luLHQ9bnVsbCxpPXRoaXMuX2l0ZW1zLmxlbmd0aCxmPSF0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCx1PVtdO2ZvcihuLml0ZW1zPXttZXJnZTohMSx3aWR0aDpyfTtpLS07KXQ9dGhpcy5fbWVyZ2Vyc1tpXSx0PXRoaXMuc2V0dGluZ3MubWVyZ2VGaXQmJk1hdGgubWluKHQsdGhpcy5zZXR0aW5ncy5pdGVtcyl8fHQsbi5pdGVtcy5tZXJnZT10PjF8fG4uaXRlbXMubWVyZ2UsdVtpXT1mP3IqdDp0aGlzLl9pdGVtc1tpXS53aWR0aCgpO3RoaXMuX3dpZHRocz11fX0se2ZpbHRlcjpbIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24oKXt2YXIgdD1bXSxpPXRoaXMuX2l0ZW1zLHI9dGhpcy5zZXR0aW5ncyxvPU1hdGgubWF4KHIuaXRlbXMqMiw0KSxzPU1hdGguY2VpbChpLmxlbmd0aC8yKSoyLHU9ci5sb29wJiZpLmxlbmd0aD9yLnJld2luZD9vOk1hdGgubWF4KG8scyk6MCxmPSIiLGU9IiI7Zm9yKHUvPTI7dT4wOyl0LnB1c2godGhpcy5ub3JtYWxpemUodC5sZW5ndGgvMiwhMCkpLGY9ZitpW3RbdC5sZW5ndGgtMV1dWzBdLm91dGVySFRNTCx0LnB1c2godGhpcy5ub3JtYWxpemUoaS5sZW5ndGgtMS0odC5sZW5ndGgtMSkvMiwhMCkpLGU9aVt0W3QubGVuZ3RoLTFdXVswXS5vdXRlckhUTUwrZSx1LT0xO3RoaXMuX2Nsb25lcz10O24oZikuYWRkQ2xhc3MoImNsb25lZCIpLmFwcGVuZFRvKHRoaXMuJHN0YWdlKTtuKGUpLmFkZENsYXNzKCJjbG9uZWQiKS5wcmVwZW5kVG8odGhpcy4kc3RhZ2UpfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbigpe2Zvcih2YXIgdT10aGlzLnNldHRpbmdzLnJ0bD8xOi0xLGY9dGhpcy5fY2xvbmVzLmxlbmd0aCt0aGlzLl9pdGVtcy5sZW5ndGgsbj0tMSxpPTAscj0wLHQ9W107KytuPGY7KWk9dFtuLTFdfHwwLHI9dGhpcy5fd2lkdGhzW3RoaXMucmVsYXRpdmUobildK3RoaXMuc2V0dGluZ3MubWFyZ2luLHQucHVzaChpK3IqdSk7dGhpcy5fY29vcmRpbmF0ZXM9dH19LHtmaWx0ZXI6WyJ3aWR0aCIsIml0ZW1zIiwic2V0dGluZ3MiXSxydW46ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyx0PXRoaXMuX2Nvb3JkaW5hdGVzLGk9e3dpZHRoOk1hdGguY2VpbChNYXRoLmFicyh0W3QubGVuZ3RoLTFdKSkrbioyLCJwYWRkaW5nLWxlZnQiOm58fCIiLCJwYWRkaW5nLXJpZ2h0IjpufHwiIn07dGhpcy4kc3RhZ2UuY3NzKGkpfX0se2ZpbHRlcjpbIndpZHRoIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsaT0hdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgscj10aGlzLiRzdGFnZS5jaGlsZHJlbigpO2lmKGkmJm4uaXRlbXMubWVyZ2Upd2hpbGUodC0tKW4uY3NzLndpZHRoPXRoaXMuX3dpZHRoc1t0aGlzLnJlbGF0aXZlKHQpXSxyLmVxKHQpLmNzcyhuLmNzcyk7ZWxzZSBpJiYobi5jc3Mud2lkdGg9bi5pdGVtcy53aWR0aCxyLmNzcyhuLmNzcykpfX0se2ZpbHRlcjpbIml0ZW1zIl0scnVuOmZ1bmN0aW9uKCl7dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoPDEmJnRoaXMuJHN0YWdlLnJlbW92ZUF0dHIoInN0eWxlIil9fSx7ZmlsdGVyOlsid2lkdGgiLCJpdGVtcyIsInNldHRpbmdzIl0scnVuOmZ1bmN0aW9uKG4pe24uY3VycmVudD1uLmN1cnJlbnQ/dGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5pbmRleChuLmN1cnJlbnQpOjA7bi5jdXJyZW50PU1hdGgubWF4KHRoaXMubWluaW11bSgpLE1hdGgubWluKHRoaXMubWF4aW11bSgpLG4uY3VycmVudCkpO3RoaXMucmVzZXQobi5jdXJyZW50KX19LHtmaWx0ZXI6WyJwb3NpdGlvbiJdLHJ1bjpmdW5jdGlvbigpe3RoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKX19LHtmaWx0ZXI6WyJ3aWR0aCIsInBvc2l0aW9uIiwiaXRlbXMiLCJzZXR0aW5ncyJdLHJ1bjpmdW5jdGlvbigpe2Zvcih2YXIgdT10aGlzLnNldHRpbmdzLnJ0bD8xOi0xLGY9dGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcqMix0PXRoaXMuY29vcmRpbmF0ZXModGhpcy5jdXJyZW50KCkpK2YsZT10K3RoaXMud2lkdGgoKSp1LGkscixvPVtdLG49MCxzPXRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDtuPHM7bisrKWk9dGhpcy5fY29vcmRpbmF0ZXNbbi0xXXx8MCxyPU1hdGguYWJzKHRoaXMuX2Nvb3JkaW5hdGVzW25dKStmKnUsKHRoaXMub3AoaSwiPD0iLHQpJiZ0aGlzLm9wKGksIj4iLGUpfHx0aGlzLm9wKHIsIjwiLHQpJiZ0aGlzLm9wKHIsIj4iLGUpKSYmby5wdXNoKG4pO3RoaXMuJHN0YWdlLmNoaWxkcmVuKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKCI6ZXEoIitvLmpvaW4oIiksIDplcSgiKSsiKSIpLmFkZENsYXNzKCJhY3RpdmUiKTt0aGlzLiRzdGFnZS5jaGlsZHJlbigiLmNlbnRlciIpLnJlbW92ZUNsYXNzKCJjZW50ZXIiKTt0aGlzLnNldHRpbmdzLmNlbnRlciYmdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLmN1cnJlbnQoKSkuYWRkQ2xhc3MoImNlbnRlciIpfX1dO3UucHJvdG90eXBlLmluaXRpYWxpemVTdGFnZT1mdW5jdGlvbigpeyh0aGlzLiRzdGFnZT10aGlzLiRlbGVtZW50LmZpbmQoIi4iK3RoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzcyksdGhpcy4kc3RhZ2UubGVuZ3RoKXx8KHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcyksdGhpcy4kc3RhZ2U9bigiPCIrdGhpcy5zZXR0aW5ncy5zdGFnZUVsZW1lbnQrIj4iLHsiY2xhc3MiOnRoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzc30pLndyYXAobigiPGRpdi8+Iix7ImNsYXNzIjp0aGlzLnNldHRpbmdzLnN0YWdlT3V0ZXJDbGFzc30pKSx0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRzdGFnZS5wYXJlbnQoKSkpfTt1LnByb3RvdHlwZS5pbml0aWFsaXplSXRlbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRlbGVtZW50LmZpbmQoIi5vd2wtaXRlbSIpO2lmKHQubGVuZ3RoKXt0aGlzLl9pdGVtcz10LmdldCgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbih0KX0pO3RoaXMuX21lcmdlcnM9dGhpcy5faXRlbXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIDF9KTt0aGlzLnJlZnJlc2goKTtyZXR1cm59dGhpcy5yZXBsYWNlKHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy4kc3RhZ2UucGFyZW50KCkpKTt0aGlzLmlzVmlzaWJsZSgpP3RoaXMucmVmcmVzaCgpOnRoaXMuaW52YWxpZGF0ZSgid2lkdGgiKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcyl9O3UucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtpZih0aGlzLmVudGVyKCJpbml0aWFsaXppbmciKSx0aGlzLnRyaWdnZXIoImluaXRpYWxpemUiKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuc2V0dGluZ3MucnRsQ2xhc3MsdGhpcy5zZXR0aW5ncy5ydGwpLHRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoJiYhdGhpcy5pcygicHJlLWxvYWRpbmciKSl7dmFyIG4sdCxpO249dGhpcy4kZWxlbWVudC5maW5kKCJpbWciKTt0PXRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yPyIuIit0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvcjpyO2k9dGhpcy4kZWxlbWVudC5jaGlsZHJlbih0KS53aWR0aCgpO24ubGVuZ3RoJiZpPD0wJiZ0aGlzLnByZWxvYWRBdXRvV2lkdGhJbWFnZXMobil9dGhpcy5pbml0aWFsaXplU3RhZ2UoKTt0aGlzLmluaXRpYWxpemVJdGVtcygpO3RoaXMucmVnaXN0ZXJFdmVudEhhbmRsZXJzKCk7dGhpcy5sZWF2ZSgiaW5pdGlhbGl6aW5nIik7dGhpcy50cmlnZ2VyKCJpbml0aWFsaXplZCIpfTt1LnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5jaGVja1Zpc2liaWxpdHk/dGhpcy4kZWxlbWVudC5pcygiOnZpc2libGUiKTohMH07dS5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgdT10aGlzLnZpZXdwb3J0KCkscj10aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSxpPS0xLHQ9bnVsbDtyPyhuLmVhY2gocixmdW5jdGlvbihuKXtuPD11JiZuPmkmJihpPU51bWJlcihuKSl9KSx0PW4uZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyxyW2ldKSx0eXBlb2YgdC5zdGFnZVBhZGRpbmc9PSJmdW5jdGlvbiImJih0LnN0YWdlUGFkZGluZz10LnN0YWdlUGFkZGluZygpKSxkZWxldGUgdC5yZXNwb25zaXZlLHQucmVzcG9uc2l2ZUNsYXNzJiZ0aGlzLiRlbGVtZW50LmF0dHIoImNsYXNzIix0aGlzLiRlbGVtZW50LmF0dHIoImNsYXNzIikucmVwbGFjZShuZXcgUmVnRXhwKCIoIit0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUNsYXNzKyItKVxcUytcXHMiLCJnIiksIiQxIitpKSkpOnQ9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zKTt0aGlzLnRyaWdnZXIoImNoYW5nZSIse3Byb3BlcnR5OntuYW1lOiJzZXR0aW5ncyIsdmFsdWU6dH19KTt0aGlzLl9icmVha3BvaW50PWk7dGhpcy5zZXR0aW5ncz10O3RoaXMuaW52YWxpZGF0ZSgic2V0dGluZ3MiKTt0aGlzLnRyaWdnZXIoImNoYW5nZWQiLHtwcm9wZXJ0eTp7bmFtZToic2V0dGluZ3MiLHZhbHVlOnRoaXMuc2V0dGluZ3N9fSl9O3UucHJvdG90eXBlLm9wdGlvbnNMb2dpYz1mdW5jdGlvbigpe3RoaXMuc2V0dGluZ3MuYXV0b1dpZHRoJiYodGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmc9ITEsdGhpcy5zZXR0aW5ncy5tZXJnZT0hMSl9O3UucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy50cmlnZ2VyKCJwcmVwYXJlIix7Y29udGVudDp0fSk7cmV0dXJuIGkuZGF0YXx8KGkuZGF0YT1uKCI8Iit0aGlzLnNldHRpbmdzLml0ZW1FbGVtZW50KyIvPiIpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5pdGVtQ2xhc3MpLmFwcGVuZCh0KSksdGhpcy50cmlnZ2VyKCJwcmVwYXJlZCIse2NvbnRlbnQ6aS5kYXRhfSksaS5kYXRhfTt1LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxpPXRoaXMuX3BpcGUubGVuZ3RoLHI9bi5wcm94eShmdW5jdGlvbihuKXtyZXR1cm4gdGhpc1tuXX0sdGhpcy5faW52YWxpZGF0ZWQpLHU9e307dDxpOykodGhpcy5faW52YWxpZGF0ZWQuYWxsfHxuLmdyZXAodGhpcy5fcGlwZVt0XS5maWx0ZXIscikubGVuZ3RoPjApJiZ0aGlzLl9waXBlW3RdLnJ1bih1KSx0Kys7dGhpcy5faW52YWxpZGF0ZWQ9e307dGhpcy5pcygidmFsaWQiKXx8dGhpcy5lbnRlcigidmFsaWQiKX07dS5wcm90b3R5cGUud2lkdGg9ZnVuY3Rpb24obil7bj1ufHx1LldpZHRoLkRlZmF1bHQ7c3dpdGNoKG4pe2Nhc2UgdS5XaWR0aC5Jbm5lcjpjYXNlIHUuV2lkdGguT3V0ZXI6cmV0dXJuIHRoaXMuX3dpZHRoO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX3dpZHRoLXRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nKjIrdGhpcy5zZXR0aW5ncy5tYXJnaW59fTt1LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dGhpcy5lbnRlcigicmVmcmVzaGluZyIpO3RoaXMudHJpZ2dlcigicmVmcmVzaCIpO3RoaXMuc2V0dXAoKTt0aGlzLm9wdGlvbnNMb2dpYygpO3RoaXMuJGVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLnJlZnJlc2hDbGFzcyk7dGhpcy51cGRhdGUoKTt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO3RoaXMubGVhdmUoInJlZnJlc2hpbmciKTt0aGlzLnRyaWdnZXIoInJlZnJlc2hlZCIpfTt1LnByb3RvdHlwZS5vblRocm90dGxlZFJlc2l6ZT1mdW5jdGlvbigpe3QuY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO3RoaXMucmVzaXplVGltZXI9dC5zZXRUaW1lb3V0KHRoaXMuX2hhbmRsZXJzLm9uUmVzaXplLHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKX07dS5wcm90b3R5cGUub25SZXNpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5faXRlbXMubGVuZ3RofHx0aGlzLl93aWR0aD09PXRoaXMuJGVsZW1lbnQud2lkdGgoKXx8IXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuITE7aWYodGhpcy5lbnRlcigicmVzaXppbmciKSx0aGlzLnRyaWdnZXIoInJlc2l6ZSIpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiB0aGlzLmxlYXZlKCJyZXNpemluZyIpLCExO3RoaXMuaW52YWxpZGF0ZSgid2lkdGgiKTt0aGlzLnJlZnJlc2goKTt0aGlzLmxlYXZlKCJyZXNpemluZyIpO3RoaXMudHJpZ2dlcigicmVzaXplZCIpfTt1LnByb3RvdHlwZS5yZWdpc3RlckV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oKXtpZihuLnN1cHBvcnQudHJhbnNpdGlvbil0aGlzLiRzdGFnZS5vbihuLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQrIi5vd2wuY29yZSIsbi5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCx0aGlzKSk7aWYodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlIT09ITEpdGhpcy5vbih0LCJyZXNpemUiLHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtpZih0aGlzLnNldHRpbmdzLm1vdXNlRHJhZyl7dGhpcy4kZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZHJhZ0NsYXNzKTt0aGlzLiRzdGFnZS5vbigibW91c2Vkb3duLm93bC5jb3JlIixuLnByb3h5KHRoaXMub25EcmFnU3RhcnQsdGhpcykpO3RoaXMuJHN0YWdlLm9uKCJkcmFnc3RhcnQub3dsLmNvcmUgc2VsZWN0c3RhcnQub3dsLmNvcmUiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KX1pZih0aGlzLnNldHRpbmdzLnRvdWNoRHJhZyl7dGhpcy4kc3RhZ2Uub24oInRvdWNoc3RhcnQub3dsLmNvcmUiLG4ucHJveHkodGhpcy5vbkRyYWdTdGFydCx0aGlzKSk7dGhpcy4kc3RhZ2Uub24oInRvdWNoY2FuY2VsLm93bC5jb3JlIixuLnByb3h5KHRoaXMub25EcmFnRW5kLHRoaXMpKX19O3UucHJvdG90eXBlLm9uRHJhZ1N0YXJ0PWZ1bmN0aW9uKHQpe3ZhciByPW51bGw7aWYodC53aGljaCE9PTMpe24uc3VwcG9ydC50cmFuc2Zvcm0/KHI9dGhpcy4kc3RhZ2UuY3NzKCJ0cmFuc2Zvcm0iKS5yZXBsYWNlKC8uKlwofFwpfCAvZywiIikuc3BsaXQoIiwiKSxyPXt4OnJbci5sZW5ndGg9PT0xNj8xMjo0XSx5OnJbci5sZW5ndGg9PT0xNj8xMzo1XX0pOihyPXRoaXMuJHN0YWdlLnBvc2l0aW9uKCkscj17eDp0aGlzLnNldHRpbmdzLnJ0bD9yLmxlZnQrdGhpcy4kc3RhZ2Uud2lkdGgoKS10aGlzLndpZHRoKCkrdGhpcy5zZXR0aW5ncy5tYXJnaW46ci5sZWZ0LHk6ci50b3B9KTt0aGlzLmlzKCJhbmltYXRpbmciKSYmKG4uc3VwcG9ydC50cmFuc2Zvcm0/dGhpcy5hbmltYXRlKHIueCk6dGhpcy4kc3RhZ2Uuc3RvcCgpLHRoaXMuaW52YWxpZGF0ZSgicG9zaXRpb24iKSk7dGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzLHQudHlwZT09PSJtb3VzZWRvd24iKTt0aGlzLnNwZWVkKDApO3RoaXMuX2RyYWcudGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLl9kcmFnLnRhcmdldD1uKHQudGFyZ2V0KTt0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0PXI7dGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50PXI7dGhpcy5fZHJhZy5wb2ludGVyPXRoaXMucG9pbnRlcih0KTtuKGkpLm9uKCJtb3VzZXVwLm93bC5jb3JlIHRvdWNoZW5kLm93bC5jb3JlIixuLnByb3h5KHRoaXMub25EcmFnRW5kLHRoaXMpKTtuKGkpLm9uZSgibW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZSIsbi5wcm94eShmdW5jdGlvbih0KXt2YXIgcj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcih0KSk7bihpKS5vbigibW91c2Vtb3ZlLm93bC5jb3JlIHRvdWNobW92ZS5vd2wuY29yZSIsbi5wcm94eSh0aGlzLm9uRHJhZ01vdmUsdGhpcykpO01hdGguYWJzKHIueCk8TWF0aC5hYnMoci55KSYmdGhpcy5pcygidmFsaWQiKXx8KHQucHJldmVudERlZmF1bHQoKSx0aGlzLmVudGVyKCJkcmFnZ2luZyIpLHRoaXMudHJpZ2dlcigiZHJhZyIpKX0sdGhpcykpfX07dS5wcm90b3R5cGUub25EcmFnTW92ZT1mdW5jdGlvbihuKXt2YXIgdD1udWxsLGk9bnVsbCx1PW51bGwsZj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcihuKSkscj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5zdGFnZS5zdGFydCxmKTt0aGlzLmlzKCJkcmFnZ2luZyIpJiYobi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuc2V0dGluZ3MubG9vcD8odD10aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKSxpPXRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkrMSktdCxyLng9KChyLngtdCklaStpKSVpK3QpOih0PXRoaXMuc2V0dGluZ3MucnRsP3RoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkpOnRoaXMuY29vcmRpbmF0ZXModGhpcy5taW5pbXVtKCkpLGk9dGhpcy5zZXR0aW5ncy5ydGw/dGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSk6dGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSksdT10aGlzLnNldHRpbmdzLnB1bGxEcmFnP2YueC8tNTowLHIueD1NYXRoLm1heChNYXRoLm1pbihyLngsdCt1KSxpK3UpKSx0aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQ9cix0aGlzLmFuaW1hdGUoci54KSl9O3UucHJvdG90eXBlLm9uRHJhZ0VuZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLHRoaXMucG9pbnRlcih0KSksZj10aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQsdT1yLng+MF50aGlzLnNldHRpbmdzLnJ0bD8ibGVmdCI6InJpZ2h0IjtpZihuKGkpLm9mZigiLm93bC5jb3JlIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKSwoci54IT09MCYmdGhpcy5pcygiZHJhZ2dpbmciKXx8IXRoaXMuaXMoInZhbGlkIikpJiYodGhpcy5zcGVlZCh0aGlzLnNldHRpbmdzLmRyYWdFbmRTcGVlZHx8dGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKSx0aGlzLmN1cnJlbnQodGhpcy5jbG9zZXN0KGYueCxyLnghPT0wP3U6dGhpcy5fZHJhZy5kaXJlY3Rpb24pKSx0aGlzLmludmFsaWRhdGUoInBvc2l0aW9uIiksdGhpcy51cGRhdGUoKSx0aGlzLl9kcmFnLmRpcmVjdGlvbj11LE1hdGguYWJzKHIueCk+M3x8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fZHJhZy50aW1lPjMwMCkpdGhpcy5fZHJhZy50YXJnZXQub25lKCJjbGljay5vd2wuY29yZSIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3RoaXMuaXMoImRyYWdnaW5nIikmJih0aGlzLmxlYXZlKCJkcmFnZ2luZyIpLHRoaXMudHJpZ2dlcigiZHJhZ2dlZCIpKX07dS5wcm90b3R5cGUuY2xvc2VzdD1mdW5jdGlvbih0LGkpe3ZhciB1PS0xLGU9MzAsbz10aGlzLndpZHRoKCksZj10aGlzLmNvb3JkaW5hdGVzKCk7cmV0dXJuIHRoaXMuc2V0dGluZ3MuZnJlZURyYWd8fG4uZWFjaChmLG4ucHJveHkoZnVuY3Rpb24obixzKXtyZXR1cm4gaT09PSJsZWZ0IiYmdD5zLWUmJnQ8cytlP3U9bjppPT09InJpZ2h0IiYmdD5zLW8tZSYmdDxzLW8rZT91PW4rMTp0aGlzLm9wKHQsIjwiLHMpJiZ0aGlzLm9wKHQsIj4iLGZbbisxXSE9PXI/ZltuKzFdOnMtbykmJih1PWk9PT0ibGVmdCI/bisxOm4pLHU9PT0tMX0sdGhpcykpLHRoaXMuc2V0dGluZ3MubG9vcHx8KHRoaXMub3AodCwiPiIsZlt0aGlzLm1pbmltdW0oKV0pP3U9dD10aGlzLm1pbmltdW0oKTp0aGlzLm9wKHQsIjwiLGZbdGhpcy5tYXhpbXVtKCldKSYmKHU9dD10aGlzLm1heGltdW0oKSkpLHV9O3UucHJvdG90eXBlLmFuaW1hdGU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5zcGVlZCgpPjA7dGhpcy5pcygiYW5pbWF0aW5nIikmJnRoaXMub25UcmFuc2l0aW9uRW5kKCk7aSYmKHRoaXMuZW50ZXIoImFuaW1hdGluZyIpLHRoaXMudHJpZ2dlcigidHJhbnNsYXRlIikpO24uc3VwcG9ydC50cmFuc2Zvcm0zZCYmbi5zdXBwb3J0LnRyYW5zaXRpb24/dGhpcy4kc3RhZ2UuY3NzKHt0cmFuc2Zvcm06InRyYW5zbGF0ZTNkKCIrdCsicHgsMHB4LDBweCkiLHRyYW5zaXRpb246dGhpcy5zcGVlZCgpLzFlMysicyIrKHRoaXMuc2V0dGluZ3Muc2xpZGVUcmFuc2l0aW9uPyIgIit0aGlzLnNldHRpbmdzLnNsaWRlVHJhbnNpdGlvbjoiIil9KTppP3RoaXMuJHN0YWdlLmFuaW1hdGUoe2xlZnQ6dCsicHgifSx0aGlzLnNwZWVkKCksdGhpcy5zZXR0aW5ncy5mYWxsYmFja0Vhc2luZyxuLnByb3h5KHRoaXMub25UcmFuc2l0aW9uRW5kLHRoaXMpKTp0aGlzLiRzdGFnZS5jc3Moe2xlZnQ6dCsicHgifSl9O3UucHJvdG90eXBlLmlzPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9zdGF0ZXMuY3VycmVudFtuXSYmdGhpcy5fc3RhdGVzLmN1cnJlbnRbbl0+MH07dS5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbihuKXtpZihuPT09cilyZXR1cm4gdGhpcy5fY3VycmVudDtpZih0aGlzLl9pdGVtcy5sZW5ndGg9PT0wKXJldHVybiByO2lmKG49dGhpcy5ub3JtYWxpemUobiksdGhpcy5fY3VycmVudCE9PW4pe3ZhciB0PXRoaXMudHJpZ2dlcigiY2hhbmdlIix7cHJvcGVydHk6e25hbWU6InBvc2l0aW9uIix2YWx1ZTpufX0pO3QuZGF0YSE9PXImJihuPXRoaXMubm9ybWFsaXplKHQuZGF0YSkpO3RoaXMuX2N1cnJlbnQ9bjt0aGlzLmludmFsaWRhdGUoInBvc2l0aW9uIik7dGhpcy50cmlnZ2VyKCJjaGFuZ2VkIix7cHJvcGVydHk6e25hbWU6InBvc2l0aW9uIix2YWx1ZTp0aGlzLl9jdXJyZW50fX0pfXJldHVybiB0aGlzLl9jdXJyZW50fTt1LnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBuLnR5cGUodCk9PT0ic3RyaW5nIiYmKHRoaXMuX2ludmFsaWRhdGVkW3RdPSEwLHRoaXMuaXMoInZhbGlkIikmJnRoaXMubGVhdmUoInZhbGlkIikpLG4ubWFwKHRoaXMuX2ludmFsaWRhdGVkLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KX07dS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24obil7KG49dGhpcy5ub3JtYWxpemUobiksbiE9PXIpJiYodGhpcy5fc3BlZWQ9MCx0aGlzLl9jdXJyZW50PW4sdGhpcy5zdXBwcmVzcyhbInRyYW5zbGF0ZSIsInRyYW5zbGF0ZWQiXSksdGhpcy5hbmltYXRlKHRoaXMuY29vcmRpbmF0ZXMobikpLHRoaXMucmVsZWFzZShbInRyYW5zbGF0ZSIsInRyYW5zbGF0ZWQiXSkpfTt1LnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9pdGVtcy5sZW5ndGgsdT10PzA6dGhpcy5fY2xvbmVzLmxlbmd0aDtyZXR1cm4hdGhpcy5pc051bWVyaWMobil8fGk8MT9uPXI6KG48MHx8bj49aSt1KSYmKG49KChuLXUvMiklaStpKSVpK3UvMiksbn07dS5wcm90b3R5cGUucmVsYXRpdmU9ZnVuY3Rpb24obil7cmV0dXJuIG4tPXRoaXMuX2Nsb25lcy5sZW5ndGgvMix0aGlzLm5vcm1hbGl6ZShuLCEwKX07dS5wcm90b3R5cGUubWF4aW11bT1mdW5jdGlvbihuKXt2YXIgaT10aGlzLnNldHRpbmdzLHI9dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoLHQsdSxmO2lmKGkubG9vcClyPXRoaXMuX2Nsb25lcy5sZW5ndGgvMit0aGlzLl9pdGVtcy5sZW5ndGgtMTtlbHNlIGlmKGkuYXV0b1dpZHRofHxpLm1lcmdlKXtpZih0PXRoaXMuX2l0ZW1zLmxlbmd0aCx0KWZvcih1PXRoaXMuX2l0ZW1zWy0tdF0ud2lkdGgoKSxmPXRoaXMuJGVsZW1lbnQud2lkdGgoKTt0LS07KWlmKHUrPXRoaXMuX2l0ZW1zW3RdLndpZHRoKCkrdGhpcy5zZXR0aW5ncy5tYXJnaW4sdT5mKWJyZWFrO3I9dCsxfWVsc2Ugcj1pLmNlbnRlcj90aGlzLl9pdGVtcy5sZW5ndGgtMTp0aGlzLl9pdGVtcy5sZW5ndGgtaS5pdGVtcztyZXR1cm4gbiYmKHItPXRoaXMuX2Nsb25lcy5sZW5ndGgvMiksTWF0aC5tYXgociwwKX07dS5wcm90b3R5cGUubWluaW11bT1mdW5jdGlvbihuKXtyZXR1cm4gbj8wOnRoaXMuX2Nsb25lcy5sZW5ndGgvMn07dS5wcm90b3R5cGUuaXRlbXM9ZnVuY3Rpb24obil7cmV0dXJuIG49PT1yP3RoaXMuX2l0ZW1zLnNsaWNlKCk6KG49dGhpcy5ub3JtYWxpemUobiwhMCksdGhpcy5faXRlbXNbbl0pfTt1LnByb3RvdHlwZS5tZXJnZXJzPWZ1bmN0aW9uKG4pe3JldHVybiBuPT09cj90aGlzLl9tZXJnZXJzLnNsaWNlKCk6KG49dGhpcy5ub3JtYWxpemUobiwhMCksdGhpcy5fbWVyZ2Vyc1tuXSl9O3UucHJvdG90eXBlLmNsb25lcz1mdW5jdGlvbih0KXt2YXIgaT10aGlzLl9jbG9uZXMubGVuZ3RoLzIsZj1pK3RoaXMuX2l0ZW1zLmxlbmd0aCx1PWZ1bmN0aW9uKG4pe3JldHVybiBuJTI9PTA/ZituLzI6aS0obisxKS8yfTtyZXR1cm4gdD09PXI/bi5tYXAodGhpcy5fY2xvbmVzLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHUodCl9KTpuLm1hcCh0aGlzLl9jbG9uZXMsZnVuY3Rpb24obixpKXtyZXR1cm4gbj09PXQ/dShpKTpudWxsfSl9O3UucHJvdG90eXBlLnNwZWVkPWZ1bmN0aW9uKG4pe3JldHVybiBuIT09ciYmKHRoaXMuX3NwZWVkPW4pLHRoaXMuX3NwZWVkfTt1LnByb3RvdHlwZS5jb29yZGluYXRlcz1mdW5jdGlvbih0KXt2YXIgZj0xLHU9dC0xLGk7cmV0dXJuIHQ9PT1yP24ubWFwKHRoaXMuX2Nvb3JkaW5hdGVzLG4ucHJveHkoZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5jb29yZGluYXRlcyh0KX0sdGhpcykpOih0aGlzLnNldHRpbmdzLmNlbnRlcj8odGhpcy5zZXR0aW5ncy5ydGwmJihmPS0xLHU9dCsxKSxpPXRoaXMuX2Nvb3JkaW5hdGVzW3RdLGkrPSh0aGlzLndpZHRoKCktaSsodGhpcy5fY29vcmRpbmF0ZXNbdV18fDApKS8yKmYpOmk9dGhpcy5fY29vcmRpbmF0ZXNbdV18fDAsTWF0aC5jZWlsKGkpKX07dS5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24obix0LGkpe3JldHVybiBpPT09MD8wOk1hdGgubWluKE1hdGgubWF4KE1hdGguYWJzKHQtbiksMSksNikqTWF0aC5hYnMoaXx8dGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKX07dS5wcm90b3R5cGUudG89ZnVuY3Rpb24obix0KXt2YXIgZj10aGlzLmN1cnJlbnQoKSxyPW51bGwsaT1uLXRoaXMucmVsYXRpdmUoZikscz0oaT4wKS0oaTwwKSxlPXRoaXMuX2l0ZW1zLmxlbmd0aCxvPXRoaXMubWluaW11bSgpLHU9dGhpcy5tYXhpbXVtKCk7dGhpcy5zZXR0aW5ncy5sb29wPyghdGhpcy5zZXR0aW5ncy5yZXdpbmQmJk1hdGguYWJzKGkpPmUvMiYmKGkrPXMqLTEqZSksbj1mK2kscj0oKG4tbyklZStlKSVlK28sciE9PW4mJnItaTw9dSYmci1pPjAmJihmPXItaSxuPXIsdGhpcy5yZXNldChmKSkpOnRoaXMuc2V0dGluZ3MucmV3aW5kPyh1Kz0xLG49KG4ldSt1KSV1KTpuPU1hdGgubWF4KG8sTWF0aC5taW4odSxuKSk7dGhpcy5zcGVlZCh0aGlzLmR1cmF0aW9uKGYsbix0KSk7dGhpcy5jdXJyZW50KG4pO3RoaXMuaXNWaXNpYmxlKCkmJnRoaXMudXBkYXRlKCl9O3UucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24obil7bj1ufHwhMTt0aGlzLnRvKHRoaXMucmVsYXRpdmUodGhpcy5jdXJyZW50KCkpKzEsbil9O3UucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24obil7bj1ufHwhMTt0aGlzLnRvKHRoaXMucmVsYXRpdmUodGhpcy5jdXJyZW50KCkpLTEsbil9O3UucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZD1mdW5jdGlvbihuKXtpZihuIT09ciYmKG4uc3RvcFByb3BhZ2F0aW9uKCksKG4udGFyZ2V0fHxuLnNyY0VsZW1lbnR8fG4ub3JpZ2luYWxUYXJnZXQpIT09dGhpcy4kc3RhZ2UuZ2V0KDApKSlyZXR1cm4hMTt0aGlzLmxlYXZlKCJhbmltYXRpbmciKTt0aGlzLnRyaWdnZXIoInRyYW5zbGF0ZWQiKX07dS5wcm90b3R5cGUudmlld3BvcnQ9ZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gdGhpcy5vcHRpb25zLnJlc3BvbnNpdmVCYXNlRWxlbWVudCE9PXQ/cj1uKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQpLndpZHRoKCk6dC5pbm5lcldpZHRoP3I9dC5pbm5lcldpZHRoOmkuZG9jdW1lbnRFbGVtZW50JiZpLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aD9yPWkuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmNvbnNvbGUud2FybigiQ2FuIG5vdCBkZXRlY3Qgdmlld3BvcnQgd2lkdGguIikscn07dS5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbih0KXt0aGlzLiRzdGFnZS5lbXB0eSgpO3RoaXMuX2l0ZW1zPVtdO3QmJih0PXQgaW5zdGFuY2VvZiBqUXVlcnk/dDpuKHQpKTt0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciYmKHQ9dC5maW5kKCIuIit0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvcikpO3QuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZVR5cGU9PT0xfSkuZWFjaChuLnByb3h5KGZ1bmN0aW9uKG4sdCl7dD10aGlzLnByZXBhcmUodCk7dGhpcy4kc3RhZ2UuYXBwZW5kKHQpO3RoaXMuX2l0ZW1zLnB1c2godCk7dGhpcy5fbWVyZ2Vycy5wdXNoKHQuZmluZCgiW2RhdGEtbWVyZ2VdIikuYWRkQmFjaygiW2RhdGEtbWVyZ2VdIikuYXR0cigiZGF0YS1tZXJnZSIpKjF8fDEpfSx0aGlzKSk7dGhpcy5yZXNldCh0aGlzLmlzTnVtZXJpYyh0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24pP3RoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbjowKTt0aGlzLmludmFsaWRhdGUoIml0ZW1zIil9O3UucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGkpe3ZhciB1PXRoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCk7aT1pPT09cj90aGlzLl9pdGVtcy5sZW5ndGg6dGhpcy5ub3JtYWxpemUoaSwhMCk7dD10IGluc3RhbmNlb2YgalF1ZXJ5P3Q6bih0KTt0aGlzLnRyaWdnZXIoImFkZCIse2NvbnRlbnQ6dCxwb3NpdGlvbjppfSk7dD10aGlzLnByZXBhcmUodCk7dGhpcy5faXRlbXMubGVuZ3RoPT09MHx8aT09PXRoaXMuX2l0ZW1zLmxlbmd0aD8odGhpcy5faXRlbXMubGVuZ3RoPT09MCYmdGhpcy4kc3RhZ2UuYXBwZW5kKHQpLHRoaXMuX2l0ZW1zLmxlbmd0aCE9PTAmJnRoaXMuX2l0ZW1zW2ktMV0uYWZ0ZXIodCksdGhpcy5faXRlbXMucHVzaCh0KSx0aGlzLl9tZXJnZXJzLnB1c2godC5maW5kKCJbZGF0YS1tZXJnZV0iKS5hZGRCYWNrKCJbZGF0YS1tZXJnZV0iKS5hdHRyKCJkYXRhLW1lcmdlIikqMXx8MSkpOih0aGlzLl9pdGVtc1tpXS5iZWZvcmUodCksdGhpcy5faXRlbXMuc3BsaWNlKGksMCx0KSx0aGlzLl9tZXJnZXJzLnNwbGljZShpLDAsdC5maW5kKCJbZGF0YS1tZXJnZV0iKS5hZGRCYWNrKCJbZGF0YS1tZXJnZV0iKS5hdHRyKCJkYXRhLW1lcmdlIikqMXx8MSkpO3RoaXMuX2l0ZW1zW3VdJiZ0aGlzLnJlc2V0KHRoaXMuX2l0ZW1zW3VdLmluZGV4KCkpO3RoaXMuaW52YWxpZGF0ZSgiaXRlbXMiKTt0aGlzLnRyaWdnZXIoImFkZGVkIix7Y29udGVudDp0LHBvc2l0aW9uOml9KX07dS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKG4peyhuPXRoaXMubm9ybWFsaXplKG4sITApLG4hPT1yKSYmKHRoaXMudHJpZ2dlcigicmVtb3ZlIix7Y29udGVudDp0aGlzLl9pdGVtc1tuXSxwb3NpdGlvbjpufSksdGhpcy5faXRlbXNbbl0ucmVtb3ZlKCksdGhpcy5faXRlbXMuc3BsaWNlKG4sMSksdGhpcy5fbWVyZ2Vycy5zcGxpY2UobiwxKSx0aGlzLmludmFsaWRhdGUoIml0ZW1zIiksdGhpcy50cmlnZ2VyKCJyZW1vdmVkIix7Y29udGVudDpudWxsLHBvc2l0aW9uOm59KSl9O3UucHJvdG90eXBlLnByZWxvYWRBdXRvV2lkdGhJbWFnZXM9ZnVuY3Rpb24odCl7dC5lYWNoKG4ucHJveHkoZnVuY3Rpb24odCxpKXt0aGlzLmVudGVyKCJwcmUtbG9hZGluZyIpO2k9bihpKTtuKG5ldyBJbWFnZSkub25lKCJsb2FkIixuLnByb3h5KGZ1bmN0aW9uKG4pe2kuYXR0cigic3JjIixuLnRhcmdldC5zcmMpO2kuY3NzKCJvcGFjaXR5IiwxKTt0aGlzLmxlYXZlKCJwcmUtbG9hZGluZyIpO3RoaXMuaXMoInByZS1sb2FkaW5nIil8fHRoaXMuaXMoImluaXRpYWxpemluZyIpfHx0aGlzLnJlZnJlc2goKX0sdGhpcykpLmF0dHIoInNyYyIsaS5hdHRyKCJzcmMiKXx8aS5hdHRyKCJkYXRhLXNyYyIpfHxpLmF0dHIoImRhdGEtc3JjLXJldGluYSIpKX0sdGhpcykpfTt1LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5vZmYoIi5vd2wuY29yZSIpO3RoaXMuJHN0YWdlLm9mZigiLm93bC5jb3JlIik7bihpKS5vZmYoIi5vd2wuY29yZSIpO3RoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZSE9PSExJiYodC5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lciksdGhpcy5vZmYodCwicmVzaXplIix0aGlzLl9oYW5kbGVycy5vblRocm90dGxlZFJlc2l6ZSkpO2Zvcih2YXIgciBpbiB0aGlzLl9wbHVnaW5zKXRoaXMuX3BsdWdpbnNbcl0uZGVzdHJveSgpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKCIuY2xvbmVkIikucmVtb3ZlKCk7dGhpcy4kc3RhZ2UudW53cmFwKCk7dGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5jb250ZW50cygpLnVud3JhcCgpO3RoaXMuJHN0YWdlLmNoaWxkcmVuKCkudW53cmFwKCk7dGhpcy4kc3RhZ2UucmVtb3ZlKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGluZ0NsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMubG9hZGVkQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ydGxDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmRyYWdDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmdyYWJDbGFzcykuYXR0cigiY2xhc3MiLHRoaXMuJGVsZW1lbnQuYXR0cigiY2xhc3MiKS5yZXBsYWNlKG5ldyBSZWdFeHAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmVDbGFzcysiLVxcUytcXHMiLCJnIiksIiIpKS5yZW1vdmVEYXRhKCJvd2wuY2Fyb3VzZWwiKX07dS5wcm90b3R5cGUub3A9ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXMuc2V0dGluZ3MucnRsO3N3aXRjaCh0KXtjYXNlIjwiOnJldHVybiByP24+aTpuPGk7Y2FzZSI+IjpyZXR1cm4gcj9uPGk6bj5pO2Nhc2UiPj0iOnJldHVybiByP248PWk6bj49aTtjYXNlIjw9IjpyZXR1cm4gcj9uPj1pOm48PWl9fTt1LnByb3RvdHlwZS5vbj1mdW5jdGlvbihuLHQsaSxyKXtuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKHQsaSxyKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbiIrdCxpKX07dS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKG4sdCxpLHIpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj9uLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpLHIpOm4uZGV0YWNoRXZlbnQmJm4uZGV0YWNoRXZlbnQoIm9uIit0LGkpfTt1LnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQsaSxyKXt2YXIgbz17aXRlbTp7Y291bnQ6dGhpcy5faXRlbXMubGVuZ3RoLGluZGV4OnRoaXMuY3VycmVudCgpfX0sZT1uLmNhbWVsQ2FzZShuLmdyZXAoWyJvbiIsdCxyXSxmdW5jdGlvbihuKXtyZXR1cm4gbn0pLmpvaW4oIi0iKS50b0xvd2VyQ2FzZSgpKSxmPW4uRXZlbnQoW3QsIm93bCIscnx8ImNhcm91c2VsIl0uam9pbigiLiIpLnRvTG93ZXJDYXNlKCksbi5leHRlbmQoe3JlbGF0ZWRUYXJnZXQ6dGhpc30sbyxpKSk7cmV0dXJuIHRoaXMuX3N1cHJlc3NbdF18fChuLmVhY2godGhpcy5fcGx1Z2lucyxmdW5jdGlvbihuLHQpe2lmKHQub25UcmlnZ2VyKXQub25UcmlnZ2VyKGYpfSksdGhpcy5yZWdpc3Rlcih7dHlwZTp1LlR5cGUuRXZlbnQsbmFtZTp0fSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGYpLHRoaXMuc2V0dGluZ3MmJnR5cGVvZiB0aGlzLnNldHRpbmdzW2VdPT0iZnVuY3Rpb24iJiZ0aGlzLnNldHRpbmdzW2VdLmNhbGwodGhpcyxmKSksZn07dS5wcm90b3R5cGUuZW50ZXI9ZnVuY3Rpb24odCl7bi5lYWNoKFt0XS5jb25jYXQodGhpcy5fc3RhdGVzLnRhZ3NbdF18fFtdKSxuLnByb3h5KGZ1bmN0aW9uKG4sdCl7dGhpcy5fc3RhdGVzLmN1cnJlbnRbdF09PT1yJiYodGhpcy5fc3RhdGVzLmN1cnJlbnRbdF09MCk7dGhpcy5fc3RhdGVzLmN1cnJlbnRbdF0rK30sdGhpcykpfTt1LnByb3RvdHlwZS5sZWF2ZT1mdW5jdGlvbih0KXtuLmVhY2goW3RdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1t0XXx8W10pLG4ucHJveHkoZnVuY3Rpb24obix0KXt0aGlzLl9zdGF0ZXMuY3VycmVudFt0XS0tfSx0aGlzKSl9O3UucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXUuVHlwZS5FdmVudCl7aWYobi5ldmVudC5zcGVjaWFsW3QubmFtZV18fChuLmV2ZW50LnNwZWNpYWxbdC5uYW1lXT17fSksIW4uZXZlbnQuc3BlY2lhbFt0Lm5hbWVdLm93bCl7dmFyIGk9bi5ldmVudC5zcGVjaWFsW3QubmFtZV0uX2RlZmF1bHQ7bi5ldmVudC5zcGVjaWFsW3QubmFtZV0uX2RlZmF1bHQ9ZnVuY3Rpb24obil7cmV0dXJuIGkmJmkuYXBwbHkmJighbi5uYW1lc3BhY2V8fG4ubmFtZXNwYWNlLmluZGV4T2YoIm93bCIpPT09LTEpP2kuYXBwbHkodGhpcyxhcmd1bWVudHMpOm4ubmFtZXNwYWNlJiZuLm5hbWVzcGFjZS5pbmRleE9mKCJvd2wiKT4tMX07bi5ldmVudC5zcGVjaWFsW3QubmFtZV0ub3dsPSEwfX1lbHNlIHQudHlwZT09PXUuVHlwZS5TdGF0ZSYmKHRoaXMuX3N0YXRlcy50YWdzW3QubmFtZV09dGhpcy5fc3RhdGVzLnRhZ3NbdC5uYW1lXT90aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdLmNvbmNhdCh0LnRhZ3MpOnQudGFncyx0aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdPW4uZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1t0Lm5hbWVdLG4ucHJveHkoZnVuY3Rpb24oaSxyKXtyZXR1cm4gbi5pbkFycmF5KGksdGhpcy5fc3RhdGVzLnRhZ3NbdC5uYW1lXSk9PT1yfSx0aGlzKSkpfTt1LnByb3RvdHlwZS5zdXBwcmVzcz1mdW5jdGlvbih0KXtuLmVhY2godCxuLnByb3h5KGZ1bmN0aW9uKG4sdCl7dGhpcy5fc3VwcmVzc1t0XT0hMH0sdGhpcykpfTt1LnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKHQpe24uZWFjaCh0LG4ucHJveHkoZnVuY3Rpb24obix0KXtkZWxldGUgdGhpcy5fc3VwcmVzc1t0XX0sdGhpcykpfTt1LnByb3RvdHlwZS5wb2ludGVyPWZ1bmN0aW9uKG4pe3ZhciBpPXt4Om51bGwseTpudWxsfTtyZXR1cm4gbj1uLm9yaWdpbmFsRXZlbnR8fG58fHQuZXZlbnQsbj1uLnRvdWNoZXMmJm4udG91Y2hlcy5sZW5ndGg/bi50b3VjaGVzWzBdOm4uY2hhbmdlZFRvdWNoZXMmJm4uY2hhbmdlZFRvdWNoZXMubGVuZ3RoP24uY2hhbmdlZFRvdWNoZXNbMF06bixuLnBhZ2VYPyhpLng9bi5wYWdlWCxpLnk9bi5wYWdlWSk6KGkueD1uLmNsaWVudFgsaS55PW4uY2xpZW50WSksaX07dS5wcm90b3R5cGUuaXNOdW1lcmljPWZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX07dS5wcm90b3R5cGUuZGlmZmVyZW5jZT1mdW5jdGlvbihuLHQpe3JldHVybnt4Om4ueC10LngseTpuLnktdC55fX07bi5mbi5vd2xDYXJvdXNlbD1mdW5jdGlvbih0KXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBmPW4odGhpcykscj1mLmRhdGEoIm93bC5jYXJvdXNlbCIpO3J8fChyPW5ldyB1KHRoaXMsdHlwZW9mIHQ9PSJvYmplY3QiJiZ0KSxmLmRhdGEoIm93bC5jYXJvdXNlbCIsciksbi5lYWNoKFsibmV4dCIsInByZXYiLCJ0byIsImRlc3Ryb3kiLCJyZWZyZXNoIiwicmVwbGFjZSIsImFkZCIsInJlbW92ZSJdLGZ1bmN0aW9uKHQsaSl7ci5yZWdpc3Rlcih7dHlwZTp1LlR5cGUuRXZlbnQsbmFtZTppfSk7ci4kZWxlbWVudC5vbihpKyIub3dsLmNhcm91c2VsLmNvcmUiLG4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJm4ucmVsYXRlZFRhcmdldCE9PXRoaXMmJih0aGlzLnN1cHByZXNzKFtpXSkscltpXS5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSx0aGlzLnJlbGVhc2UoW2ldKSl9LHIpKX0pKTt0eXBlb2YgdD09InN0cmluZyImJnQuY2hhckF0KDApIT09Il8iJiZyW3RdLmFwcGx5KHIsaSl9KX07bi5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvcj11fSkod2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7Ci8qKgogKiBBdXRvUmVmcmVzaCBQbHVnaW4KICogQHZlcnNpb24gMi4zLjQKICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpCiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaAogKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVCkKICovCihmdW5jdGlvbihuLHQpe3ZhciBpPWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX3Zpc2libGU9bnVsbDt0aGlzLl9oYW5kbGVycz17ImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvUmVmcmVzaCYmdGhpcy53YXRjaCgpfSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LGkuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKX07aS5EZWZhdWx0cz17YXV0b1JlZnJlc2g6ITAsYXV0b1JlZnJlc2hJbnRlcnZhbDo1MDB9O2kucHJvdG90eXBlLndhdGNoPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJ2YWx8fCh0aGlzLl92aXNpYmxlPXRoaXMuX2NvcmUuaXNWaXNpYmxlKCksdGhpcy5faW50ZXJ2YWw9dC5zZXRJbnRlcnZhbChuLnByb3h5KHRoaXMucmVmcmVzaCx0aGlzKSx0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpKX07aS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuX2NvcmUuaXNWaXNpYmxlKCkhPT10aGlzLl92aXNpYmxlJiYodGhpcy5fdmlzaWJsZT0hdGhpcy5fdmlzaWJsZSx0aGlzLl9jb3JlLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCJvd2wtaGlkZGVuIiwhdGhpcy5fdmlzaWJsZSksdGhpcy5fdmlzaWJsZSYmdGhpcy5fY29yZS5pbnZhbGlkYXRlKCJ3aWR0aCIpJiZ0aGlzLl9jb3JlLnJlZnJlc2goKSl9O2kucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbixpO3QuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7Zm9yKG4gaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLl9oYW5kbGVyc1tuXSk7Zm9yKGkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpdHlwZW9mIHRoaXNbaV0hPSJmdW5jdGlvbiImJih0aGlzW2ldPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuQXV0b1JlZnJlc2g9aX0pKHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOwovKioKICogTGF6eSBQbHVnaW4KICogQHZlcnNpb24gMi4zLjQKICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2kKICogQGF1dGhvciBEYXZpZCBEZXV0c2NoCiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKi8KKGZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl9sb2FkZWQ9W107dGhpcy5faGFuZGxlcnM9eyJpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwgY2hhbmdlLm93bC5jYXJvdXNlbCByZXNpemVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbih0KXtpZih0Lm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncyYmdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCYmKHQucHJvcGVydHkmJnQucHJvcGVydHkubmFtZT09InBvc2l0aW9uInx8dC50eXBlPT0iaW5pdGlhbGl6ZWQiKSl7dmFyIGk9dGhpcy5fY29yZS5zZXR0aW5ncyx1PWkuY2VudGVyJiZNYXRoLmNlaWwoaS5pdGVtcy8yKXx8aS5pdGVtcyxlPWkuY2VudGVyJiZ1Ki0xfHwwLGY9KHQucHJvcGVydHkmJnQucHJvcGVydHkudmFsdWUhPT1yP3QucHJvcGVydHkudmFsdWU6dGhpcy5fY29yZS5jdXJyZW50KCkpK2Usbz10aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCxzPW4ucHJveHkoZnVuY3Rpb24obix0KXt0aGlzLmxvYWQodCl9LHRoaXMpO2ZvcihpLmxhenlMb2FkRWFnZXI+MCYmKHUrPWkubGF6eUxvYWRFYWdlcixpLmxvb3AmJihmLT1pLmxhenlMb2FkRWFnZXIsdSsrKSk7ZSsrPHU7KXRoaXMubG9hZChvLzIrdGhpcy5fY29yZS5yZWxhdGl2ZShmKSksbyYmbi5lYWNoKHRoaXMuX2NvcmUuY2xvbmVzKHRoaXMuX2NvcmUucmVsYXRpdmUoZikpLHMpLGYrK319LHRoaXMpfTt0aGlzLl9jb3JlLm9wdGlvbnM9bi5leHRlbmQoe30sdS5EZWZhdWx0cyx0aGlzLl9jb3JlLm9wdGlvbnMpO3RoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpfTt1LkRlZmF1bHRzPXtsYXp5TG9hZDohMSxsYXp5TG9hZEVhZ2VyOjB9O3UucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oaSl7dmFyIHI9dGhpcy5fY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcShpKSx1PXImJnIuZmluZCgiLm93bC1sYXp5Iik7IXV8fG4uaW5BcnJheShyLmdldCgwKSx0aGlzLl9sb2FkZWQpPi0xfHwodS5lYWNoKG4ucHJveHkoZnVuY3Rpb24oaSxyKXt2YXIgdT1uKHIpLGUsZj10LmRldmljZVBpeGVsUmF0aW8+MSYmdS5hdHRyKCJkYXRhLXNyYy1yZXRpbmEiKXx8dS5hdHRyKCJkYXRhLXNyYyIpfHx1LmF0dHIoImRhdGEtc3Jjc2V0Iik7dGhpcy5fY29yZS50cmlnZ2VyKCJsb2FkIix7ZWxlbWVudDp1LHVybDpmfSwibGF6eSIpO3UuaXMoImltZyIpP3Uub25lKCJsb2FkLm93bC5sYXp5IixuLnByb3h5KGZ1bmN0aW9uKCl7dS5jc3MoIm9wYWNpdHkiLDEpO3RoaXMuX2NvcmUudHJpZ2dlcigibG9hZGVkIix7ZWxlbWVudDp1LHVybDpmfSwibGF6eSIpfSx0aGlzKSkuYXR0cigic3JjIixmKTp1LmlzKCJzb3VyY2UiKT91Lm9uZSgibG9hZC5vd2wubGF6eSIsbi5wcm94eShmdW5jdGlvbigpe3RoaXMuX2NvcmUudHJpZ2dlcigibG9hZGVkIix7ZWxlbWVudDp1LHVybDpmfSwibGF6eSIpfSx0aGlzKSkuYXR0cigic3Jjc2V0IixmKTooZT1uZXcgSW1hZ2UsZS5vbmxvYWQ9bi5wcm94eShmdW5jdGlvbigpe3UuY3NzKHsiYmFja2dyb3VuZC1pbWFnZSI6J3VybCgiJytmKyciKScsb3BhY2l0eToiMSJ9KTt0aGlzLl9jb3JlLnRyaWdnZXIoImxvYWRlZCIse2VsZW1lbnQ6dSx1cmw6Zn0sImxhenkiKX0sdGhpcyksZS5zcmM9Zil9LHRoaXMpKSx0aGlzLl9sb2FkZWQucHVzaChyLmdldCgwKSkpfTt1LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDtmb3IobiBpbiB0aGlzLmhhbmRsZXJzKXRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKG4sdGhpcy5oYW5kbGVyc1tuXSk7Zm9yKHQgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpdHlwZW9mIHRoaXNbdF0hPSJmdW5jdGlvbiImJih0aGlzW3RdPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuTGF6eT11fSkod2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7Ci8qKgogKiBBdXRvSGVpZ2h0IFBsdWdpbgogKiBAdmVyc2lvbiAyLjMuNAogKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraQogKiBAYXV0aG9yIERhdmlkIERldXRzY2gKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obix0KXt2YXIgaT1mdW5jdGlvbihyKXt0aGlzLl9jb3JlPXI7dGhpcy5fcHJldmlvdXNIZWlnaHQ9bnVsbDt0aGlzLl9oYW5kbGVycz17ImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCByZWZyZXNoZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJnRoaXMudXBkYXRlKCl9LHRoaXMpLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0JiZuLnByb3BlcnR5Lm5hbWU9PT0icG9zaXRpb24iJiZ0aGlzLnVwZGF0ZSgpfSx0aGlzKSwibG9hZGVkLm93bC5sYXp5IjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQmJm4uZWxlbWVudC5jbG9zZXN0KCIuIit0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcykuaW5kZXgoKT09PXRoaXMuX2NvcmUuY3VycmVudCgpJiZ0aGlzLnVwZGF0ZSgpfSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LGkuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTt0aGlzLl9pbnRlcnZhbElkPW51bGw7dmFyIHU9dGhpcztuKHQpLm9uKCJsb2FkIixmdW5jdGlvbigpe3UuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodCYmdS51cGRhdGUoKX0pO24odCkucmVzaXplKGZ1bmN0aW9uKCl7dS5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0JiYodS5faW50ZXJ2YWxJZCE9bnVsbCYmY2xlYXJUaW1lb3V0KHUuX2ludGVydmFsSWQpLHUuX2ludGVydmFsSWQ9c2V0VGltZW91dChmdW5jdGlvbigpe3UudXBkYXRlKCl9LDI1MCkpfSl9O2kuRGVmYXVsdHM9e2F1dG9IZWlnaHQ6ITEsYXV0b0hlaWdodENsYXNzOiJvd2wtaGVpZ2h0In07aS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5fY29yZS5fY3VycmVudCx1PWkrdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxmPXRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQsZT10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLnRvQXJyYXkoKS5zbGljZShpLHUpLHI9W10sdD0wO24uZWFjaChlLGZ1bmN0aW9uKHQsaSl7ci5wdXNoKG4oaSkuaGVpZ2h0KCkpfSk7dD1NYXRoLm1heC5hcHBseShudWxsLHIpO3Q8PTEmJmYmJnRoaXMuX3ByZXZpb3VzSGVpZ2h0JiYodD10aGlzLl9wcmV2aW91c0hlaWdodCk7dGhpcy5fcHJldmlvdXNIZWlnaHQ9dDt0aGlzLl9jb3JlLiRzdGFnZS5wYXJlbnQoKS5oZWlnaHQodCkuYWRkQ2xhc3ModGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0Q2xhc3MpfTtpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDtmb3IobiBpbiB0aGlzLl9oYW5kbGVycyl0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihuLHRoaXMuX2hhbmRsZXJzW25dKTtmb3IodCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSl0eXBlb2YgdGhpc1t0XSE9ImZ1bmN0aW9uIiYmKHRoaXNbdF09bnVsbCl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvSGVpZ2h0PWl9KSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KTsKLyoqCiAqIFZpZGVvIFBsdWdpbgogKiBAdmVyc2lvbiAyLjMuNAogKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraQogKiBAYXV0aG9yIERhdmlkIERldXRzY2gKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obix0LGkpe3ZhciByPWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl92aWRlb3M9e307dGhpcy5fcGxheWluZz1udWxsO3RoaXMuX2hhbmRsZXJzPXsiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnJlZ2lzdGVyKHt0eXBlOiJzdGF0ZSIsbmFtZToicGxheWluZyIsdGFnczpbImludGVyYWN0aW5nIl19KX0sdGhpcyksInJlc2l6ZS5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW8mJnRoaXMuaXNJbkZ1bGxTY3JlZW4oKSYmbi5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKSwicmVmcmVzaGVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5fY29yZS5pcygicmVzaXppbmciKSYmdGhpcy5fY29yZS4kc3RhZ2UuZmluZCgiLmNsb25lZCAub3dsLXZpZGVvLWZyYW1lIikucmVtb3ZlKCl9LHRoaXMpLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmbi5wcm9wZXJ0eS5uYW1lPT09InBvc2l0aW9uIiYmdGhpcy5fcGxheWluZyYmdGhpcy5zdG9wKCl9LHRoaXMpLCJwcmVwYXJlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24odCl7aWYodC5uYW1lc3BhY2Upe3ZhciBpPW4odC5jb250ZW50KS5maW5kKCIub3dsLXZpZGVvIik7aS5sZW5ndGgmJihpLmNzcygiZGlzcGxheSIsIm5vbmUiKSx0aGlzLmZldGNoKGksbih0LmNvbnRlbnQpKSl9fSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LHIuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTt0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKCJjbGljay5vd2wudmlkZW8iLCIub3dsLXZpZGVvLXBsYXktaWNvbiIsbi5wcm94eShmdW5jdGlvbihuKXt0aGlzLnBsYXkobil9LHRoaXMpKX07ci5EZWZhdWx0cz17dmlkZW86ITEsdmlkZW9IZWlnaHQ6ITEsdmlkZW9XaWR0aDohMX07ci5wcm90b3R5cGUuZmV0Y2g9ZnVuY3Rpb24obix0KXt2YXIgdT1mdW5jdGlvbigpe3JldHVybiBuLmF0dHIoImRhdGEtdmltZW8taWQiKT8idmltZW8iOm4uYXR0cigiZGF0YS12emFhci1pZCIpPyJ2emFhciI6InlvdXR1YmUifSgpLGk9bi5hdHRyKCJkYXRhLXZpbWVvLWlkIil8fG4uYXR0cigiZGF0YS15b3V0dWJlLWlkIil8fG4uYXR0cigiZGF0YS12emFhci1pZCIpLGY9bi5hdHRyKCJkYXRhLXdpZHRoIil8fHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9XaWR0aCxlPW4uYXR0cigiZGF0YS1oZWlnaHQiKXx8dGhpcy5fY29yZS5zZXR0aW5ncy52aWRlb0hlaWdodCxyPW4uYXR0cigiaHJlZiIpO2lmKHIpe2lmKGk9ci5tYXRjaCgvKGh0dHA6fGh0dHBzOnwpXC9cLyhwbGF5ZXIufHd3dy58YXBwLik/KHZpbWVvXC5jb218eW91dHUoYmVcLmNvbXxcLmJlfGJlXC5nb29nbGVhcGlzXC5jb218YmVcLW5vY29va2llXC5jb20pfHZ6YWFyXC5jb20pXC8odmlkZW9cL3x2aWRlb3NcL3xlbWJlZFwvfGNoYW5uZWxzXC8uK1wvfGdyb3Vwc1wvLitcL3x3YXRjaFw/dj18dlwvKT8oW0EtWmEtejAtOS5fJS1dKikoXCZcUyspPy8pLGlbM10uaW5kZXhPZigieW91dHUiKT4tMSl1PSJ5b3V0dWJlIjtlbHNlIGlmKGlbM10uaW5kZXhPZigidmltZW8iKT4tMSl1PSJ2aW1lbyI7ZWxzZSBpZihpWzNdLmluZGV4T2YoInZ6YWFyIik+LTEpdT0idnphYXIiO2Vsc2UgdGhyb3cgbmV3IEVycm9yKCJWaWRlbyBVUkwgbm90IHN1cHBvcnRlZC4iKTtpPWlbNl19ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgdmlkZW8gVVJMLiIpO3RoaXMuX3ZpZGVvc1tyXT17dHlwZTp1LGlkOmksd2lkdGg6ZixoZWlnaHQ6ZX07dC5hdHRyKCJkYXRhLXZpZGVvIixyKTt0aGlzLnRodW1ibmFpbChuLHRoaXMuX3ZpZGVvc1tyXSl9O3IucHJvdG90eXBlLnRodW1ibmFpbD1mdW5jdGlvbih0LGkpe3ZhciBmLG8scixjPWkud2lkdGgmJmkuaGVpZ2h0PyJ3aWR0aDoiK2kud2lkdGgrInB4O2hlaWdodDoiK2kuaGVpZ2h0KyJweDsiOiIiLGU9dC5maW5kKCJpbWciKSxzPSJzcmMiLGg9IiIsbD10aGlzLl9jb3JlLnNldHRpbmdzLHU9ZnVuY3Rpb24oaSl7bz0nPGRpdiBjbGFzcz0ib3dsLXZpZGVvLXBsYXktaWNvbiI+PFwvZGl2Pic7Zj1sLmxhenlMb2FkP24oIjxkaXYvPiIseyJjbGFzcyI6Im93bC12aWRlby10biAiK2gsc3JjVHlwZTppfSk6bigiPGRpdi8+Iix7ImNsYXNzIjoib3dsLXZpZGVvLXRuIixzdHlsZToib3BhY2l0eToxO2JhY2tncm91bmQtaW1hZ2U6dXJsKCIraSsiKSJ9KTt0LmFmdGVyKGYpO3QuYWZ0ZXIobyl9O2lmKHQud3JhcChuKCI8ZGl2Lz4iLHsiY2xhc3MiOiJvd2wtdmlkZW8td3JhcHBlciIsc3R5bGU6Y30pKSx0aGlzLl9jb3JlLnNldHRpbmdzLmxhenlMb2FkJiYocz0iZGF0YS1zcmMiLGg9Im93bC1sYXp5IiksZS5sZW5ndGgpcmV0dXJuIHUoZS5hdHRyKHMpKSxlLnJlbW92ZSgpLCExO2kudHlwZT09PSJ5b3V0dWJlIj8ocj0iLy9pbWcueW91dHViZS5jb20vdmkvIitpLmlkKyIvaHFkZWZhdWx0LmpwZyIsdShyKSk6aS50eXBlPT09InZpbWVvIj9uLmFqYXgoe3R5cGU6IkdFVCIsdXJsOiIvL3ZpbWVvLmNvbS9hcGkvdjIvdmlkZW8vIitpLmlkKyIuanNvbiIsanNvbnA6ImNhbGxiYWNrIixkYXRhVHlwZToianNvbnAiLHN1Y2Nlc3M6ZnVuY3Rpb24obil7cj1uWzBdLnRodW1ibmFpbF9sYXJnZTt1KHIpfX0pOmkudHlwZT09PSJ2emFhciImJm4uYWpheCh7dHlwZToiR0VUIix1cmw6Ii8vdnphYXIuY29tL2FwaS92aWRlb3MvIitpLmlkKyIuanNvbiIsanNvbnA6ImNhbGxiYWNrIixkYXRhVHlwZToianNvbnAiLHN1Y2Nlc3M6ZnVuY3Rpb24obil7cj1uLmZyYW1lZ3JhYl91cmw7dShyKX19KX07ci5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2NvcmUudHJpZ2dlcigic3RvcCIsbnVsbCwidmlkZW8iKTt0aGlzLl9wbGF5aW5nLmZpbmQoIi5vd2wtdmlkZW8tZnJhbWUiKS5yZW1vdmUoKTt0aGlzLl9wbGF5aW5nLnJlbW92ZUNsYXNzKCJvd2wtdmlkZW8tcGxheWluZyIpO3RoaXMuX3BsYXlpbmc9bnVsbDt0aGlzLl9jb3JlLmxlYXZlKCJwbGF5aW5nIik7dGhpcy5fY29yZS50cmlnZ2VyKCJzdG9wcGVkIixudWxsLCJ2aWRlbyIpfTtyLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3ZhciBmPW4odC50YXJnZXQpLHU9Zi5jbG9zZXN0KCIuIit0aGlzLl9jb3JlLnNldHRpbmdzLml0ZW1DbGFzcyksaT10aGlzLl92aWRlb3NbdS5hdHRyKCJkYXRhLXZpZGVvIildLGU9aS53aWR0aHx8IjEwMCUiLG89aS5oZWlnaHR8fHRoaXMuX2NvcmUuJHN0YWdlLmhlaWdodCgpLHIsczt0aGlzLl9wbGF5aW5nfHwodGhpcy5fY29yZS5lbnRlcigicGxheWluZyIpLHRoaXMuX2NvcmUudHJpZ2dlcigicGxheSIsbnVsbCwidmlkZW8iKSx1PXRoaXMuX2NvcmUuaXRlbXModGhpcy5fY29yZS5yZWxhdGl2ZSh1LmluZGV4KCkpKSx0aGlzLl9jb3JlLnJlc2V0KHUuaW5kZXgoKSkscj1uKCc8aWZyYW1lIGZyYW1lYm9yZGVyPSIwIiBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIHdlYmtpdEFsbG93RnVsbFNjcmVlbiA+PFwvaWZyYW1lPicpLHIuYXR0cigiaGVpZ2h0IixvKSxyLmF0dHIoIndpZHRoIixlKSxpLnR5cGU9PT0ieW91dHViZSI/ci5hdHRyKCJzcmMiLCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8iK2kuaWQrIj9hdXRvcGxheT0xJnJlbD0wJnY9IitpLmlkKTppLnR5cGU9PT0idmltZW8iP3IuYXR0cigic3JjIiwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyIraS5pZCsiP2F1dG9wbGF5PTEiKTppLnR5cGU9PT0idnphYXIiJiZyLmF0dHIoInNyYyIsIi8vdmlldy52emFhci5jb20vIitpLmlkKyIvcGxheWVyP2F1dG9wbGF5PXRydWUiKSxzPW4ocikud3JhcCgnPGRpdiBjbGFzcz0ib3dsLXZpZGVvLWZyYW1lIiAvPicpLmluc2VydEFmdGVyKHUuZmluZCgiLm93bC12aWRlbyIpKSx0aGlzLl9wbGF5aW5nPXUuYWRkQ2xhc3MoIm93bC12aWRlby1wbGF5aW5nIikpfTtyLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbj1mdW5jdGlvbigpe3ZhciB0PWkuZnVsbHNjcmVlbkVsZW1lbnR8fGkubW96RnVsbFNjcmVlbkVsZW1lbnR8fGkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7cmV0dXJuIHQmJm4odCkucGFyZW50KCkuaGFzQ2xhc3MoIm93bC12aWRlby1mcmFtZSIpfTtyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDt0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZigiY2xpY2sub3dsLnZpZGVvIik7Zm9yKG4gaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYobix0aGlzLl9oYW5kbGVyc1tuXSk7Zm9yKHQgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpdHlwZW9mIHRoaXNbdF0hPSJmdW5jdGlvbiImJih0aGlzW3RdPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW89cn0pKHdpbmRvdy5aZXB0b3x8d2luZG93LmpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOwovKioKICogQW5pbWF0ZSBQbHVnaW4KICogQHZlcnNpb24gMi4zLjQKICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2kKICogQGF1dGhvciBEYXZpZCBEZXV0c2NoCiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKQogKi8KKGZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PWZ1bmN0aW9uKHQpe3RoaXMuY29yZT10O3RoaXMuY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LHUuRGVmYXVsdHMsdGhpcy5jb3JlLm9wdGlvbnMpO3RoaXMuc3dhcHBpbmc9ITA7dGhpcy5wcmV2aW91cz1yO3RoaXMubmV4dD1yO3RoaXMuaGFuZGxlcnM9eyJjaGFuZ2Uub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZuLnByb3BlcnR5Lm5hbWU9PSJwb3NpdGlvbiImJih0aGlzLnByZXZpb3VzPXRoaXMuY29yZS5jdXJyZW50KCksdGhpcy5uZXh0PW4ucHJvcGVydHkudmFsdWUpfSx0aGlzKSwiZHJhZy5vd2wuY2Fyb3VzZWwgZHJhZ2dlZC5vd2wuY2Fyb3VzZWwgdHJhbnNsYXRlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJih0aGlzLnN3YXBwaW5nPW4udHlwZT09InRyYW5zbGF0ZWQiKX0sdGhpcyksInRyYW5zbGF0ZS5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuc3dhcHBpbmcmJih0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlT3V0fHx0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pJiZ0aGlzLnN3YXAoKX0sdGhpcyl9O3RoaXMuY29yZS4kZWxlbWVudC5vbih0aGlzLmhhbmRsZXJzKX07dS5EZWZhdWx0cz17YW5pbWF0ZU91dDohMSxhbmltYXRlSW46ITF9O3UucHJvdG90eXBlLnN3YXA9ZnVuY3Rpb24oKXtpZih0aGlzLmNvcmUuc2V0dGluZ3MuaXRlbXM9PT0xJiZuLnN1cHBvcnQuYW5pbWF0aW9uJiZuLnN1cHBvcnQudHJhbnNpdGlvbil7dGhpcy5jb3JlLnNwZWVkKDApO3ZhciB0LGk9bi5wcm94eSh0aGlzLmNsZWFyLHRoaXMpLGY9dGhpcy5jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMucHJldmlvdXMpLGU9dGhpcy5jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHRoaXMubmV4dCkscj10aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluLHU9dGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQ7dGhpcy5jb3JlLmN1cnJlbnQoKSE9PXRoaXMucHJldmlvdXMmJih1JiYodD10aGlzLmNvcmUuY29vcmRpbmF0ZXModGhpcy5wcmV2aW91cyktdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMubmV4dCksZi5vbmUobi5zdXBwb3J0LmFuaW1hdGlvbi5lbmQsaSkuY3NzKHtsZWZ0OnQrInB4In0pLmFkZENsYXNzKCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtb3V0IikuYWRkQ2xhc3ModSkpLHImJmUub25lKG4uc3VwcG9ydC5hbmltYXRpb24uZW5kLGkpLmFkZENsYXNzKCJhbmltYXRlZCBvd2wtYW5pbWF0ZWQtaW4iKS5hZGRDbGFzcyhyKSl9fTt1LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5jc3Moe2xlZnQ6IiJ9KS5yZW1vdmVDbGFzcygiYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW4iKS5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZUluKS5yZW1vdmVDbGFzcyh0aGlzLmNvcmUuc2V0dGluZ3MuYW5pbWF0ZU91dCk7dGhpcy5jb3JlLm9uVHJhbnNpdGlvbkVuZCgpfTt1LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDtmb3IobiBpbiB0aGlzLmhhbmRsZXJzKXRoaXMuY29yZS4kZWxlbWVudC5vZmYobix0aGlzLmhhbmRsZXJzW25dKTtmb3IodCBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSl0eXBlb2YgdGhpc1t0XSE9ImZ1bmN0aW9uIiYmKHRoaXNbdF09bnVsbCl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlPXV9KSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KTsKLyoqCiAqIEF1dG9wbGF5IFBsdWdpbgogKiBAdmVyc2lvbiAyLjMuNAogKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraQogKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2kKICogQGF1dGhvciBEYXZpZCBEZXV0c2NoCiAqIEBhdXRob3IgVG9tIERlIENhbHV3w6kKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obix0LGkpe3ZhciByPWZ1bmN0aW9uKHQpe3RoaXMuX2NvcmU9dDt0aGlzLl9jYWxsPW51bGw7dGhpcy5fdGltZT0wO3RoaXMuX3RpbWVvdXQ9MDt0aGlzLl9wYXVzZWQ9ITA7dGhpcy5faGFuZGxlcnM9eyJjaGFuZ2VkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmbi5wcm9wZXJ0eS5uYW1lPT09InNldHRpbmdzIj90aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5P3RoaXMucGxheSgpOnRoaXMuc3RvcCgpOm4ubmFtZXNwYWNlJiZuLnByb3BlcnR5Lm5hbWU9PT0icG9zaXRpb24iJiZ0aGlzLl9wYXVzZWQmJih0aGlzLl90aW1lPTApfSx0aGlzKSwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKX0sdGhpcyksInBsYXkub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKG4sdCxpKXtuLm5hbWVzcGFjZSYmdGhpcy5wbGF5KHQsaSl9LHRoaXMpLCJzdG9wLm93bC5hdXRvcGxheSI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5zdG9wKCl9LHRoaXMpLCJtb3VzZW92ZXIub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJnRoaXMucGF1c2UoKX0sdGhpcyksIm1vdXNlbGVhdmUub3dsLmF1dG9wbGF5IjpuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UmJnRoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJnRoaXMucGxheSgpfSx0aGlzKSwidG91Y2hzdGFydC5vd2wuY29yZSI6bi5wcm94eShmdW5jdGlvbigpe3RoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlJiZ0aGlzLl9jb3JlLmlzKCJyb3RhdGluZyIpJiZ0aGlzLnBhdXNlKCl9LHRoaXMpLCJ0b3VjaGVuZC5vd2wuY29yZSI6bi5wcm94eShmdW5jdGlvbigpe3RoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlJiZ0aGlzLnBsYXkoKX0sdGhpcyl9O3RoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO3RoaXMuX2NvcmUub3B0aW9ucz1uLmV4dGVuZCh7fSxyLkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyl9O3IuRGVmYXVsdHM9e2F1dG9wbGF5OiExLGF1dG9wbGF5VGltZW91dDo1ZTMsYXV0b3BsYXlIb3ZlclBhdXNlOiExLGF1dG9wbGF5U3BlZWQ6ITF9O3IucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHIpeyh0aGlzLl9jYWxsPXQuc2V0VGltZW91dChuLnByb3h5KHRoaXMuX25leHQsdGhpcyxyKSx0aGlzLl90aW1lb3V0KihNYXRoLnJvdW5kKHRoaXMucmVhZCgpL3RoaXMuX3RpbWVvdXQpKzEpLXRoaXMucmVhZCgpKSx0aGlzLl9jb3JlLmlzKCJpbnRlcmFjdGluZyIpfHxpLmhpZGRlbil8fHRoaXMuX2NvcmUubmV4dChyfHx0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5U3BlZWQpfTtyLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5fdGltZX07ci5wcm90b3R5cGUucGxheT1mdW5jdGlvbihpLHIpe3ZhciB1O3RoaXMuX2NvcmUuaXMoInJvdGF0aW5nIil8fHRoaXMuX2NvcmUuZW50ZXIoInJvdGF0aW5nIik7aT1pfHx0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5VGltZW91dDt1PU1hdGgubWluKHRoaXMuX3RpbWUlKHRoaXMuX3RpbWVvdXR8fGkpLGkpO3RoaXMuX3BhdXNlZD8odGhpcy5fdGltZT10aGlzLnJlYWQoKSx0aGlzLl9wYXVzZWQ9ITEpOnQuY2xlYXJUaW1lb3V0KHRoaXMuX2NhbGwpO3RoaXMuX3RpbWUrPXRoaXMucmVhZCgpJWktdTt0aGlzLl90aW1lb3V0PWk7dGhpcy5fY2FsbD10LnNldFRpbWVvdXQobi5wcm94eSh0aGlzLl9uZXh0LHRoaXMsciksaS11KX07ci5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJih0aGlzLl90aW1lPTAsdGhpcy5fcGF1c2VkPSEwLHQuY2xlYXJUaW1lb3V0KHRoaXMuX2NhbGwpLHRoaXMuX2NvcmUubGVhdmUoInJvdGF0aW5nIikpfTtyLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX2NvcmUuaXMoInJvdGF0aW5nIikmJiF0aGlzLl9wYXVzZWQmJih0aGlzLl90aW1lPXRoaXMucmVhZCgpLHRoaXMuX3BhdXNlZD0hMCx0LmNsZWFyVGltZW91dCh0aGlzLl9jYWxsKSl9O3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbix0O3RoaXMuc3RvcCgpO2ZvcihuIGluIHRoaXMuX2hhbmRsZXJzKXRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKG4sdGhpcy5faGFuZGxlcnNbbl0pO2Zvcih0IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKXR5cGVvZiB0aGlzW3RdIT0iZnVuY3Rpb24iJiYodGhpc1t0XT1udWxsKX07bi5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLmF1dG9wbGF5PXJ9KSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KTsKLyoqCiAqIE5hdmlnYXRpb24gUGx1Z2luCiAqIEB2ZXJzaW9uIDIuMy40CiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraQogKiBAYXV0aG9yIERhdmlkIERldXRzY2gKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciB0PWZ1bmN0aW9uKGkpe3RoaXMuX2NvcmU9aTt0aGlzLl9pbml0aWFsaXplZD0hMTt0aGlzLl9wYWdlcz1bXTt0aGlzLl9jb250cm9scz17fTt0aGlzLl90ZW1wbGF0ZXM9W107dGhpcy4kZWxlbWVudD10aGlzLl9jb3JlLiRlbGVtZW50O3RoaXMuX292ZXJyaWRlcz17bmV4dDp0aGlzLl9jb3JlLm5leHQscHJldjp0aGlzLl9jb3JlLnByZXYsdG86dGhpcy5fY29yZS50b307dGhpcy5faGFuZGxlcnM9eyJwcmVwYXJlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24odCl7dC5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5wdXNoKCc8ZGl2IGNsYXNzPSInK3RoaXMuX2NvcmUuc2V0dGluZ3MuZG90Q2xhc3MrJyI+JytuKHQuY29udGVudCkuZmluZCgiW2RhdGEtZG90XSIpLmFkZEJhY2soIltkYXRhLWRvdF0iKS5hdHRyKCJkYXRhLWRvdCIpKyI8XC9kaXY+Iil9LHRoaXMpLCJhZGRlZC5vd2wuY2Fyb3VzZWwiOm4ucHJveHkoZnVuY3Rpb24obil7bi5uYW1lc3BhY2UmJnRoaXMuX2NvcmUuc2V0dGluZ3MuZG90c0RhdGEmJnRoaXMuX3RlbXBsYXRlcy5zcGxpY2Uobi5wb3NpdGlvbiwwLHRoaXMuX3RlbXBsYXRlcy5wb3AoKSl9LHRoaXMpLCJyZW1vdmUub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKG4pe24ubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLmRvdHNEYXRhJiZ0aGlzLl90ZW1wbGF0ZXMuc3BsaWNlKG4ucG9zaXRpb24sMSl9LHRoaXMpLCJjaGFuZ2VkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmbi5wcm9wZXJ0eS5uYW1lPT0icG9zaXRpb24iJiZ0aGlzLmRyYXcoKX0sdGhpcyksImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmIXRoaXMuX2luaXRpYWxpemVkJiYodGhpcy5fY29yZS50cmlnZ2VyKCJpbml0aWFsaXplIixudWxsLCJuYXZpZ2F0aW9uIiksdGhpcy5pbml0aWFsaXplKCksdGhpcy51cGRhdGUoKSx0aGlzLmRyYXcoKSx0aGlzLl9pbml0aWFsaXplZD0hMCx0aGlzLl9jb3JlLnRyaWdnZXIoImluaXRpYWxpemVkIixudWxsLCJuYXZpZ2F0aW9uIikpfSx0aGlzKSwicmVmcmVzaGVkLm93bC5jYXJvdXNlbCI6bi5wcm94eShmdW5jdGlvbihuKXtuLm5hbWVzcGFjZSYmdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9jb3JlLnRyaWdnZXIoInJlZnJlc2giLG51bGwsIm5hdmlnYXRpb24iKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZHJhdygpLHRoaXMuX2NvcmUudHJpZ2dlcigicmVmcmVzaGVkIixudWxsLCJuYXZpZ2F0aW9uIikpfSx0aGlzKX07dGhpcy5fY29yZS5vcHRpb25zPW4uZXh0ZW5kKHt9LHQuRGVmYXVsdHMsdGhpcy5fY29yZS5vcHRpb25zKTt0aGlzLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKX07dC5EZWZhdWx0cz17bmF2OiExLG5hdlRleHQ6Wyc8c3BhbiBhcmlhLWxhYmVsPSJQcmV2aW91cyI+JiN4MjAzOTs8XC9zcGFuPicsJzxzcGFuIGFyaWEtbGFiZWw9Ik5leHQiPiYjeDIwM2E7PFwvc3Bhbj4nXSxuYXZTcGVlZDohMSxuYXZFbGVtZW50OididXR0b24gdHlwZT0iYnV0dG9uIiByb2xlPSJwcmVzZW50YXRpb24iJyxuYXZDb250YWluZXI6ITEsbmF2Q29udGFpbmVyQ2xhc3M6Im93bC1uYXYiLG5hdkNsYXNzOlsib3dsLXByZXYiLCJvd2wtbmV4dCJdLHNsaWRlQnk6MSxkb3RDbGFzczoib3dsLWRvdCIsZG90c0NsYXNzOiJvd2wtZG90cyIsZG90czohMCxkb3RzRWFjaDohMSxkb3RzRGF0YTohMSxkb3RzU3BlZWQ6ITEsZG90c0NvbnRhaW5lcjohMX07dC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBpLHQ9dGhpcy5fY29yZS5zZXR0aW5nczt0aGlzLl9jb250cm9scy4kcmVsYXRpdmU9KHQubmF2Q29udGFpbmVyP24odC5uYXZDb250YWluZXIpOm4oIjxkaXY+IikuYWRkQ2xhc3ModC5uYXZDb250YWluZXJDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCJkaXNhYmxlZCIpO3RoaXMuX2NvbnRyb2xzLiRwcmV2aW91cz1uKCI8Iit0Lm5hdkVsZW1lbnQrIj4iKS5hZGRDbGFzcyh0Lm5hdkNsYXNzWzBdKS5odG1sKHQubmF2VGV4dFswXSkucHJlcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSkub24oImNsaWNrIixuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5wcmV2KHQubmF2U3BlZWQpfSx0aGlzKSk7dGhpcy5fY29udHJvbHMuJG5leHQ9bigiPCIrdC5uYXZFbGVtZW50KyI+IikuYWRkQ2xhc3ModC5uYXZDbGFzc1sxXSkuaHRtbCh0Lm5hdlRleHRbMV0pLmFwcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSkub24oImNsaWNrIixuLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5uZXh0KHQubmF2U3BlZWQpfSx0aGlzKSk7dC5kb3RzRGF0YXx8KHRoaXMuX3RlbXBsYXRlcz1bbignPGJ1dHRvbiByb2xlPSJidXR0b24iPicpLmFkZENsYXNzKHQuZG90Q2xhc3MpLmFwcGVuZChuKCI8c3Bhbj4iKSkucHJvcCgib3V0ZXJIVE1MIildKTt0aGlzLl9jb250cm9scy4kYWJzb2x1dGU9KHQuZG90c0NvbnRhaW5lcj9uKHQuZG90c0NvbnRhaW5lcik6bigiPGRpdj4iKS5hZGRDbGFzcyh0LmRvdHNDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCJkaXNhYmxlZCIpO3RoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5vbigiY2xpY2siLCJidXR0b24iLG4ucHJveHkoZnVuY3Rpb24oaSl7dmFyIHI9bihpLnRhcmdldCkucGFyZW50KCkuaXModGhpcy5fY29udHJvbHMuJGFic29sdXRlKT9uKGkudGFyZ2V0KS5pbmRleCgpOm4oaS50YXJnZXQpLnBhcmVudCgpLmluZGV4KCk7aS5wcmV2ZW50RGVmYXVsdCgpO3RoaXMudG8ocix0LmRvdHNTcGVlZCl9LHRoaXMpKTtmb3IoaSBpbiB0aGlzLl9vdmVycmlkZXMpdGhpcy5fY29yZVtpXT1uLnByb3h5KHRoaXNbaV0sdGhpcyl9O3QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdCxuLGkscix1PXRoaXMuX2NvcmUuc2V0dGluZ3M7Zm9yKHQgaW4gdGhpcy5faGFuZGxlcnMpdGhpcy4kZWxlbWVudC5vZmYodCx0aGlzLl9oYW5kbGVyc1t0XSk7Zm9yKG4gaW4gdGhpcy5fY29udHJvbHMpbj09PSIkcmVsYXRpdmUiJiZ1Lm5hdkNvbnRhaW5lcj90aGlzLl9jb250cm9sc1tuXS5odG1sKCIiKTp0aGlzLl9jb250cm9sc1tuXS5yZW1vdmUoKTtmb3IociBpbiB0aGlzLm92ZXJpZGVzKXRoaXMuX2NvcmVbcl09dGhpcy5fb3ZlcnJpZGVzW3JdO2ZvcihpIGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKXR5cGVvZiB0aGlzW2ldIT0iZnVuY3Rpb24iJiYodGhpc1tpXT1udWxsKX07dC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQsaSxmLHI9dGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGgvMixvPXIrdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aCx1PXRoaXMuX2NvcmUubWF4aW11bSghMCksbj10aGlzLl9jb3JlLnNldHRpbmdzLGU9bi5jZW50ZXJ8fG4uYXV0b1dpZHRofHxuLmRvdHNEYXRhPzE6bi5kb3RzRWFjaHx8bi5pdGVtcztpZihuLnNsaWRlQnkhPT0icGFnZSImJihuLnNsaWRlQnk9TWF0aC5taW4obi5zbGlkZUJ5LG4uaXRlbXMpKSxuLmRvdHN8fG4uc2xpZGVCeT09InBhZ2UiKWZvcih0aGlzLl9wYWdlcz1bXSx0PXIsaT0wLGY9MDt0PG87dCsrKXtpZihpPj1lfHxpPT09MCl7aWYodGhpcy5fcGFnZXMucHVzaCh7c3RhcnQ6TWF0aC5taW4odSx0LXIpLGVuZDp0LXIrZS0xfSksTWF0aC5taW4odSx0LXIpPT09dSlicmVhaztpPTA7KytmfWkrPXRoaXMuX2NvcmUubWVyZ2Vycyh0aGlzLl9jb3JlLnJlbGF0aXZlKHQpKX19O3QucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oKXt2YXIgaSx0PXRoaXMuX2NvcmUuc2V0dGluZ3Mscj10aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoPD10Lml0ZW1zLHU9dGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksZj10Lmxvb3B8fHQucmV3aW5kO3RoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZS50b2dnbGVDbGFzcygiZGlzYWJsZWQiLCF0Lm5hdnx8cik7dC5uYXYmJih0aGlzLl9jb250cm9scy4kcHJldmlvdXMudG9nZ2xlQ2xhc3MoImRpc2FibGVkIiwhZiYmdTw9dGhpcy5fY29yZS5taW5pbXVtKCEwKSksdGhpcy5fY29udHJvbHMuJG5leHQudG9nZ2xlQ2xhc3MoImRpc2FibGVkIiwhZiYmdT49dGhpcy5fY29yZS5tYXhpbXVtKCEwKSkpO3RoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS50b2dnbGVDbGFzcygiZGlzYWJsZWQiLCF0LmRvdHN8fHIpO3QuZG90cyYmKGk9dGhpcy5fcGFnZXMubGVuZ3RoLXRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmxlbmd0aCx0LmRvdHNEYXRhJiZpIT09MD90aGlzLl9jb250cm9scy4kYWJzb2x1dGUuaHRtbCh0aGlzLl90ZW1wbGF0ZXMuam9pbigiIikpOmk+MD90aGlzLl9jb250cm9scy4kYWJzb2x1dGUuYXBwZW5kKG5ldyBBcnJheShpKzEpLmpvaW4odGhpcy5fdGVtcGxhdGVzWzBdKSk6aTwwJiZ0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5zbGljZShpKS5yZW1vdmUoKSx0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5lcShuLmluQXJyYXkodGhpcy5jdXJyZW50KCksdGhpcy5fcGFnZXMpKS5hZGRDbGFzcygiYWN0aXZlIikpfTt0LnByb3RvdHlwZS5vblRyaWdnZXI9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fY29yZS5zZXR0aW5nczt0LnBhZ2U9e2luZGV4Om4uaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcyksY291bnQ6dGhpcy5fcGFnZXMubGVuZ3RoLHNpemU6aSYmKGkuY2VudGVyfHxpLmF1dG9XaWR0aHx8aS5kb3RzRGF0YT8xOmkuZG90c0VhY2h8fGkuaXRlbXMpfX07dC5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpO3JldHVybiBuLmdyZXAodGhpcy5fcGFnZXMsbi5wcm94eShmdW5jdGlvbihuKXtyZXR1cm4gbi5zdGFydDw9dCYmbi5lbmQ+PXR9LHRoaXMpKS5wb3AoKX07dC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMuX2NvcmUuc2V0dGluZ3M7cmV0dXJuIHUuc2xpZGVCeT09InBhZ2UiPyhpPW4uaW5BcnJheSh0aGlzLmN1cnJlbnQoKSx0aGlzLl9wYWdlcykscj10aGlzLl9wYWdlcy5sZW5ndGgsdD8rK2k6LS1pLGk9dGhpcy5fcGFnZXNbKGklcityKSVyXS5zdGFydCk6KGk9dGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSkscj10aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLHQ/aSs9dS5zbGlkZUJ5OmktPXUuc2xpZGVCeSksaX07dC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXtuLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCEwKSx0KX07dC5wcm90b3R5cGUucHJldj1mdW5jdGlvbih0KXtuLnByb3h5KHRoaXMuX292ZXJyaWRlcy50byx0aGlzLl9jb3JlKSh0aGlzLmdldFBvc2l0aW9uKCExKSx0KX07dC5wcm90b3R5cGUudG89ZnVuY3Rpb24odCxpLHIpe3ZhciB1OyFyJiZ0aGlzLl9wYWdlcy5sZW5ndGg/KHU9dGhpcy5fcGFnZXMubGVuZ3RoLG4ucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLHRoaXMuX2NvcmUpKHRoaXMuX3BhZ2VzWyh0JXUrdSkldV0uc3RhcnQsaSkpOm4ucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLHRoaXMuX2NvcmUpKHQsaSl9O24uZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5OYXZpZ2F0aW9uPXR9KSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KTsKLyoqCiAqIEhhc2ggUGx1Z2luCiAqIEB2ZXJzaW9uIDIuMy40CiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraQogKiBAYXV0aG9yIERhdmlkIERldXRzY2gKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obix0LGkscil7InVzZSBzdHJpY3QiO3ZhciB1PWZ1bmN0aW9uKGkpe3RoaXMuX2NvcmU9aTt0aGlzLl9oYXNoZXM9e307dGhpcy4kZWxlbWVudD10aGlzLl9jb3JlLiRlbGVtZW50O3RoaXMuX2hhbmRsZXJzPXsiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKGkpe2kubmFtZXNwYWNlJiZ0aGlzLl9jb3JlLnNldHRpbmdzLnN0YXJ0UG9zaXRpb249PT0iVVJMSGFzaCImJm4odCkudHJpZ2dlcigiaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbiIpfSx0aGlzKSwicHJlcGFyZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKHQpe2lmKHQubmFtZXNwYWNlKXt2YXIgaT1uKHQuY29udGVudCkuZmluZCgiW2RhdGEtaGFzaF0iKS5hZGRCYWNrKCJbZGF0YS1oYXNoXSIpLmF0dHIoImRhdGEtaGFzaCIpO2lmKCFpKXJldHVybjt0aGlzLl9oYXNoZXNbaV09dC5jb250ZW50fX0sdGhpcyksImNoYW5nZWQub3dsLmNhcm91c2VsIjpuLnByb3h5KGZ1bmN0aW9uKGkpe2lmKGkubmFtZXNwYWNlJiZpLnByb3BlcnR5Lm5hbWU9PT0icG9zaXRpb24iKXt2YXIgdT10aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUodGhpcy5fY29yZS5jdXJyZW50KCkpKSxyPW4ubWFwKHRoaXMuX2hhc2hlcyxmdW5jdGlvbihuLHQpe3JldHVybiBuPT09dT90Om51bGx9KS5qb2luKCk7aWYoIXJ8fHQubG9jYXRpb24uaGFzaC5zbGljZSgxKT09PXIpcmV0dXJuO3QubG9jYXRpb24uaGFzaD1yfX0sdGhpcyl9O3RoaXMuX2NvcmUub3B0aW9ucz1uLmV4dGVuZCh7fSx1LkRlZmF1bHRzLHRoaXMuX2NvcmUub3B0aW9ucyk7dGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7bih0KS5vbigiaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbiIsbi5wcm94eShmdW5jdGlvbigpe3ZhciBpPXQubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSksdT10aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLG49dGhpcy5faGFzaGVzW2ldJiZ1LmluZGV4KHRoaXMuX2hhc2hlc1tpXSk7biE9PXImJm4hPT10aGlzLl9jb3JlLmN1cnJlbnQoKSYmdGhpcy5fY29yZS50byh0aGlzLl9jb3JlLnJlbGF0aXZlKG4pLCExLCEwKX0sdGhpcykpfTt1LkRlZmF1bHRzPXtVUkxoYXNoTGlzdGVuZXI6ITF9O3UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgaSxyO24odCkub2ZmKCJoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uIik7Zm9yKGkgaW4gdGhpcy5faGFuZGxlcnMpdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaSx0aGlzLl9oYW5kbGVyc1tpXSk7Zm9yKHIgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpdHlwZW9mIHRoaXNbcl0hPSJmdW5jdGlvbiImJih0aGlzW3JdPW51bGwpfTtuLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuSGFzaD11fSkod2luZG93LlplcHRvfHx3aW5kb3cualF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7Ci8qKgogKiBTdXBwb3J0IFBsdWdpbgogKgogKiBAdmVyc2lvbiAyLjMuNAogKiBAYXV0aG9yIFZpdmlkIFBsYW5ldCBTb2Z0d2FyZSBHbWJICiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraQogKiBAYXV0aG9yIERhdmlkIERldXRzY2gKICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpCiAqLwooZnVuY3Rpb24obix0LGkscil7ZnVuY3Rpb24gdSh0LGkpe3ZhciB1PSExLGY9dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO3JldHVybiBuLmVhY2goKHQrIiAiK2guam9pbihmKyIgIikrZikuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lmKHNbdF0hPT1yKXJldHVybiB1PWk/dDohMCwhMX0pLHV9ZnVuY3Rpb24gZShuKXtyZXR1cm4gdShuLCEwKX12YXIgcz1uKCI8c3VwcG9ydD4iKS5nZXQoMCkuc3R5bGUsaD0iV2Via2l0IE1veiBPIG1zIi5zcGxpdCgiICIpLG89e3RyYW5zaXRpb246e2VuZDp7V2Via2l0VHJhbnNpdGlvbjoid2Via2l0VHJhbnNpdGlvbkVuZCIsTW96VHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCIsT1RyYW5zaXRpb246Im9UcmFuc2l0aW9uRW5kIix0cmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIn19LGFuaW1hdGlvbjp7ZW5kOntXZWJraXRBbmltYXRpb246IndlYmtpdEFuaW1hdGlvbkVuZCIsTW96QW5pbWF0aW9uOiJhbmltYXRpb25lbmQiLE9BbmltYXRpb246Im9BbmltYXRpb25FbmQiLGFuaW1hdGlvbjoiYW5pbWF0aW9uZW5kIn19fSxmPXtjc3N0cmFuc2Zvcm1zOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJ0cmFuc2Zvcm0iKX0sY3NzdHJhbnNmb3JtczNkOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJwZXJzcGVjdGl2ZSIpfSxjc3N0cmFuc2l0aW9uczpmdW5jdGlvbigpe3JldHVybiEhdSgidHJhbnNpdGlvbiIpfSxjc3NhbmltYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuISF1KCJhbmltYXRpb24iKX19O2YuY3NzdHJhbnNpdGlvbnMoKSYmKG4uc3VwcG9ydC50cmFuc2l0aW9uPW5ldyBTdHJpbmcoZSgidHJhbnNpdGlvbiIpKSxuLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQ9by50cmFuc2l0aW9uLmVuZFtuLnN1cHBvcnQudHJhbnNpdGlvbl0pO2YuY3NzYW5pbWF0aW9ucygpJiYobi5zdXBwb3J0LmFuaW1hdGlvbj1uZXcgU3RyaW5nKGUoImFuaW1hdGlvbiIpKSxuLnN1cHBvcnQuYW5pbWF0aW9uLmVuZD1vLmFuaW1hdGlvbi5lbmRbbi5zdXBwb3J0LmFuaW1hdGlvbl0pO2YuY3NzdHJhbnNmb3JtcygpJiYobi5zdXBwb3J0LnRyYW5zZm9ybT1uZXcgU3RyaW5nKGUoInRyYW5zZm9ybSIpKSxuLnN1cHBvcnQudHJhbnNmb3JtM2Q9Zi5jc3N0cmFuc2Zvcm1zM2QoKSl9KSh3aW5kb3cuWmVwdG98fHdpbmRvdy5qUXVlcnksd2luZG93LGRvY3VtZW50KSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKTp0eXBlb2YgZXhwb3J0cyE9InVuZGVmaW5lZCI/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHQ9d2luZG93LlNsaWNrfHx7fTt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShpLHIpe3ZhciB1PXRoaXMsZjt1LmRlZmF1bHRzPXthY2Nlc3NpYmlsaXR5OiEwLGFkYXB0aXZlSGVpZ2h0OiExLGFwcGVuZEFycm93czpuKGkpLGFwcGVuZERvdHM6bihpKSxhcnJvd3M6ITAsYXNOYXZGb3I6bnVsbCxwcmV2QXJyb3c6JzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIGNsYXNzPSJzbGljay1wcmV2IiBhcmlhLWxhYmVsPSJQcmV2aW91cyIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+UHJldmlvdXM8XC9idXR0b24+JyxuZXh0QXJyb3c6JzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIGNsYXNzPSJzbGljay1uZXh0IiBhcmlhLWxhYmVsPSJOZXh0IiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj5OZXh0PFwvYnV0dG9uPicsYXV0b3BsYXk6ITEsYXV0b3BsYXlTcGVlZDozZTMsY2VudGVyTW9kZTohMSxjZW50ZXJQYWRkaW5nOiI1MHB4Iixjc3NFYXNlOiJlYXNlIixjdXN0b21QYWdpbmc6ZnVuY3Rpb24odCxpKXtyZXR1cm4gbignPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0ibm9uZSIgcm9sZT0iYnV0dG9uIiB0YWJpbmRleD0iMCIgLz4nKS50ZXh0KGkrMSl9LGRvdHM6ITEsZG90c0NsYXNzOiJzbGljay1kb3RzIixkcmFnZ2FibGU6ITAsZWFzaW5nOiJsaW5lYXIiLGVkZ2VGcmljdGlvbjouMzUsZmFkZTohMSxmb2N1c09uU2VsZWN0OiExLGluZmluaXRlOiEwLGluaXRpYWxTbGlkZTowLGxhenlMb2FkOiJvbmRlbWFuZCIsbW9iaWxlRmlyc3Q6ITEscGF1c2VPbkhvdmVyOiEwLHBhdXNlT25Gb2N1czohMCxwYXVzZU9uRG90c0hvdmVyOiExLHJlc3BvbmRUbzoid2luZG93IixyZXNwb25zaXZlOm51bGwscm93czoxLHJ0bDohMSxzbGlkZToiIixzbGlkZXNQZXJSb3c6MSxzbGlkZXNUb1Nob3c6MSxzbGlkZXNUb1Njcm9sbDoxLHNwZWVkOjUwMCxzd2lwZTohMCxzd2lwZVRvU2xpZGU6ITEsdG91Y2hNb3ZlOiEwLHRvdWNoVGhyZXNob2xkOjUsdXNlQ1NTOiEwLHVzZVRyYW5zZm9ybTohMCx2YXJpYWJsZVdpZHRoOiExLHZlcnRpY2FsOiExLHZlcnRpY2FsU3dpcGluZzohMSx3YWl0Rm9yQW5pbWF0ZTohMCx6SW5kZXg6MWUzfTt1LmluaXRpYWxzPXthbmltYXRpbmc6ITEsZHJhZ2dpbmc6ITEsYXV0b1BsYXlUaW1lcjpudWxsLGN1cnJlbnREaXJlY3Rpb246MCxjdXJyZW50TGVmdDpudWxsLGN1cnJlbnRTbGlkZTowLGRpcmVjdGlvbjoxLCRkb3RzOm51bGwsbGlzdFdpZHRoOm51bGwsbGlzdEhlaWdodDpudWxsLGxvYWRJbmRleDowLCRuZXh0QXJyb3c6bnVsbCwkcHJldkFycm93Om51bGwsc2xpZGVDb3VudDpudWxsLHNsaWRlV2lkdGg6bnVsbCwkc2xpZGVUcmFjazpudWxsLCRzbGlkZXM6bnVsbCxzbGlkaW5nOiExLHNsaWRlT2Zmc2V0OjAsc3dpcGVMZWZ0Om51bGwsJGxpc3Q6bnVsbCx0b3VjaE9iamVjdDp7fSx0cmFuc2Zvcm1zRW5hYmxlZDohMSx1bnNsaWNrZWQ6ITF9O24uZXh0ZW5kKHUsdS5pbml0aWFscyk7dS5hY3RpdmVCcmVha3BvaW50PW51bGw7dS5hbmltVHlwZT1udWxsO3UuYW5pbVByb3A9bnVsbDt1LmJyZWFrcG9pbnRzPVtdO3UuYnJlYWtwb2ludFNldHRpbmdzPVtdO3UuY3NzVHJhbnNpdGlvbnM9ITE7dS5mb2N1c3NlZD0hMTt1LmludGVycnVwdGVkPSExO3UuaGlkZGVuPSJoaWRkZW4iO3UucGF1c2VkPSEwO3UucG9zaXRpb25Qcm9wPW51bGw7dS5yZXNwb25kVG89bnVsbDt1LnJvd0NvdW50PTE7dS5zaG91bGRDbGljaz0hMDt1LiRzbGlkZXI9bihpKTt1LiRzbGlkZXNDYWNoZT1udWxsO3UudHJhbnNmb3JtVHlwZT1udWxsO3UudHJhbnNpdGlvblR5cGU9bnVsbDt1LnZpc2liaWxpdHlDaGFuZ2U9InZpc2liaWxpdHljaGFuZ2UiO3Uud2luZG93V2lkdGg9MDt1LndpbmRvd1RpbWVyPW51bGw7Zj1uKGkpLmRhdGEoInNsaWNrIil8fHt9O3Uub3B0aW9ucz1uLmV4dGVuZCh7fSx1LmRlZmF1bHRzLHIsZik7dS5jdXJyZW50U2xpZGU9dS5vcHRpb25zLmluaXRpYWxTbGlkZTt1Lm9yaWdpbmFsU2V0dGluZ3M9dS5vcHRpb25zO3R5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4hPSJ1bmRlZmluZWQiPyh1LmhpZGRlbj0ibW96SGlkZGVuIix1LnZpc2liaWxpdHlDaGFuZ2U9Im1venZpc2liaWxpdHljaGFuZ2UiKTp0eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuIT0idW5kZWZpbmVkIiYmKHUuaGlkZGVuPSJ3ZWJraXRIaWRkZW4iLHUudmlzaWJpbGl0eUNoYW5nZT0id2Via2l0dmlzaWJpbGl0eWNoYW5nZSIpO3UuYXV0b1BsYXk9bi5wcm94eSh1LmF1dG9QbGF5LHUpO3UuYXV0b1BsYXlDbGVhcj1uLnByb3h5KHUuYXV0b1BsYXlDbGVhcix1KTt1LmF1dG9QbGF5SXRlcmF0b3I9bi5wcm94eSh1LmF1dG9QbGF5SXRlcmF0b3IsdSk7dS5jaGFuZ2VTbGlkZT1uLnByb3h5KHUuY2hhbmdlU2xpZGUsdSk7dS5jbGlja0hhbmRsZXI9bi5wcm94eSh1LmNsaWNrSGFuZGxlcix1KTt1LnNlbGVjdEhhbmRsZXI9bi5wcm94eSh1LnNlbGVjdEhhbmRsZXIsdSk7dS5zZXRQb3NpdGlvbj1uLnByb3h5KHUuc2V0UG9zaXRpb24sdSk7dS5zd2lwZUhhbmRsZXI9bi5wcm94eSh1LnN3aXBlSGFuZGxlcix1KTt1LmRyYWdIYW5kbGVyPW4ucHJveHkodS5kcmFnSGFuZGxlcix1KTt1LmtleUhhbmRsZXI9bi5wcm94eSh1LmtleUhhbmRsZXIsdSk7dS5pbnN0YW5jZVVpZD10Kys7dS5odG1sRXhwcj0vXig/OlxzKig8W1x3XFddKz4pW14+XSopJC87dS5yZWdpc3RlckJyZWFrcG9pbnRzKCk7dS5pbml0KCEwKX12YXIgdD0wO3JldHVybiBpfSgpO3QucHJvdG90eXBlLmFjdGl2YXRlQURBPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1hY3RpdmUiKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJmYWxzZSJ9KS5maW5kKCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QiKS5hdHRyKHt0YWJpbmRleDoiMCJ9KX07dC5wcm90b3R5cGUuYWRkU2xpZGU9dC5wcm90b3R5cGUuc2xpY2tBZGQ9ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXRoaXM7aWYodHlwZW9mIGk9PSJib29sZWFuIilyPWksaT1udWxsO2Vsc2UgaWYoaTwwfHxpPj11LnNsaWRlQ291bnQpcmV0dXJuITE7dS51bmxvYWQoKTt0eXBlb2YgaT09Im51bWJlciI/aT09PTAmJnUuJHNsaWRlcy5sZW5ndGg9PT0wP24odCkuYXBwZW5kVG8odS4kc2xpZGVUcmFjayk6cj9uKHQpLmluc2VydEJlZm9yZSh1LiRzbGlkZXMuZXEoaSkpOm4odCkuaW5zZXJ0QWZ0ZXIodS4kc2xpZGVzLmVxKGkpKTpyPT09ITA/bih0KS5wcmVwZW5kVG8odS4kc2xpZGVUcmFjayk6bih0KS5hcHBlbmRUbyh1LiRzbGlkZVRyYWNrKTt1LiRzbGlkZXM9dS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpO3UuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKTt1LiRzbGlkZVRyYWNrLmFwcGVuZCh1LiRzbGlkZXMpO3UuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKHQsaSl7bihpKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4Iix0KX0pO3UuJHNsaWRlc0NhY2hlPXUuJHNsaWRlczt1LnJlaW5pdCgpfTt0LnByb3RvdHlwZS5hbmltYXRlSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0O24ub3B0aW9ucy5zbGlkZXNUb1Nob3c9PT0xJiZuLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmbi5vcHRpb25zLnZlcnRpY2FsPT09ITEmJih0PW4uJHNsaWRlcy5lcShuLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApLG4uJGxpc3QuYW5pbWF0ZSh7aGVpZ2h0OnR9LG4ub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5hbmltYXRlU2xpZGU9ZnVuY3Rpb24odCxpKXt2YXIgdT17fSxyPXRoaXM7ci5hbmltYXRlSGVpZ2h0KCk7ci5vcHRpb25zLnJ0bD09PSEwJiZyLm9wdGlvbnMudmVydGljYWw9PT0hMSYmKHQ9LXQpO3IudHJhbnNmb3Jtc0VuYWJsZWQ9PT0hMT9yLm9wdGlvbnMudmVydGljYWw9PT0hMT9yLiRzbGlkZVRyYWNrLmFuaW1hdGUoe2xlZnQ6dH0sci5vcHRpb25zLnNwZWVkLHIub3B0aW9ucy5lYXNpbmcsaSk6ci4kc2xpZGVUcmFjay5hbmltYXRlKHt0b3A6dH0sci5vcHRpb25zLnNwZWVkLHIub3B0aW9ucy5lYXNpbmcsaSk6ci5jc3NUcmFuc2l0aW9ucz09PSExPyhyLm9wdGlvbnMucnRsPT09ITAmJihyLmN1cnJlbnRMZWZ0PS1yLmN1cnJlbnRMZWZ0KSxuKHthbmltU3RhcnQ6ci5jdXJyZW50TGVmdH0pLmFuaW1hdGUoe2FuaW1TdGFydDp0fSx7ZHVyYXRpb246ci5vcHRpb25zLnNwZWVkLGVhc2luZzpyLm9wdGlvbnMuZWFzaW5nLHN0ZXA6ZnVuY3Rpb24obil7bj1NYXRoLmNlaWwobik7ci5vcHRpb25zLnZlcnRpY2FsPT09ITE/KHVbci5hbmltVHlwZV09InRyYW5zbGF0ZSgiK24rInB4LCAwcHgpIixyLiRzbGlkZVRyYWNrLmNzcyh1KSk6KHVbci5hbmltVHlwZV09InRyYW5zbGF0ZSgwcHgsIituKyJweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtpJiZpLmNhbGwoKX19KSk6KHIuYXBwbHlUcmFuc2l0aW9uKCksdD1NYXRoLmNlaWwodCksdVtyLmFuaW1UeXBlXT1yLm9wdGlvbnMudmVydGljYWw9PT0hMT8idHJhbnNsYXRlM2QoIit0KyJweCwgMHB4LCAwcHgpIjoidHJhbnNsYXRlM2QoMHB4LCIrdCsicHgsIDBweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpLGkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmRpc2FibGVUcmFuc2l0aW9uKCk7aS5jYWxsKCl9LHIub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5nZXROYXZUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLHQ9aS5vcHRpb25zLmFzTmF2Rm9yO3JldHVybiB0JiZ0IT09bnVsbCYmKHQ9bih0KS5ub3QoaS4kc2xpZGVyKSksdH07dC5wcm90b3R5cGUuYXNOYXZGb3I9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXIuZ2V0TmF2VGFyZ2V0KCk7aSE9PW51bGwmJnR5cGVvZiBpPT0ib2JqZWN0IiYmaS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5zbGljaygiZ2V0U2xpY2siKTtpLnVuc2xpY2tlZHx8aS5zbGlkZUhhbmRsZXIodCwhMCl9KX07dC5wcm90b3R5cGUuYXBwbHlUcmFuc2l0aW9uPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT17fTtpW3QudHJhbnNpdGlvblR5cGVdPXQub3B0aW9ucy5mYWRlPT09ITE/dC50cmFuc2Zvcm1UeXBlKyIgIit0Lm9wdGlvbnMuc3BlZWQrIm1zICIrdC5vcHRpb25zLmNzc0Vhc2U6Im9wYWNpdHkgIit0Lm9wdGlvbnMuc3BlZWQrIm1zICIrdC5vcHRpb25zLmNzc0Vhc2U7dC5vcHRpb25zLmZhZGU9PT0hMT90LiRzbGlkZVRyYWNrLmNzcyhpKTp0LiRzbGlkZXMuZXEobikuY3NzKGkpfTt0LnByb3RvdHlwZS5hdXRvUGxheT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheUNsZWFyKCk7bi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLmF1dG9QbGF5VGltZXI9c2V0SW50ZXJ2YWwobi5hdXRvUGxheUl0ZXJhdG9yLG4ub3B0aW9ucy5hdXRvcGxheVNwZWVkKSl9O3QucHJvdG90eXBlLmF1dG9QbGF5Q2xlYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXlUaW1lciYmY2xlYXJJbnRlcnZhbChuLmF1dG9QbGF5VGltZXIpfTt0LnByb3RvdHlwZS5hdXRvUGxheUl0ZXJhdG9yPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4uY3VycmVudFNsaWRlK24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtuLnBhdXNlZHx8bi5pbnRlcnJ1cHRlZHx8bi5mb2N1c3NlZHx8KG4ub3B0aW9ucy5pbmZpbml0ZT09PSExJiYobi5kaXJlY3Rpb249PT0xJiZuLmN1cnJlbnRTbGlkZSsxPT09bi5zbGlkZUNvdW50LTE/bi5kaXJlY3Rpb249MDpuLmRpcmVjdGlvbj09PTAmJih0PW4uY3VycmVudFNsaWRlLW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxuLmN1cnJlbnRTbGlkZS0xPT0wJiYobi5kaXJlY3Rpb249MSkpKSxuLnNsaWRlSGFuZGxlcih0KSl9O3QucHJvdG90eXBlLmJ1aWxkQXJyb3dzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Lm9wdGlvbnMuYXJyb3dzPT09ITAmJih0LiRwcmV2QXJyb3c9bih0Lm9wdGlvbnMucHJldkFycm93KS5hZGRDbGFzcygic2xpY2stYXJyb3ciKSx0LiRuZXh0QXJyb3c9bih0Lm9wdGlvbnMubmV4dEFycm93KS5hZGRDbGFzcygic2xpY2stYXJyb3ciKSx0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdz8odC4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiB0YWJpbmRleCIpLHQuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gdGFiaW5kZXgiKSx0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLnByZXZBcnJvdykmJnQuJHByZXZBcnJvdy5wcmVwZW5kVG8odC5vcHRpb25zLmFwcGVuZEFycm93cyksdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5uZXh0QXJyb3cpJiZ0LiRuZXh0QXJyb3cuYXBwZW5kVG8odC5vcHRpb25zLmFwcGVuZEFycm93cyksdC5vcHRpb25zLmluZmluaXRlIT09ITAmJnQuJHByZXZBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpKTp0LiRwcmV2QXJyb3cuYWRkKHQuJG5leHRBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWhpZGRlbiIpLmF0dHIoeyJhcmlhLWRpc2FibGVkIjoidHJ1ZSIsdGFiaW5kZXg6Ii0xIn0pKX07dC5wcm90b3R5cGUuYnVpbGREb3RzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpLHI7aWYodC5vcHRpb25zLmRvdHM9PT0hMCYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cpe2Zvcih0LiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLWRvdHRlZCIpLHI9bigiPHVsIC8+IikuYWRkQ2xhc3ModC5vcHRpb25zLmRvdHNDbGFzcyksaT0wO2k8PXQuZ2V0RG90Q291bnQoKTtpKz0xKXIuYXBwZW5kKG4oIjxsaSAvPiIpLmFwcGVuZCh0Lm9wdGlvbnMuY3VzdG9tUGFnaW5nLmNhbGwodGhpcyx0LGkpKSk7dC4kZG90cz1yLmFwcGVuZFRvKHQub3B0aW9ucy5hcHBlbmREb3RzKTt0LiRkb3RzLmZpbmQoImxpIikuZmlyc3QoKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpfX07dC5wcm90b3R5cGUuYnVpbGRPdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlcz10LiRzbGlkZXIuY2hpbGRyZW4odC5vcHRpb25zLnNsaWRlKyI6bm90KC5zbGljay1jbG9uZWQpIikuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIik7dC5zbGlkZUNvdW50PXQuJHNsaWRlcy5sZW5ndGg7dC4kc2xpZGVzLmVhY2goZnVuY3Rpb24odCxpKXtuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHQpLmRhdGEoIm9yaWdpbmFsU3R5bGluZyIsbihpKS5hdHRyKCJzdHlsZSIpfHwiIil9KTt0LiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLXNsaWRlciIpO3QuJHNsaWRlVHJhY2s9dC5zbGlkZUNvdW50PT09MD9uKCc8ZGl2IGNsYXNzPSJzbGljay10cmFjayIvPicpLmFwcGVuZFRvKHQuJHNsaWRlcik6dC4kc2xpZGVzLndyYXBBbGwoJzxkaXYgY2xhc3M9InNsaWNrLXRyYWNrIi8+JykucGFyZW50KCk7dC4kbGlzdD10LiRzbGlkZVRyYWNrLndyYXAoJzxkaXYgYXJpYS1saXZlPSJwb2xpdGUiIGNsYXNzPSJzbGljay1saXN0Ii8+JykucGFyZW50KCk7dC4kc2xpZGVUcmFjay5jc3MoIm9wYWNpdHkiLDApOyh0Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwfHx0Lm9wdGlvbnMuc3dpcGVUb1NsaWRlPT09ITApJiYodC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPTEpO24oImltZ1tkYXRhLWxhenldIix0LiRzbGlkZXIpLm5vdCgiW3NyY10iKS5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpO3Quc2V0dXBJbmZpbml0ZSgpO3QuYnVpbGRBcnJvd3MoKTt0LmJ1aWxkRG90cygpO3QudXBkYXRlRG90cygpO3Quc2V0U2xpZGVDbGFzc2VzKHR5cGVvZiB0LmN1cnJlbnRTbGlkZT09Im51bWJlciI/dC5jdXJyZW50U2xpZGU6MCk7dC5vcHRpb25zLmRyYWdnYWJsZT09PSEwJiZ0LiRsaXN0LmFkZENsYXNzKCJkcmFnZ2FibGUiKX07dC5wcm90b3R5cGUuYnVpbGRSb3dzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0LGkscixmLGMsdSxlLG8scyxoO2lmKGY9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHU9bi4kc2xpZGVyLmNoaWxkcmVuKCksbi5vcHRpb25zLnJvd3M+MSl7Zm9yKGU9bi5vcHRpb25zLnNsaWRlc1BlclJvdypuLm9wdGlvbnMucm93cyxjPU1hdGguY2VpbCh1Lmxlbmd0aC9lKSx0PTA7dDxjO3QrKyl7Zm9yKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksaT0wO2k8bi5vcHRpb25zLnJvd3M7aSsrKXtmb3Iocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPTA7cjxuLm9wdGlvbnMuc2xpZGVzUGVyUm93O3IrKyloPXQqZSsoaSpuLm9wdGlvbnMuc2xpZGVzUGVyUm93K3IpLHUuZ2V0KGgpJiZzLmFwcGVuZENoaWxkKHUuZ2V0KGgpKTtvLmFwcGVuZENoaWxkKHMpfWYuYXBwZW5kQ2hpbGQobyl9bi4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKGYpO24uJHNsaWRlci5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jc3Moe3dpZHRoOjEwMC9uLm9wdGlvbnMuc2xpZGVzUGVyUm93KyIlIixkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSl9fTt0LnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmU9ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzLGYsdSxlLG89ITEscz1yLiRzbGlkZXIud2lkdGgoKSxoPXdpbmRvdy5pbm5lcldpZHRofHxuKHdpbmRvdykud2lkdGgoKTtpZihyLnJlc3BvbmRUbz09PSJ3aW5kb3ciP2U9aDpyLnJlc3BvbmRUbz09PSJzbGlkZXIiP2U9czpyLnJlc3BvbmRUbz09PSJtaW4iJiYoZT1NYXRoLm1pbihoLHMpKSxyLm9wdGlvbnMucmVzcG9uc2l2ZSYmci5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoJiZyLm9wdGlvbnMucmVzcG9uc2l2ZSE9PW51bGwpe3U9bnVsbDtmb3IoZiBpbiByLmJyZWFrcG9pbnRzKXIuYnJlYWtwb2ludHMuaGFzT3duUHJvcGVydHkoZikmJihyLm9yaWdpbmFsU2V0dGluZ3MubW9iaWxlRmlyc3Q9PT0hMT9lPHIuYnJlYWtwb2ludHNbZl0mJih1PXIuYnJlYWtwb2ludHNbZl0pOmU+ci5icmVha3BvaW50c1tmXSYmKHU9ci5icmVha3BvaW50c1tmXSkpO3UhPT1udWxsP3IuYWN0aXZlQnJlYWtwb2ludCE9PW51bGw/KHUhPT1yLmFjdGl2ZUJyZWFrcG9pbnR8fGkpJiYoci5hY3RpdmVCcmVha3BvaW50PXUsci5icmVha3BvaW50U2V0dGluZ3NbdV09PT0idW5zbGljayI/ci51bnNsaWNrKHUpOihyLm9wdGlvbnM9bi5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3VdKSx0PT09ITAmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2godCkpLG89dSk6KHIuYWN0aXZlQnJlYWtwb2ludD11LHIuYnJlYWtwb2ludFNldHRpbmdzW3VdPT09InVuc2xpY2siP3IudW5zbGljayh1KTooci5vcHRpb25zPW4uZXh0ZW5kKHt9LHIub3JpZ2luYWxTZXR0aW5ncyxyLmJyZWFrcG9pbnRTZXR0aW5nc1t1XSksdD09PSEwJiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKHQpKSxvPXUpOnIuYWN0aXZlQnJlYWtwb2ludCE9PW51bGwmJihyLmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbCxyLm9wdGlvbnM9ci5vcmlnaW5hbFNldHRpbmdzLHQ9PT0hMCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaCh0KSxvPXUpO3R8fG89PT0hMXx8ci4kc2xpZGVyLnRyaWdnZXIoImJyZWFrcG9pbnQiLFtyLG9dKX19O3QucHJvdG90eXBlLmNoYW5nZVNsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PW4odC5jdXJyZW50VGFyZ2V0KSxmLGUsbyxzO3UuaXMoImEiKSYmdC5wcmV2ZW50RGVmYXVsdCgpO3UuaXMoImxpIil8fCh1PXUuY2xvc2VzdCgibGkiKSk7bz1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wO2Y9bz8wOihyLnNsaWRlQ291bnQtci5jdXJyZW50U2xpZGUpJXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtzd2l0Y2godC5kYXRhLm1lc3NhZ2Upe2Nhc2UicHJldmlvdXMiOmU9Zj09PTA/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOnIub3B0aW9ucy5zbGlkZXNUb1Nob3ctZjtyLnNsaWRlQ291bnQ+ci5vcHRpb25zLnNsaWRlc1RvU2hvdyYmci5zbGlkZUhhbmRsZXIoci5jdXJyZW50U2xpZGUtZSwhMSxpKTticmVhaztjYXNlIm5leHQiOmU9Zj09PTA/ci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOmY7ci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlK2UsITEsaSk7YnJlYWs7Y2FzZSJpbmRleCI6cz10LmRhdGEuaW5kZXg9PT0wPzA6dC5kYXRhLmluZGV4fHx1LmluZGV4KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO3Iuc2xpZGVIYW5kbGVyKHIuY2hlY2tOYXZpZ2FibGUocyksITEsaSk7dS5jaGlsZHJlbigpLnRyaWdnZXIoImZvY3VzIik7YnJlYWs7ZGVmYXVsdDpyZXR1cm59fTt0LnByb3RvdHlwZS5jaGVja05hdmlnYWJsZT1mdW5jdGlvbihuKXt2YXIgdT10aGlzLHQsaSxyO2lmKHQ9dS5nZXROYXZpZ2FibGVJbmRleGVzKCksaT0wLG4+dFt0Lmxlbmd0aC0xXSluPXRbdC5sZW5ndGgtMV07ZWxzZSBmb3IociBpbiB0KXtpZihuPHRbcl0pe249aTticmVha31pPXRbcl19cmV0dXJuIG59O3QucHJvdG90eXBlLmNsZWFuVXBFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3Qub3B0aW9ucy5kb3RzJiZ0LiRkb3RzIT09bnVsbCYmbigibGkiLHQuJGRvdHMpLm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpLm9mZigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSkub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKTt0LiRzbGlkZXIub2ZmKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIik7dC5vcHRpb25zLmFycm93cz09PSEwJiZ0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuJHByZXZBcnJvdyYmdC4kcHJldkFycm93Lm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpLHQuJG5leHRBcnJvdyYmdC4kbmV4dEFycm93Lm9mZigiY2xpY2suc2xpY2siLHQuY2hhbmdlU2xpZGUpKTt0LiRsaXN0Lm9mZigidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigidG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJ0b3VjaGVuZC5zbGljayBtb3VzZXVwLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigiY2xpY2suc2xpY2siLHQuY2xpY2tIYW5kbGVyKTtuKGRvY3VtZW50KS5vZmYodC52aXNpYmlsaXR5Q2hhbmdlLHQudmlzaWJpbGl0eSk7dC5jbGVhblVwU2xpZGVFdmVudHMoKTt0Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZ0LiRsaXN0Lm9mZigia2V5ZG93bi5zbGljayIsdC5rZXlIYW5kbGVyKTt0Lm9wdGlvbnMuZm9jdXNPblNlbGVjdD09PSEwJiZuKHQuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub2ZmKCJjbGljay5zbGljayIsdC5zZWxlY3RIYW5kbGVyKTtuKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5vcmllbnRhdGlvbkNoYW5nZSk7bih3aW5kb3cpLm9mZigicmVzaXplLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnJlc2l6ZSk7bigiW2RyYWdnYWJsZSE9dHJ1ZV0iLHQuJHNsaWRlVHJhY2spLm9mZigiZHJhZ3N0YXJ0Iix0LnByZXZlbnREZWZhdWx0KTtuKHdpbmRvdykub2ZmKCJsb2FkLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnNldFBvc2l0aW9uKTtuKGRvY3VtZW50KS5vZmYoInJlYWR5LnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnNldFBvc2l0aW9uKX07dC5wcm90b3R5cGUuY2xlYW5VcFNsaWRlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRsaXN0Lm9mZigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSk7dC4kbGlzdC5vZmYoIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpfTt0LnByb3RvdHlwZS5jbGVhblVwUm93cz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdDtuLm9wdGlvbnMucm93cz4xJiYodD1uLiRzbGlkZXMuY2hpbGRyZW4oKS5jaGlsZHJlbigpLHQucmVtb3ZlQXR0cigic3R5bGUiKSxuLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQodCkpfTt0LnByb3RvdHlwZS5jbGlja0hhbmRsZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LnNob3VsZENsaWNrPT09ITEmJihuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4uc3RvcFByb3BhZ2F0aW9uKCksbi5wcmV2ZW50RGVmYXVsdCgpKX07dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2kuYXV0b1BsYXlDbGVhcigpO2kudG91Y2hPYmplY3Q9e307aS5jbGVhblVwRXZlbnRzKCk7bigiLnNsaWNrLWNsb25lZCIsaS4kc2xpZGVyKS5kZXRhY2goKTtpLiRkb3RzJiZpLiRkb3RzLnJlbW92ZSgpO2kuJHByZXZBcnJvdyYmaS4kcHJldkFycm93Lmxlbmd0aCYmKGkuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsIiIpLGkuaHRtbEV4cHIudGVzdChpLm9wdGlvbnMucHJldkFycm93KSYmaS4kcHJldkFycm93LnJlbW92ZSgpKTtpLiRuZXh0QXJyb3cmJmkuJG5leHRBcnJvdy5sZW5ndGgmJihpLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgiKS5jc3MoImRpc3BsYXkiLCIiKSxpLmh0bWxFeHByLnRlc3QoaS5vcHRpb25zLm5leHRBcnJvdykmJmkuJG5leHRBcnJvdy5yZW1vdmUoKSk7aS4kc2xpZGVzJiYoaS4kc2xpZGVzLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZSBzbGljay1hY3RpdmUgc2xpY2stY2VudGVyIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIikucmVtb3ZlQXR0cigiZGF0YS1zbGljay1pbmRleCIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmF0dHIoInN0eWxlIixuKHRoaXMpLmRhdGEoIm9yaWdpbmFsU3R5bGluZyIpKX0pLGkuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxpLiRzbGlkZVRyYWNrLmRldGFjaCgpLGkuJGxpc3QuZGV0YWNoKCksaS4kc2xpZGVyLmFwcGVuZChpLiRzbGlkZXMpKTtpLmNsZWFuVXBSb3dzKCk7aS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1zbGlkZXIiKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIik7aS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1kb3R0ZWQiKTtpLnVuc2xpY2tlZD0hMDt0fHxpLiRzbGlkZXIudHJpZ2dlcigiZGVzdHJveSIsW2ldKX07dC5wcm90b3R5cGUuZGlzYWJsZVRyYW5zaXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXt9O2lbdC50cmFuc2l0aW9uVHlwZV09IiI7dC5vcHRpb25zLmZhZGU9PT0hMT90LiRzbGlkZVRyYWNrLmNzcyhpKTp0LiRzbGlkZXMuZXEobikuY3NzKGkpfTt0LnByb3RvdHlwZS5mYWRlU2xpZGU9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2kuY3NzVHJhbnNpdGlvbnM9PT0hMT8oaS4kc2xpZGVzLmVxKG4pLmNzcyh7ekluZGV4Omkub3B0aW9ucy56SW5kZXh9KSxpLiRzbGlkZXMuZXEobikuYW5pbWF0ZSh7b3BhY2l0eToxfSxpLm9wdGlvbnMuc3BlZWQsaS5vcHRpb25zLmVhc2luZyx0KSk6KGkuYXBwbHlUcmFuc2l0aW9uKG4pLGkuJHNsaWRlcy5lcShuKS5jc3Moe29wYWNpdHk6MSx6SW5kZXg6aS5vcHRpb25zLnpJbmRleH0pLHQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmRpc2FibGVUcmFuc2l0aW9uKG4pO3QuY2FsbCgpfSxpLm9wdGlvbnMuc3BlZWQpKX07dC5wcm90b3R5cGUuZmFkZVNsaWRlT3V0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC5jc3NUcmFuc2l0aW9ucz09PSExP3QuJHNsaWRlcy5lcShuKS5hbmltYXRlKHtvcGFjaXR5OjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMn0sdC5vcHRpb25zLnNwZWVkLHQub3B0aW9ucy5lYXNpbmcpOih0LmFwcGx5VHJhbnNpdGlvbihuKSx0LiRzbGlkZXMuZXEobikuY3NzKHtvcGFjaXR5OjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMn0pKX07dC5wcm90b3R5cGUuZmlsdGVyU2xpZGVzPXQucHJvdG90eXBlLnNsaWNrRmlsdGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7biE9PW51bGwmJih0LiRzbGlkZXNDYWNoZT10LiRzbGlkZXMsdC51bmxvYWQoKSx0LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksdC4kc2xpZGVzQ2FjaGUuZmlsdGVyKG4pLmFwcGVuZFRvKHQuJHNsaWRlVHJhY2spLHQucmVpbml0KCkpfTt0LnByb3RvdHlwZS5mb2N1c0hhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlci5vZmYoImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siKS5vbigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIsIio6bm90KC5zbGljay1hcnJvdykiLGZ1bmN0aW9uKGkpe2kuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHI9bih0aGlzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vcHRpb25zLnBhdXNlT25Gb2N1cyYmKHQuZm9jdXNzZWQ9ci5pcygiOmZvY3VzIiksdC5hdXRvUGxheSgpKX0sMCl9KX07dC5wcm90b3R5cGUuZ2V0Q3VycmVudD10LnByb3RvdHlwZS5zbGlja0N1cnJlbnRTbGlkZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG4uY3VycmVudFNsaWRlfTt0LnByb3RvdHlwZS5nZXREb3RDb3VudD1mdW5jdGlvbigpe3ZhciBuPXRoaXMsaT0wLHI9MCx0PTA7aWYobi5vcHRpb25zLmluZmluaXRlPT09ITApd2hpbGUoaTxuLnNsaWRlQ291bnQpKyt0LGk9cituLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscis9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O2Vsc2UgaWYobi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCl0PW4uc2xpZGVDb3VudDtlbHNlIGlmKG4ub3B0aW9ucy5hc05hdkZvcil3aGlsZShpPG4uc2xpZGVDb3VudCkrK3QsaT1yK24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxyKz1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm4ub3B0aW9ucy5zbGlkZXNUb1Nob3c7ZWxzZSB0PTErTWF0aC5jZWlsKChuLnNsaWRlQ291bnQtbi5vcHRpb25zLnNsaWRlc1RvU2hvdykvbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTtyZXR1cm4gdC0xfTt0LnByb3RvdHlwZS5nZXRMZWZ0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsZixyLHU9MCxpO3JldHVybiB0LnNsaWRlT2Zmc2V0PTAscj10LiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCksdC5vcHRpb25zLmluZmluaXRlPT09ITA/KHQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYodC5zbGlkZU9mZnNldD10LnNsaWRlV2lkdGgqdC5vcHRpb25zLnNsaWRlc1RvU2hvdyotMSx1PXIqdC5vcHRpb25zLnNsaWRlc1RvU2hvdyotMSksdC5zbGlkZUNvdW50JXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCE9MCYmbit0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw+dC5zbGlkZUNvdW50JiZ0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4+dC5zbGlkZUNvdW50Pyh0LnNsaWRlT2Zmc2V0PSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LShuLXQuc2xpZGVDb3VudCkpKnQuc2xpZGVXaWR0aCotMSx1PSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LShuLXQuc2xpZGVDb3VudCkpKnIqLTEpOih0LnNsaWRlT2Zmc2V0PXQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwqdC5zbGlkZVdpZHRoKi0xLHU9dC5zbGlkZUNvdW50JXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCpyKi0xKSkpOm4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdz50LnNsaWRlQ291bnQmJih0LnNsaWRlT2Zmc2V0PShuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3ctdC5zbGlkZUNvdW50KSp0LnNsaWRlV2lkdGgsdT0obit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LXQuc2xpZGVDb3VudCkqciksdC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYodC5zbGlkZU9mZnNldD0wLHU9MCksdC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmdC5vcHRpb25zLmluZmluaXRlPT09ITA/dC5zbGlkZU9mZnNldCs9dC5zbGlkZVdpZHRoKk1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKS10LnNsaWRlV2lkdGg6dC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmKHQuc2xpZGVPZmZzZXQ9MCx0LnNsaWRlT2Zmc2V0Kz10LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpKSxmPXQub3B0aW9ucy52ZXJ0aWNhbD09PSExP24qdC5zbGlkZVdpZHRoKi0xK3Quc2xpZGVPZmZzZXQ6bipyKi0xK3UsdC5vcHRpb25zLnZhcmlhYmxlV2lkdGg9PT0hMCYmKGk9dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93fHx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMT90LiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShuKTp0LiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLGY9dC5vcHRpb25zLnJ0bD09PSEwP2lbMF0/KHQuJHNsaWRlVHJhY2sud2lkdGgoKS1pWzBdLm9mZnNldExlZnQtaS53aWR0aCgpKSotMTowOmlbMF0/aVswXS5vZmZzZXRMZWZ0Ki0xOjAsdC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmKGk9dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93fHx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMT90LiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShuKTp0LiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5lcShuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crMSksZj0odC5vcHRpb25zLnJ0bD09PSEwP2lbMF0/KHQuJHNsaWRlVHJhY2sud2lkdGgoKS1pWzBdLm9mZnNldExlZnQtaS53aWR0aCgpKSotMTowOmlbMF0/aVswXS5vZmZzZXRMZWZ0Ki0xOjApKyh0LiRsaXN0LndpZHRoKCktaS5vdXRlcldpZHRoKCkpLzIpKSxmfTt0LnByb3RvdHlwZS5nZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gdC5vcHRpb25zW25dfTt0LnByb3RvdHlwZS5nZXROYXZpZ2FibGVJbmRleGVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PTAsaT0wLHU9W10scjtmb3Iobi5vcHRpb25zLmluZmluaXRlPT09ITE/cj1uLnNsaWRlQ291bnQ6KHQ9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKi0xLGk9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKi0xLHI9bi5zbGlkZUNvdW50KjIpO3Q8cjspdS5wdXNoKHQpLHQ9aStuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsaSs9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O3JldHVybiB1fTt0LnByb3RvdHlwZS5nZXRTbGljaz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LnByb3RvdHlwZS5nZXRTbGlkZUNvdW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpLHI7cmV0dXJuIHI9dC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD90LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpOjAsdC5vcHRpb25zLnN3aXBlVG9TbGlkZT09PSEwPyh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1zbGlkZSIpLmVhY2goZnVuY3Rpb24odSxmKXtpZihmLm9mZnNldExlZnQtcituKGYpLm91dGVyV2lkdGgoKS8yPnQuc3dpcGVMZWZ0Ki0xKXJldHVybiBpPWYsITF9KSxNYXRoLmFicyhuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiKS10LmN1cnJlbnRTbGlkZSl8fDEpOnQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbH07dC5wcm90b3R5cGUuZ29Ubz10LnByb3RvdHlwZS5zbGlja0dvVG89ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2kuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ImluZGV4IixpbmRleDpwYXJzZUludChuKX19LHQpfTt0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7bihpLiRzbGlkZXIpLmhhc0NsYXNzKCJzbGljay1pbml0aWFsaXplZCIpfHwobihpLiRzbGlkZXIpLmFkZENsYXNzKCJzbGljay1pbml0aWFsaXplZCIpLGkuYnVpbGRSb3dzKCksaS5idWlsZE91dCgpLGkuc2V0UHJvcHMoKSxpLnN0YXJ0TG9hZCgpLGkubG9hZFNsaWRlcigpLGkuaW5pdGlhbGl6ZUV2ZW50cygpLGkudXBkYXRlQXJyb3dzKCksaS51cGRhdGVEb3RzKCksaS5jaGVja1Jlc3BvbnNpdmUoITApLGkuZm9jdXNIYW5kbGVyKCkpO3QmJmkuJHNsaWRlci50cmlnZ2VyKCJpbml0IixbaV0pO2kub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITAmJmkuaW5pdEFEQSgpO2kub3B0aW9ucy5hdXRvcGxheSYmKGkucGF1c2VkPSExLGkuYXV0b1BsYXkoKSl9O3QucHJvdG90eXBlLmluaXRBREE9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlcy5hZGQodC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUiLHRhYmluZGV4OiItMSJ9KS5maW5kKCJhLCBpbnB1dCwgYnV0dG9uLCBzZWxlY3QiKS5hdHRyKHt0YWJpbmRleDoiLTEifSk7dC4kc2xpZGVUcmFjay5hdHRyKCJyb2xlIiwibGlzdGJveCIpO3QuJHNsaWRlcy5ub3QodC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikpLmVhY2goZnVuY3Rpb24oaSl7bih0aGlzKS5hdHRyKHtyb2xlOiJvcHRpb24iLCJhcmlhLWRlc2NyaWJlZGJ5Ijoic2xpY2stc2xpZGUiK3QuaW5zdGFuY2VVaWQraSsiIn0pfSk7dC4kZG90cyE9PW51bGwmJnQuJGRvdHMuYXR0cigicm9sZSIsInRhYmxpc3QiKS5maW5kKCJsaSIpLmVhY2goZnVuY3Rpb24oaSl7bih0aGlzKS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLCJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWNvbnRyb2xzIjoibmF2aWdhdGlvbiIrdC5pbnN0YW5jZVVpZCtpKyIiLGlkOiJzbGljay1zbGlkZSIrdC5pbnN0YW5jZVVpZCtpKyIifSl9KS5maXJzdCgpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIikuZW5kKCkuZmluZCgiYnV0dG9uIikuYXR0cigicm9sZSIsImJ1dHRvbiIpLmVuZCgpLmNsb3Nlc3QoImRpdiIpLmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dC5hY3RpdmF0ZUFEQSgpfTt0LnByb3RvdHlwZS5pbml0QXJyb3dFdmVudHM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2lmKG4ub3B0aW9ucy5hcnJvd3M9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpe24uJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIikub24oImNsaWNrLnNsaWNrIix7bWVzc2FnZToicHJldmlvdXMifSxuLmNoYW5nZVNsaWRlKTtuLiRuZXh0QXJyb3cub2ZmKCJjbGljay5zbGljayIpLm9uKCJjbGljay5zbGljayIse21lc3NhZ2U6Im5leHQifSxuLmNoYW5nZVNsaWRlKX19O3QucHJvdG90eXBlLmluaXREb3RFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQub3B0aW9ucy5kb3RzPT09ITAmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93KW4oImxpIix0LiRkb3RzKS5vbigiY2xpY2suc2xpY2siLHttZXNzYWdlOiJpbmRleCJ9LHQuY2hhbmdlU2xpZGUpO2lmKHQub3B0aW9ucy5kb3RzPT09ITAmJnQub3B0aW9ucy5wYXVzZU9uRG90c0hvdmVyPT09ITApbigibGkiLHQuJGRvdHMpLm9uKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKS5vbigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSl9O3QucHJvdG90eXBlLmluaXRTbGlkZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodC5vcHRpb25zLnBhdXNlT25Ib3Zlcil7dC4kbGlzdC5vbigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSk7dC4kbGlzdC5vbigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSl9fTt0LnByb3RvdHlwZS5pbml0aWFsaXplRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmluaXRBcnJvd0V2ZW50cygpO3QuaW5pdERvdEV2ZW50cygpO3QuaW5pdFNsaWRlRXZlbnRzKCk7dC4kbGlzdC5vbigidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2siLHthY3Rpb246InN0YXJ0In0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2siLHthY3Rpb246Im1vdmUifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIse2FjdGlvbjoiZW5kIn0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2siLHthY3Rpb246ImVuZCJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJjbGljay5zbGljayIsdC5jbGlja0hhbmRsZXIpO24oZG9jdW1lbnQpLm9uKHQudmlzaWJpbGl0eUNoYW5nZSxuLnByb3h5KHQudmlzaWJpbGl0eSx0KSk7aWYodC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCl0LiRsaXN0Lm9uKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpO2lmKHQub3B0aW9ucy5mb2N1c09uU2VsZWN0PT09ITApbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsdC5zZWxlY3RIYW5kbGVyKTtuKHdpbmRvdykub24oIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCxuLnByb3h5KHQub3JpZW50YXRpb25DaGFuZ2UsdCkpO24od2luZG93KS5vbigicmVzaXplLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCxuLnByb3h5KHQucmVzaXplLHQpKTtuKCJbZHJhZ2dhYmxlIT10cnVlXSIsdC4kc2xpZGVUcmFjaykub24oImRyYWdzdGFydCIsdC5wcmV2ZW50RGVmYXVsdCk7bih3aW5kb3cpLm9uKCJsb2FkLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnNldFBvc2l0aW9uKTtuKGRvY3VtZW50KS5vbigicmVhZHkuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQuc2V0UG9zaXRpb24pfTt0LnByb3RvdHlwZS5pbml0VUk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ub3B0aW9ucy5hcnJvd3M9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLiRwcmV2QXJyb3cuc2hvdygpLG4uJG5leHRBcnJvdy5zaG93KCkpO24ub3B0aW9ucy5kb3RzPT09ITAmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuLiRkb3RzLnNob3coKX07dC5wcm90b3R5cGUua2V5SGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO24udGFyZ2V0LnRhZ05hbWUubWF0Y2goIlRFWFRBUkVBfElOUFVUfFNFTEVDVCIpfHwobi5rZXlDb2RlPT09MzcmJnQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITA/dC5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTp0Lm9wdGlvbnMucnRsPT09ITA/Im5leHQiOiJwcmV2aW91cyJ9fSk6bi5rZXlDb2RlPT09MzkmJnQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITAmJnQuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6dC5vcHRpb25zLnJ0bD09PSEwPyJwcmV2aW91cyI6Im5leHQifX0pKX07dC5wcm90b3R5cGUubGF6eUxvYWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGkpe24oImltZ1tkYXRhLWxhenldIixpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSxyPW4odGhpcykuYXR0cigiZGF0YS1sYXp5IiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt1Lm9ubG9hZD1mdW5jdGlvbigpe2kuYW5pbWF0ZSh7b3BhY2l0eTowfSwxMDAsZnVuY3Rpb24oKXtpLmF0dHIoInNyYyIscikuYW5pbWF0ZSh7b3BhY2l0eToxfSwyMDAsZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIil9KTt0LiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRlZCIsW3QsaSxyXSl9KX07dS5vbmVycm9yPWZ1bmN0aW9uKCl7aS5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpLmFkZENsYXNzKCJzbGljay1sYXp5bG9hZC1lcnJvciIpO3QuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZEVycm9yIixbdCxpLHJdKX07dS5zcmM9cn0pfXZhciB0PXRoaXMsZSxyLGksdTt0Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwP3Qub3B0aW9ucy5pbmZpbml0ZT09PSEwPyhpPXQuY3VycmVudFNsaWRlKyh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSksdT1pK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crMik6KGk9TWF0aC5tYXgoMCx0LmN1cnJlbnRTbGlkZS0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpKSx1PTIrKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSt0LmN1cnJlbnRTbGlkZSk6KGk9dC5vcHRpb25zLmluZmluaXRlP3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crdC5jdXJyZW50U2xpZGU6dC5jdXJyZW50U2xpZGUsdT1NYXRoLmNlaWwoaSt0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSx0Lm9wdGlvbnMuZmFkZT09PSEwJiYoaT4wJiZpLS0sdTw9dC5zbGlkZUNvdW50JiZ1KyspKTtlPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5zbGljZShpLHUpO2YoZSk7dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93PyhyPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKSxmKHIpKTp0LmN1cnJlbnRTbGlkZT49dC5zbGlkZUNvdW50LXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/KHI9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1jbG9uZWQiKS5zbGljZSgwLHQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLGYocikpOnQuY3VycmVudFNsaWRlPT09MCYmKHI9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1jbG9uZWQiKS5zbGljZSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93Ki0xKSxmKHIpKX07dC5wcm90b3R5cGUubG9hZFNsaWRlcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5zZXRQb3NpdGlvbigpO24uJHNsaWRlVHJhY2suY3NzKHtvcGFjaXR5OjF9KTtuLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKTtuLmluaXRVSSgpO24ub3B0aW9ucy5sYXp5TG9hZD09PSJwcm9ncmVzc2l2ZSImJm4ucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpfTt0LnByb3RvdHlwZS5uZXh0PXQucHJvdG90eXBlLnNsaWNrTmV4dD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToibmV4dCJ9fSl9O3QucHJvdG90eXBlLm9yaWVudGF0aW9uQ2hhbmdlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmNoZWNrUmVzcG9uc2l2ZSgpO24uc2V0UG9zaXRpb24oKX07dC5wcm90b3R5cGUucGF1c2U9dC5wcm90b3R5cGUuc2xpY2tQYXVzZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheUNsZWFyKCk7bi5wYXVzZWQ9ITB9O3QucHJvdG90eXBlLnBsYXk9dC5wcm90b3R5cGUuc2xpY2tQbGF5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5KCk7bi5vcHRpb25zLmF1dG9wbGF5PSEwO24ucGF1c2VkPSExO24uZm9jdXNzZWQ9ITE7bi5pbnRlcnJ1cHRlZD0hMX07dC5wcm90b3R5cGUucG9zdFNsaWRlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC51bnNsaWNrZWR8fCh0LiRzbGlkZXIudHJpZ2dlcigiYWZ0ZXJDaGFuZ2UiLFt0LG5dKSx0LmFuaW1hdGluZz0hMSx0LnNldFBvc2l0aW9uKCksdC5zd2lwZUxlZnQ9bnVsbCx0Lm9wdGlvbnMuYXV0b3BsYXkmJnQuYXV0b1BsYXkoKSx0Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZ0LmluaXRBREEoKSl9O3QucHJvdG90eXBlLnByZXY9dC5wcm90b3R5cGUuc2xpY2tQcmV2PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJwcmV2aW91cyJ9fSl9O3QucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX07dC5wcm90b3R5cGUucHJvZ3Jlc3NpdmVMYXp5TG9hZD1mdW5jdGlvbih0KXt0PXR8fDE7dmFyIGk9dGhpcyxlPW4oImltZ1tkYXRhLWxhenldIixpLiRzbGlkZXIpLHIsdSxmO2UubGVuZ3RoPyhyPWUuZmlyc3QoKSx1PXIuYXR0cigiZGF0YS1sYXp5IiksZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSxmLm9ubG9hZD1mdW5jdGlvbigpe3IuYXR0cigic3JjIix1KS5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpO2kub3B0aW9ucy5hZGFwdGl2ZUhlaWdodD09PSEwJiZpLnNldFBvc2l0aW9uKCk7aS4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkZWQiLFtpLHIsdV0pO2kucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpfSxmLm9uZXJyb3I9ZnVuY3Rpb24oKXt0PDM/c2V0VGltZW91dChmdW5jdGlvbigpe2kucHJvZ3Jlc3NpdmVMYXp5TG9hZCh0KzEpfSw1MDApOihyLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikuYWRkQ2xhc3MoInNsaWNrLWxhenlsb2FkLWVycm9yIiksaS4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkRXJyb3IiLFtpLHIsdV0pLGkucHJvZ3Jlc3NpdmVMYXp5TG9hZCgpKX0sZi5zcmM9dSk6aS4kc2xpZGVyLnRyaWdnZXIoImFsbEltYWdlc0xvYWRlZCIsW2ldKX07dC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHIsdTt1PWkuc2xpZGVDb3VudC1pLm9wdGlvbnMuc2xpZGVzVG9TaG93OyFpLm9wdGlvbnMuaW5maW5pdGUmJmkuY3VycmVudFNsaWRlPnUmJihpLmN1cnJlbnRTbGlkZT11KTtpLnNsaWRlQ291bnQ8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihpLmN1cnJlbnRTbGlkZT0wKTtyPWkuY3VycmVudFNsaWRlO2kuZGVzdHJveSghMCk7bi5leHRlbmQoaSxpLmluaXRpYWxzLHtjdXJyZW50U2xpZGU6cn0pO2kuaW5pdCgpO3R8fGkuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6ImluZGV4IixpbmRleDpyfX0sITEpfTt0LnByb3RvdHlwZS5yZWdpc3RlckJyZWFrcG9pbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyx1LGYsaSxyPXQub3B0aW9ucy5yZXNwb25zaXZlfHxudWxsO2lmKG4udHlwZShyKT09PSJhcnJheSImJnIubGVuZ3RoKXt0LnJlc3BvbmRUbz10Lm9wdGlvbnMucmVzcG9uZFRvfHwid2luZG93Ijtmb3IodSBpbiByKWlmKGk9dC5icmVha3BvaW50cy5sZW5ndGgtMSxmPXJbdV0uYnJlYWtwb2ludCxyLmhhc093blByb3BlcnR5KHUpKXt3aGlsZShpPj0wKXQuYnJlYWtwb2ludHNbaV0mJnQuYnJlYWtwb2ludHNbaV09PT1mJiZ0LmJyZWFrcG9pbnRzLnNwbGljZShpLDEpLGktLTt0LmJyZWFrcG9pbnRzLnB1c2goZik7dC5icmVha3BvaW50U2V0dGluZ3NbZl09clt1XS5zZXR0aW5nc310LmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24obixpKXtyZXR1cm4gdC5vcHRpb25zLm1vYmlsZUZpcnN0P24taTppLW59KX19O3QucHJvdG90eXBlLnJlaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodC4kc2xpZGVzPXQuJHNsaWRlVHJhY2suY2hpbGRyZW4odC5vcHRpb25zLnNsaWRlKS5hZGRDbGFzcygic2xpY2stc2xpZGUiKSx0LnNsaWRlQ291bnQ9dC4kc2xpZGVzLmxlbmd0aCx0LmN1cnJlbnRTbGlkZT49dC5zbGlkZUNvdW50JiZ0LmN1cnJlbnRTbGlkZSE9PTAmJih0LmN1cnJlbnRTbGlkZT10LmN1cnJlbnRTbGlkZS10Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpLHQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuY3VycmVudFNsaWRlPTApLHQucmVnaXN0ZXJCcmVha3BvaW50cygpLHQuc2V0UHJvcHMoKSx0LnNldHVwSW5maW5pdGUoKSx0LmJ1aWxkQXJyb3dzKCksdC51cGRhdGVBcnJvd3MoKSx0LmluaXRBcnJvd0V2ZW50cygpLHQuYnVpbGREb3RzKCksdC51cGRhdGVEb3RzKCksdC5pbml0RG90RXZlbnRzKCksdC5jbGVhblVwU2xpZGVFdmVudHMoKSx0LmluaXRTbGlkZUV2ZW50cygpLHQuY2hlY2tSZXNwb25zaXZlKCExLCEwKSx0Lm9wdGlvbnMuZm9jdXNPblNlbGVjdD09PSEwKW4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7dC5zZXRTbGlkZUNsYXNzZXModHlwZW9mIHQuY3VycmVudFNsaWRlPT0ibnVtYmVyIj90LmN1cnJlbnRTbGlkZTowKTt0LnNldFBvc2l0aW9uKCk7dC5mb2N1c0hhbmRsZXIoKTt0LnBhdXNlZD0hdC5vcHRpb25zLmF1dG9wbGF5O3QuYXV0b1BsYXkoKTt0LiRzbGlkZXIudHJpZ2dlcigicmVJbml0IixbdF0pfTt0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO24od2luZG93KS53aWR0aCgpIT09dC53aW5kb3dXaWR0aCYmKGNsZWFyVGltZW91dCh0LndpbmRvd0RlbGF5KSx0LndpbmRvd0RlbGF5PXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC53aW5kb3dXaWR0aD1uKHdpbmRvdykud2lkdGgoKTt0LmNoZWNrUmVzcG9uc2l2ZSgpO3QudW5zbGlja2VkfHx0LnNldFBvc2l0aW9uKCl9LDUwKSl9O3QucHJvdG90eXBlLnJlbW92ZVNsaWRlPXQucHJvdG90eXBlLnNsaWNrUmVtb3ZlPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzO2lmKHR5cGVvZiBuPT0iYm9vbGVhbiI/KHQ9bixuPXQ9PT0hMD8wOnIuc2xpZGVDb3VudC0xKTpuPXQ9PT0hMD8tLW46bixyLnNsaWRlQ291bnQ8MXx8bjwwfHxuPnIuc2xpZGVDb3VudC0xKXJldHVybiExO3IudW5sb2FkKCk7aT09PSEwP3IuJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKTpyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZXEobikucmVtb3ZlKCk7ci4kc2xpZGVzPXIuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKTtyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7ci4kc2xpZGVUcmFjay5hcHBlbmQoci4kc2xpZGVzKTtyLiRzbGlkZXNDYWNoZT1yLiRzbGlkZXM7ci5yZWluaXQoKX07dC5wcm90b3R5cGUuc2V0Q1NTPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT17fSxyLHU7dC5vcHRpb25zLnJ0bD09PSEwJiYobj0tbik7cj10LnBvc2l0aW9uUHJvcD09ImxlZnQiP01hdGguY2VpbChuKSsicHgiOiIwcHgiO3U9dC5wb3NpdGlvblByb3A9PSJ0b3AiP01hdGguY2VpbChuKSsicHgiOiIwcHgiO2lbdC5wb3NpdGlvblByb3BdPW47dC50cmFuc2Zvcm1zRW5hYmxlZD09PSExP3QuJHNsaWRlVHJhY2suY3NzKGkpOihpPXt9LHQuY3NzVHJhbnNpdGlvbnM9PT0hMT8oaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlKCIrcisiLCAiK3UrIikiLHQuJHNsaWRlVHJhY2suY3NzKGkpKTooaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlM2QoIityKyIsICIrdSsiLCAwcHgpIix0LiRzbGlkZVRyYWNrLmNzcyhpKSkpfTt0LnByb3RvdHlwZS5zZXREaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0O24ub3B0aW9ucy52ZXJ0aWNhbD09PSExP24ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJm4uJGxpc3QuY3NzKHtwYWRkaW5nOiIwcHggIituLm9wdGlvbnMuY2VudGVyUGFkZGluZ30pOihuLiRsaXN0LmhlaWdodChuLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkqbi5vcHRpb25zLnNsaWRlc1RvU2hvdyksbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmbi4kbGlzdC5jc3Moe3BhZGRpbmc6bi5vcHRpb25zLmNlbnRlclBhZGRpbmcrIiAwcHgifSkpO24ubGlzdFdpZHRoPW4uJGxpc3Qud2lkdGgoKTtuLmxpc3RIZWlnaHQ9bi4kbGlzdC5oZWlnaHQoKTtuLm9wdGlvbnMudmVydGljYWw9PT0hMSYmbi5vcHRpb25zLnZhcmlhYmxlV2lkdGg9PT0hMT8obi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aC9uLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxuLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbChuLnNsaWRlV2lkdGgqbi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpOm4ub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITA/bi4kc2xpZGVUcmFjay53aWR0aCg1ZTMqbi5zbGlkZUNvdW50KToobi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aCksbi4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKG4uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSpuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5sZW5ndGgpKSk7dD1uLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKCEwKS1uLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpO24ub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITEmJm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLndpZHRoKG4uc2xpZGVXaWR0aC10KX07dC5wcm90b3R5cGUuc2V0RmFkZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsaTt0LiRzbGlkZXMuZWFjaChmdW5jdGlvbihyLHUpe2k9dC5zbGlkZVdpZHRoKnIqLTE7dC5vcHRpb25zLnJ0bD09PSEwP24odSkuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHJpZ2h0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KTpuKHUpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixsZWZ0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KX0pO3QuJHNsaWRlcy5lcSh0LmN1cnJlbnRTbGlkZSkuY3NzKHt6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0xLG9wYWNpdHk6MX0pfTt0LnByb3RvdHlwZS5zZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7bi5vcHRpb25zLnNsaWRlc1RvU2hvdz09PTEmJm4ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodD09PSEwJiZuLm9wdGlvbnMudmVydGljYWw9PT0hMSYmKHQ9bi4kc2xpZGVzLmVxKG4uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCksbi4kbGlzdC5jc3MoImhlaWdodCIsdCkpfTt0LnByb3RvdHlwZS5zZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHUsZixlLGksbz0hMSxyO2lmKG4udHlwZShhcmd1bWVudHNbMF0pPT09Im9iamVjdCI/KGU9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHI9Im11bHRpcGxlIik6bi50eXBlKGFyZ3VtZW50c1swXSk9PT0ic3RyaW5nIiYmKGU9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdLGFyZ3VtZW50c1swXT09PSJyZXNwb25zaXZlIiYmbi50eXBlKGFyZ3VtZW50c1sxXSk9PT0iYXJyYXkiP3I9InJlc3BvbnNpdmUiOnR5cGVvZiBhcmd1bWVudHNbMV0hPSJ1bmRlZmluZWQiJiYocj0ic2luZ2xlIikpLHI9PT0ic2luZ2xlIil0Lm9wdGlvbnNbZV09aTtlbHNlIGlmKHI9PT0ibXVsdGlwbGUiKW4uZWFjaChlLGZ1bmN0aW9uKG4saSl7dC5vcHRpb25zW25dPWl9KTtlbHNlIGlmKHI9PT0icmVzcG9uc2l2ZSIpZm9yKGYgaW4gaSlpZihuLnR5cGUodC5vcHRpb25zLnJlc3BvbnNpdmUpIT09ImFycmF5Iil0Lm9wdGlvbnMucmVzcG9uc2l2ZT1baVtmXV07ZWxzZXtmb3IodT10Lm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGgtMTt1Pj0wOyl0Lm9wdGlvbnMucmVzcG9uc2l2ZVt1XS5icmVha3BvaW50PT09aVtmXS5icmVha3BvaW50JiZ0Lm9wdGlvbnMucmVzcG9uc2l2ZS5zcGxpY2UodSwxKSx1LS07dC5vcHRpb25zLnJlc3BvbnNpdmUucHVzaChpW2ZdKX1vJiYodC51bmxvYWQoKSx0LnJlaW5pdCgpKX07dC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uc2V0RGltZW5zaW9ucygpO24uc2V0SGVpZ2h0KCk7bi5vcHRpb25zLmZhZGU9PT0hMT9uLnNldENTUyhuLmdldExlZnQobi5jdXJyZW50U2xpZGUpKTpuLnNldEZhZGUoKTtuLiRzbGlkZXIudHJpZ2dlcigic2V0UG9zaXRpb24iLFtuXSl9O3QucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PWRvY3VtZW50LmJvZHkuc3R5bGU7bi5wb3NpdGlvblByb3A9bi5vcHRpb25zLnZlcnRpY2FsPT09ITA/InRvcCI6ImxlZnQiO24ucG9zaXRpb25Qcm9wPT09InRvcCI/bi4kc2xpZGVyLmFkZENsYXNzKCJzbGljay12ZXJ0aWNhbCIpOm4uJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stdmVydGljYWwiKTsodC5XZWJraXRUcmFuc2l0aW9uIT09dW5kZWZpbmVkfHx0Lk1velRyYW5zaXRpb24hPT11bmRlZmluZWR8fHQubXNUcmFuc2l0aW9uIT09dW5kZWZpbmVkKSYmbi5vcHRpb25zLnVzZUNTUz09PSEwJiYobi5jc3NUcmFuc2l0aW9ucz0hMCk7bi5vcHRpb25zLmZhZGUmJih0eXBlb2Ygbi5vcHRpb25zLnpJbmRleD09Im51bWJlciI/bi5vcHRpb25zLnpJbmRleDwzJiYobi5vcHRpb25zLnpJbmRleD0zKTpuLm9wdGlvbnMuekluZGV4PW4uZGVmYXVsdHMuekluZGV4KTt0Lk9UcmFuc2Zvcm0hPT11bmRlZmluZWQmJihuLmFuaW1UeXBlPSJPVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1vLXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iT1RyYW5zaXRpb24iLHQucGVyc3BlY3RpdmVQcm9wZXJ0eT09PXVuZGVmaW5lZCYmdC53ZWJraXRQZXJzcGVjdGl2ZT09PXVuZGVmaW5lZCYmKG4uYW5pbVR5cGU9ITEpKTt0Lk1velRyYW5zZm9ybSE9PXVuZGVmaW5lZCYmKG4uYW5pbVR5cGU9Ik1velRyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItbW96LXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iTW96VHJhbnNpdGlvbiIsdC5wZXJzcGVjdGl2ZVByb3BlcnR5PT09dW5kZWZpbmVkJiZ0Lk1velBlcnNwZWN0aXZlPT09dW5kZWZpbmVkJiYobi5hbmltVHlwZT0hMSkpO3Qud2Via2l0VHJhbnNmb3JtIT09dW5kZWZpbmVkJiYobi5hbmltVHlwZT0id2Via2l0VHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii13ZWJraXQtdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJ3ZWJraXRUcmFuc2l0aW9uIix0LnBlcnNwZWN0aXZlUHJvcGVydHk9PT11bmRlZmluZWQmJnQud2Via2l0UGVyc3BlY3RpdmU9PT11bmRlZmluZWQmJihuLmFuaW1UeXBlPSExKSk7dC5tc1RyYW5zZm9ybSE9PXVuZGVmaW5lZCYmKG4uYW5pbVR5cGU9Im1zVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1tcy10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9Im1zVHJhbnNpdGlvbiIsdC5tc1RyYW5zZm9ybT09PXVuZGVmaW5lZCYmKG4uYW5pbVR5cGU9ITEpKTt0LnRyYW5zZm9ybSE9PXVuZGVmaW5lZCYmbi5hbmltVHlwZSE9PSExJiYobi5hbmltVHlwZT0idHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9InRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0idHJhbnNpdGlvbiIpO24udHJhbnNmb3Jtc0VuYWJsZWQ9bi5vcHRpb25zLnVzZVRyYW5zZm9ybSYmbi5hbmltVHlwZSE9PW51bGwmJm4uYW5pbVR5cGUhPT0hMX07dC5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsdSxpLHIsZjtpPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIik7dC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jdXJyZW50Iik7dC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD8odT1NYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiksdC5vcHRpb25zLmluZmluaXRlPT09ITAmJihuPj11JiZuPD10LnNsaWRlQ291bnQtMS11P3QuJHNsaWRlcy5zbGljZShuLXUsbit1KzEpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6KHI9dC5vcHRpb25zLnNsaWRlc1RvU2hvdytuLGkuc2xpY2Uoci11KzEscit1KzIpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpLG49PT0wP2kuZXEoaS5sZW5ndGgtMS10Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stY2VudGVyIik6bj09PXQuc2xpZGVDb3VudC0xJiZpLmVxKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSksdC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSk6bj49MCYmbjw9dC5zbGlkZUNvdW50LXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/dC4kc2xpZGVzLnNsaWNlKG4sbit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkubGVuZ3RoPD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2kuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTooZj10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2hvdyxyPXQub3B0aW9ucy5pbmZpbml0ZT09PSEwP3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crbjpuLHQub3B0aW9ucy5zbGlkZXNUb1Nob3c9PXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCYmdC5zbGlkZUNvdW50LW48dC5vcHRpb25zLnNsaWRlc1RvU2hvdz9pLnNsaWNlKHItKHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctZikscitmKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkuc2xpY2UocixyK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpO3Qub3B0aW9ucy5sYXp5TG9hZD09PSJvbmRlbWFuZCImJnQubGF6eUxvYWQoKX07dC5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsaSxyLHU7aWYodC5vcHRpb25zLmZhZGU9PT0hMCYmKHQub3B0aW9ucy5jZW50ZXJNb2RlPSExKSx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMCYmdC5vcHRpb25zLmZhZGU9PT0hMSYmKHI9bnVsbCx0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdykpe2Zvcih1PXQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITA/dC5vcHRpb25zLnNsaWRlc1RvU2hvdysxOnQub3B0aW9ucy5zbGlkZXNUb1Nob3csaT10LnNsaWRlQ291bnQ7aT50LnNsaWRlQ291bnQtdTtpLT0xKXI9aS0xLG4odC4kc2xpZGVzW3JdKS5jbG9uZSghMCkuYXR0cigiaWQiLCIiKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IixyLXQuc2xpZGVDb3VudCkucHJlcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTtmb3IoaT0wO2k8dTtpKz0xKXI9aSxuKHQuJHNsaWRlc1tyXSkuY2xvbmUoITApLmF0dHIoImlkIiwiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIscit0LnNsaWRlQ291bnQpLmFwcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTt0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKS5maW5kKCJbaWRdIikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigiaWQiLCIiKX0pfX07dC5wcm90b3R5cGUuaW50ZXJydXB0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bnx8dC5hdXRvUGxheSgpO3QuaW50ZXJydXB0ZWQ9bn07dC5wcm90b3R5cGUuc2VsZWN0SGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHU9bih0LnRhcmdldCkuaXMoIi5zbGljay1zbGlkZSIpP24odC50YXJnZXQpOm4odC50YXJnZXQpLnBhcmVudHMoIi5zbGljay1zbGlkZSIpLHI9cGFyc2VJbnQodS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IikpO2lmKHJ8fChyPTApLGkuc2xpZGVDb3VudDw9aS5vcHRpb25zLnNsaWRlc1RvU2hvdyl7aS5zZXRTbGlkZUNsYXNzZXMocik7aS5hc05hdkZvcihyKTtyZXR1cm59aS5zbGlkZUhhbmRsZXIocil9O3QucHJvdG90eXBlLnNsaWRlSGFuZGxlcj1mdW5jdGlvbihuLHQsaSl7dmFyIHUsZixzLG8saD1udWxsLHI9dGhpcyxlO2lmKCh0PXR8fCExLHIuYW5pbWF0aW5nIT09ITB8fHIub3B0aW9ucy53YWl0Rm9yQW5pbWF0ZSE9PSEwKSYmKHIub3B0aW9ucy5mYWRlIT09ITB8fHIuY3VycmVudFNsaWRlIT09bikmJiEoci5zbGlkZUNvdW50PD1yLm9wdGlvbnMuc2xpZGVzVG9TaG93KSl7aWYodD09PSExJiZyLmFzTmF2Rm9yKG4pLHU9bixoPXIuZ2V0TGVmdCh1KSxvPXIuZ2V0TGVmdChyLmN1cnJlbnRTbGlkZSksci5jdXJyZW50TGVmdD1yLnN3aXBlTGVmdD09PW51bGw/bzpyLnN3aXBlTGVmdCxyLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmci5vcHRpb25zLmNlbnRlck1vZGU9PT0hMSYmKG48MHx8bj5yLmdldERvdENvdW50KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSl7ci5vcHRpb25zLmZhZGU9PT0hMSYmKHU9ci5jdXJyZW50U2xpZGUsaSE9PSEwP3IuYW5pbWF0ZVNsaWRlKG8sZnVuY3Rpb24oKXtyLnBvc3RTbGlkZSh1KX0pOnIucG9zdFNsaWRlKHUpKTtyZXR1cm59aWYoci5vcHRpb25zLmluZmluaXRlPT09ITEmJnIub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihuPDB8fG4+ci5zbGlkZUNvdW50LXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpe3Iub3B0aW9ucy5mYWRlPT09ITEmJih1PXIuY3VycmVudFNsaWRlLGkhPT0hMD9yLmFuaW1hdGVTbGlkZShvLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUodSl9KTpyLnBvc3RTbGlkZSh1KSk7cmV0dXJufWlmKHIub3B0aW9ucy5hdXRvcGxheSYmY2xlYXJJbnRlcnZhbChyLmF1dG9QbGF5VGltZXIpLGY9dTwwP3Iuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/ci5zbGlkZUNvdW50LXIuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ci5zbGlkZUNvdW50K3U6dT49ci5zbGlkZUNvdW50P3Iuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/MDp1LXIuc2xpZGVDb3VudDp1LHIuYW5pbWF0aW5nPSEwLHIuJHNsaWRlci50cmlnZ2VyKCJiZWZvcmVDaGFuZ2UiLFtyLHIuY3VycmVudFNsaWRlLGZdKSxzPXIuY3VycmVudFNsaWRlLHIuY3VycmVudFNsaWRlPWYsci5zZXRTbGlkZUNsYXNzZXMoci5jdXJyZW50U2xpZGUpLHIub3B0aW9ucy5hc05hdkZvciYmKGU9ci5nZXROYXZUYXJnZXQoKSxlPWUuc2xpY2soImdldFNsaWNrIiksZS5zbGlkZUNvdW50PD1lLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZlLnNldFNsaWRlQ2xhc3NlcyhyLmN1cnJlbnRTbGlkZSkpLHIudXBkYXRlRG90cygpLHIudXBkYXRlQXJyb3dzKCksci5vcHRpb25zLmZhZGU9PT0hMCl7aSE9PSEwPyhyLmZhZGVTbGlkZU91dChzKSxyLmZhZGVTbGlkZShmLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUoZil9KSk6ci5wb3N0U2xpZGUoZik7ci5hbmltYXRlSGVpZ2h0KCk7cmV0dXJufWkhPT0hMD9yLmFuaW1hdGVTbGlkZShoLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUoZil9KTpyLnBvc3RTbGlkZShmKX19O3QucHJvdG90eXBlLnN0YXJ0TG9hZD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5oaWRlKCksbi4kbmV4dEFycm93LmhpZGUoKSk7bi5vcHRpb25zLmRvdHM9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4uJGRvdHMuaGlkZSgpO24uJHNsaWRlci5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpfTt0LnByb3RvdHlwZS5zd2lwZURpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBpLHIsdSxuLHQ9dGhpcztyZXR1cm4oaT10LnRvdWNoT2JqZWN0LnN0YXJ0WC10LnRvdWNoT2JqZWN0LmN1clgscj10LnRvdWNoT2JqZWN0LnN0YXJ0WS10LnRvdWNoT2JqZWN0LmN1clksdT1NYXRoLmF0YW4yKHIsaSksbj1NYXRoLnJvdW5kKHUqMTgwL01hdGguUEkpLG48MCYmKG49MzYwLU1hdGguYWJzKG4pKSxuPD00NSYmbj49MCk/dC5vcHRpb25zLnJ0bD09PSExPyJsZWZ0IjoicmlnaHQiOm48PTM2MCYmbj49MzE1P3Qub3B0aW9ucy5ydGw9PT0hMT8ibGVmdCI6InJpZ2h0IjpuPj0xMzUmJm48PTIyNT90Lm9wdGlvbnMucnRsPT09ITE/InJpZ2h0IjoibGVmdCI6dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwP24+PTM1JiZuPD0xMzU/ImRvd24iOiJ1cCI6InZlcnRpY2FsIn07dC5wcm90b3R5cGUuc3dpcGVFbmQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGksdDtpZihuLmRyYWdnaW5nPSExLG4uaW50ZXJydXB0ZWQ9ITEsbi5zaG91bGRDbGljaz1uLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPjEwPyExOiEwLG4udG91Y2hPYmplY3QuY3VyWD09PXVuZGVmaW5lZClyZXR1cm4hMTtpZihuLnRvdWNoT2JqZWN0LmVkZ2VIaXQ9PT0hMCYmbi4kc2xpZGVyLnRyaWdnZXIoImVkZ2UiLFtuLG4uc3dpcGVEaXJlY3Rpb24oKV0pLG4udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+PW4udG91Y2hPYmplY3QubWluU3dpcGUpe3Q9bi5zd2lwZURpcmVjdGlvbigpO3N3aXRjaCh0KXtjYXNlImxlZnQiOmNhc2UiZG93biI6aT1uLm9wdGlvbnMuc3dpcGVUb1NsaWRlP24uY2hlY2tOYXZpZ2FibGUobi5jdXJyZW50U2xpZGUrbi5nZXRTbGlkZUNvdW50KCkpOm4uY3VycmVudFNsaWRlK24uZ2V0U2xpZGVDb3VudCgpO24uY3VycmVudERpcmVjdGlvbj0wO2JyZWFrO2Nhc2UicmlnaHQiOmNhc2UidXAiOmk9bi5vcHRpb25zLnN3aXBlVG9TbGlkZT9uLmNoZWNrTmF2aWdhYmxlKG4uY3VycmVudFNsaWRlLW4uZ2V0U2xpZGVDb3VudCgpKTpuLmN1cnJlbnRTbGlkZS1uLmdldFNsaWRlQ291bnQoKTtuLmN1cnJlbnREaXJlY3Rpb249MX10IT0idmVydGljYWwiJiYobi5zbGlkZUhhbmRsZXIoaSksbi50b3VjaE9iamVjdD17fSxuLiRzbGlkZXIudHJpZ2dlcigic3dpcGUiLFtuLHRdKSl9ZWxzZSBuLnRvdWNoT2JqZWN0LnN0YXJ0WCE9PW4udG91Y2hPYmplY3QuY3VyWCYmKG4uc2xpZGVIYW5kbGVyKG4uY3VycmVudFNsaWRlKSxuLnRvdWNoT2JqZWN0PXt9KX07dC5wcm90b3R5cGUuc3dpcGVIYW5kbGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7aWYodC5vcHRpb25zLnN3aXBlIT09ITEmJighKCJvbnRvdWNoZW5kImluIGRvY3VtZW50KXx8dC5vcHRpb25zLnN3aXBlIT09ITEpJiYodC5vcHRpb25zLmRyYWdnYWJsZSE9PSExfHxuLnR5cGUuaW5kZXhPZigibW91c2UiKT09PS0xKSl7dC50b3VjaE9iamVjdC5maW5nZXJDb3VudD1uLm9yaWdpbmFsRXZlbnQmJm4ub3JpZ2luYWxFdmVudC50b3VjaGVzIT09dW5kZWZpbmVkP24ub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aDoxO3QudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0V2lkdGgvdC5vcHRpb25zLnRvdWNoVGhyZXNob2xkO3Qub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc9PT0hMCYmKHQudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0SGVpZ2h0L3Qub3B0aW9ucy50b3VjaFRocmVzaG9sZCk7c3dpdGNoKG4uZGF0YS5hY3Rpb24pe2Nhc2Uic3RhcnQiOnQuc3dpcGVTdGFydChuKTticmVhaztjYXNlIm1vdmUiOnQuc3dpcGVNb3ZlKG4pO2JyZWFrO2Nhc2UiZW5kIjp0LnN3aXBlRW5kKG4pfX19O3QucHJvdG90eXBlLnN3aXBlTW92ZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGYsZSxyLHUsaTtpZihpPW4ub3JpZ2luYWxFdmVudCE9PXVuZGVmaW5lZD9uLm9yaWdpbmFsRXZlbnQudG91Y2hlczpudWxsLCF0LmRyYWdnaW5nfHxpJiZpLmxlbmd0aCE9PTEpcmV0dXJuITE7aWYoZj10LmdldExlZnQodC5jdXJyZW50U2xpZGUpLHQudG91Y2hPYmplY3QuY3VyWD1pIT09dW5kZWZpbmVkP2lbMF0ucGFnZVg6bi5jbGllbnRYLHQudG91Y2hPYmplY3QuY3VyWT1pIT09dW5kZWZpbmVkP2lbMF0ucGFnZVk6bi5jbGllbnRZLHQudG91Y2hPYmplY3Quc3dpcGVMZW5ndGg9TWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3codC50b3VjaE9iamVjdC5jdXJYLXQudG91Y2hPYmplY3Quc3RhcnRYLDIpKSksdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD1NYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyh0LnRvdWNoT2JqZWN0LmN1clktdC50b3VjaE9iamVjdC5zdGFydFksMikpKSksZT10LnN3aXBlRGlyZWN0aW9uKCksZSE9PSJ2ZXJ0aWNhbCIpe2lmKG4ub3JpZ2luYWxFdmVudCE9PXVuZGVmaW5lZCYmdC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD40JiZuLnByZXZlbnREZWZhdWx0KCksdT0odC5vcHRpb25zLnJ0bD09PSExPzE6LTEpKih0LnRvdWNoT2JqZWN0LmN1clg+dC50b3VjaE9iamVjdC5zdGFydFg/MTotMSksdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodT10LnRvdWNoT2JqZWN0LmN1clk+dC50b3VjaE9iamVjdC5zdGFydFk/MTotMSkscj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLHQudG91Y2hPYmplY3QuZWRnZUhpdD0hMSx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmKHQuY3VycmVudFNsaWRlPT09MCYmZT09PSJyaWdodCJ8fHQuY3VycmVudFNsaWRlPj10LmdldERvdENvdW50KCkmJmU9PT0ibGVmdCIpJiYocj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoKnQub3B0aW9ucy5lZGdlRnJpY3Rpb24sdC50b3VjaE9iamVjdC5lZGdlSGl0PSEwKSx0LnN3aXBlTGVmdD10Lm9wdGlvbnMudmVydGljYWw9PT0hMT9mK3IqdTpmK3IqKHQuJGxpc3QuaGVpZ2h0KCkvdC5saXN0V2lkdGgpKnUsdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodC5zd2lwZUxlZnQ9ZityKnUpLHQub3B0aW9ucy5mYWRlPT09ITB8fHQub3B0aW9ucy50b3VjaE1vdmU9PT0hMSlyZXR1cm4hMTtpZih0LmFuaW1hdGluZz09PSEwKXJldHVybiB0LnN3aXBlTGVmdD1udWxsLCExO3Quc2V0Q1NTKHQuc3dpcGVMZWZ0KX19O3QucHJvdG90eXBlLnN3aXBlU3RhcnQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpO2lmKHQuaW50ZXJydXB0ZWQ9ITAsdC50b3VjaE9iamVjdC5maW5nZXJDb3VudCE9PTF8fHQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdylyZXR1cm4gdC50b3VjaE9iamVjdD17fSwhMTtuLm9yaWdpbmFsRXZlbnQhPT11bmRlZmluZWQmJm4ub3JpZ2luYWxFdmVudC50b3VjaGVzIT09dW5kZWZpbmVkJiYoaT1uLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSk7dC50b3VjaE9iamVjdC5zdGFydFg9dC50b3VjaE9iamVjdC5jdXJYPWkhPT11bmRlZmluZWQ/aS5wYWdlWDpuLmNsaWVudFg7dC50b3VjaE9iamVjdC5zdGFydFk9dC50b3VjaE9iamVjdC5jdXJZPWkhPT11bmRlZmluZWQ/aS5wYWdlWTpuLmNsaWVudFk7dC5kcmFnZ2luZz0hMH07dC5wcm90b3R5cGUudW5maWx0ZXJTbGlkZXM9dC5wcm90b3R5cGUuc2xpY2tVbmZpbHRlcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi4kc2xpZGVzQ2FjaGUhPT1udWxsJiYobi51bmxvYWQoKSxuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksbi4kc2xpZGVzQ2FjaGUuYXBwZW5kVG8obi4kc2xpZGVUcmFjayksbi5yZWluaXQoKSl9O3QucHJvdG90eXBlLnVubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bigiLnNsaWNrLWNsb25lZCIsdC4kc2xpZGVyKS5yZW1vdmUoKTt0LiRkb3RzJiZ0LiRkb3RzLnJlbW92ZSgpO3QuJHByZXZBcnJvdyYmdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5wcmV2QXJyb3cpJiZ0LiRwcmV2QXJyb3cucmVtb3ZlKCk7dC4kbmV4dEFycm93JiZ0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLm5leHRBcnJvdykmJnQuJG5leHRBcnJvdy5yZW1vdmUoKTt0LiRzbGlkZXMucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5jc3MoIndpZHRoIiwiIil9O3QucHJvdG90eXBlLnVuc2xpY2s9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LiRzbGlkZXIudHJpZ2dlcigidW5zbGljayIsW3Qsbl0pO3QuZGVzdHJveSgpfTt0LnByb3RvdHlwZS51cGRhdGVBcnJvd3M9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7dD1NYXRoLmZsb29yKG4ub3B0aW9ucy5zbGlkZXNUb1Nob3cvMik7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmIW4ub3B0aW9ucy5pbmZpbml0ZSYmKG4uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIiksbi5jdXJyZW50U2xpZGU9PT0wPyhuLiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpOm4uY3VycmVudFNsaWRlPj1uLnNsaWRlQ291bnQtbi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMT8obi4kbmV4dEFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksbi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpKTpuLmN1cnJlbnRTbGlkZT49bi5zbGlkZUNvdW50LTEmJm4ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihuLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpKX07dC5wcm90b3R5cGUudXBkYXRlRG90cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi4kZG90cyE9PW51bGwmJihuLiRkb3RzLmZpbmQoImxpIikucmVtb3ZlQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLG4uJGRvdHMuZmluZCgibGkiKS5lcShNYXRoLmZsb29yKG4uY3VycmVudFNsaWRlL24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpfTt0LnByb3RvdHlwZS52aXNpYmlsaXR5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLm9wdGlvbnMuYXV0b3BsYXkmJihuLmludGVycnVwdGVkPWRvY3VtZW50W24uaGlkZGVuXT8hMDohMSl9O24uZm4uc2xpY2s9ZnVuY3Rpb24oKXtmb3IodmFyIGk9dGhpcyxyPWFyZ3VtZW50c1swXSxmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxlPWkubGVuZ3RoLHUsbj0wO248ZTtuKyspaWYodHlwZW9mIHI9PSJvYmplY3QifHx0eXBlb2Ygcj09InVuZGVmaW5lZCI/aVtuXS5zbGljaz1uZXcgdChpW25dLHIpOnU9aVtuXS5zbGlja1tyXS5hcHBseShpW25dLnNsaWNrLGYpLHR5cGVvZiB1IT0idW5kZWZpbmVkIilyZXR1cm4gdTtyZXR1cm4gaX19KQ==
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 371929
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20220818T052536Z
    - ID: "3f4b20e9-36e6-4d45-a423-c86567373f82"
      Hint: Title
      Value: "optimized-min"
    - ID: "52807595-0f8f-4b20-8d2a-cb71d28c6103"
      Hint: __Owner
      Value: |
        extranet\Anonymous
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        extranet\Anonymous
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "c7daf917-ebf5-4b73-a56b-12ba2d729cb8"
    - ID: "ba8341a1-ff30-47b8-ae6a-f4947e4113f0"
      Hint: Description
      Value: Experience accelerator optimized file
    - ID: "badd9cf9-53e0-4d0c-bcc0-2d784c282f6a"
      Hint: __Updated by
      Value: |
        extranet\Anonymous
    - ID: "d9cf14b1-fa16-4ba6-9288-e8a174d4d522"
      Hint: __Updated
      Value: 20220818T052537Z
